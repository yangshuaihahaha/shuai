# 什么是零拷贝
CPU不需要为数据在内存之间拷贝消耗资源。java中常用的零拷贝有
## 1）mmap 内存映射
通过内存映射，将文件映射到内核缓冲区，同时，用户可以共享内核空间的数据
这样在进行网络传输时，就可以减少内核空间到用户控件的拷贝次数
## 2）sendFile
避免了从内核缓冲区拷贝到Socket缓冲区的操作，直接拷贝到协议栈，这里其实有一次cpu拷贝
但是，拷贝的信息很少，比如length，offset

## 区别
1）mmap适合小数据量的读写，sendFile适合大文件传输
2）mmap需要4次上下文切换，3次数据拷贝。snedFile需要3次上下文切换，最少两次数据拷贝
3）sendFile可以利用DMA方式，减少CPU拷贝，mmap则不能（必须从内核拷贝到Socket缓冲区）