if("undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(e){"use strict";var t=e.fn.jquery.split(" ")[0].split(".");if(t[0]<2&&t[1]<9||1==t[0]&&9==t[1]&&t[2]<1||t[0]>3)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 4")}(jQuery),+function(e){"use strict";function t(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in t)if(void 0!==e.style[n])return{end:t[n]};return!1}e.fn.emulateTransitionEnd=function(t){var n=!1,r=this;e(this).one("bsTransitionEnd",function(){n=!0});var i=function(){n||e(r).trigger(e.support.transition.end)};return setTimeout(i,t),this},e(function(){e.support.transition=t(),e.support.transition&&(e.event.special.bsTransitionEnd={bindType:e.support.transition.end,delegateType:e.support.transition.end,handle:function(t){if(e(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}})})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var n=e(this),i=n.data("bs.alert");i||n.data("bs.alert",i=new r(this)),"string"==typeof t&&i[t].call(n)})}var n='[data-dismiss="alert"]',r=function(t){e(t).on("click",n,this.close)};r.VERSION="3.3.7",r.TRANSITION_DURATION=150,r.prototype.close=function(t){function n(){o.detach().trigger("closed.bs.alert").remove()}var i=e(this),s=i.attr("data-target");s||(s=i.attr("href"),s=s&&s.replace(/.*(?=#[^\s]*$)/,""));var o=e("#"===s?[]:s);t&&t.preventDefault(),o.length||(o=i.closest(".alert")),o.trigger(t=e.Event("close.bs.alert")),t.isDefaultPrevented()||(o.removeClass("in"),e.support.transition&&o.hasClass("fade")?o.one("bsTransitionEnd",n).emulateTransitionEnd(r.TRANSITION_DURATION):n())};var i=e.fn.alert;e.fn.alert=t,e.fn.alert.Constructor=r,e.fn.alert.noConflict=function(){return e.fn.alert=i,this},e(document).on("click.bs.alert.data-api",n,r.prototype.close)}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var r=e(this),i=r.data("bs.button"),s="object"==typeof t&&t;i||r.data("bs.button",i=new n(this,s)),"toggle"==t?i.toggle():t&&i.setState(t)})}var n=function(t,r){this.$element=e(t),this.options=e.extend({},n.DEFAULTS,r),this.isLoading=!1};n.VERSION="3.3.7",n.DEFAULTS={loadingText:"loading..."},n.prototype.setState=function(t){var n="disabled",r=this.$element,i=r.is("input")?"val":"html",s=r.data();t+="Text",null==s.resetText&&r.data("resetText",r[i]()),setTimeout(e.proxy(function(){r[i](null==s[t]?this.options[t]:s[t]),"loadingText"==t?(this.isLoading=!0,r.addClass(n).attr(n,n).prop(n,!0)):this.isLoading&&(this.isLoading=!1,r.removeClass(n).removeAttr(n).prop(n,!1))},this),0)},n.prototype.toggle=function(){var e=!0,t=this.$element.closest('[data-toggle="buttons"]');if(t.length){var n=this.$element.find("input");"radio"==n.prop("type")?(n.prop("checked")&&(e=!1),t.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==n.prop("type")&&(n.prop("checked")!==this.$element.hasClass("active")&&(e=!1),this.$element.toggleClass("active")),n.prop("checked",this.$element.hasClass("active")),e&&n.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var r=e.fn.button;e.fn.button=t,e.fn.button.Constructor=n,e.fn.button.noConflict=function(){return e.fn.button=r,this},e(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(n){var r=e(n.target).closest(".btn");t.call(r,"toggle"),e(n.target).is('input[type="radio"], input[type="checkbox"]')||(n.preventDefault(),r.is("input,button")?r.trigger("focus"):r.find("input:visible,button:visible").first().trigger("focus"))}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(t){e(t.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(t.type))})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var r=e(this),i=r.data("bs.carousel"),s=e.extend({},n.DEFAULTS,r.data(),"object"==typeof t&&t),o="string"==typeof t?t:s.slide;i||r.data("bs.carousel",i=new n(this,s)),"number"==typeof t?i.to(t):o?i[o]():s.interval&&i.pause().cycle()})}var n=function(t,n){this.$element=e(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",e.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",e.proxy(this.pause,this)).on("mouseleave.bs.carousel",e.proxy(this.cycle,this))};n.VERSION="3.3.7",n.TRANSITION_DURATION=600,n.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},n.prototype.keydown=function(e){if(!/input|textarea/i.test(e.target.tagName)){switch(e.which){case 37:this.prev();break;case 39:this.next();break;default:return}e.preventDefault()}},n.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},n.prototype.getItemIndex=function(e){return this.$items=e.parent().children(".item"),this.$items.index(e||this.$active)},n.prototype.getItemForDirection=function(e,t){var n=this.getItemIndex(t),r="prev"==e&&0===n||"next"==e&&n==this.$items.length-1;if(r&&!this.options.wrap)return t;var i="prev"==e?-1:1,s=(n+i)%this.$items.length;return this.$items.eq(s)},n.prototype.to=function(e){var t=this,n=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(e>this.$items.length-1||e<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){t.to(e)}):n==e?this.pause().cycle():this.slide(e>n?"next":"prev",this.$items.eq(e))},n.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition&&(this.$element.trigger(e.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},n.prototype.next=function(){if(!this.sliding)return this.slide("next")},n.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},n.prototype.slide=function(t,r){var i=this.$element.find(".item.active"),s=r||this.getItemForDirection(t,i),o=this.interval,u="next"==t?"left":"right",f=this;if(s.hasClass("active"))return this.sliding=!1;var l=s[0],h=e.Event("slide.bs.carousel",{relatedTarget:l,direction:u});if(this.$element.trigger(h),!h.isDefaultPrevented()){if(this.sliding=!0,o&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var p=e(this.$indicators.children()[this.getItemIndex(s)]);p&&p.addClass("active")}var d=e.Event("slid.bs.carousel",{relatedTarget:l,direction:u});return e.support.transition&&this.$element.hasClass("slide")?(s.addClass(t),s[0].offsetWidth,i.addClass(u),s.addClass(u),i.one("bsTransitionEnd",function(){s.removeClass([t,u].join(" ")).addClass("active"),i.removeClass(["active",u].join(" ")),f.sliding=!1,setTimeout(function(){f.$element.trigger(d)},0)}).emulateTransitionEnd(n.TRANSITION_DURATION)):(i.removeClass("active"),s.addClass("active"),this.sliding=!1,this.$element.trigger(d)),o&&this.cycle(),this}};var r=e.fn.carousel;e.fn.carousel=t,e.fn.carousel.Constructor=n,e.fn.carousel.noConflict=function(){return e.fn.carousel=r,this};var i=function(n){var r,i=e(this),s=e(i.attr("data-target")||(r=i.attr("href"))&&r.replace(/.*(?=#[^\s]+$)/,""));if(s.hasClass("carousel")){var o=e.extend({},s.data(),i.data()),u=i.attr("data-slide-to");u&&(o.interval=!1),t.call(s,o),u&&s.data("bs.carousel").to(u),n.preventDefault()}};e(document).on("click.bs.carousel.data-api","[data-slide]",i).on("click.bs.carousel.data-api","[data-slide-to]",i),e(window).on("load",function(){e('[data-ride="carousel"]').each(function(){var n=e(this);t.call(n,n.data())})})}(jQuery),+function(e){"use strict";function t(t){var n,r=t.attr("data-target")||(n=t.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"");return e(r)}function n(t){return this.each(function(){var n=e(this),i=n.data("bs.collapse"),s=e.extend({},r.DEFAULTS,n.data(),"object"==typeof t&&t);!i&&s.toggle&&/show|hide/.test(t)&&(s.toggle=!1),i||n.data("bs.collapse",i=new r(this,s)),"string"==typeof t&&i[t]()})}var r=function(t,n){this.$element=e(t),this.options=e.extend({},r.DEFAULTS,n),this.$trigger=e('[data-toggle="collapse"][href="#'+t.id+'"],[data-toggle="collapse"][data-target="#'+t.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};r.VERSION="3.3.7",r.TRANSITION_DURATION=350,r.DEFAULTS={toggle:!0},r.prototype.dimension=function(){var e=this.$element.hasClass("width");return e?"width":"height"},r.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var t,i=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(i&&i.length&&(t=i.data("bs.collapse"),t&&t.transitioning))){var s=e.Event("show.bs.collapse");if(this.$element.trigger(s),!s.isDefaultPrevented()){i&&i.length&&(n.call(i,"hide"),t||i.data("bs.collapse",null));var o=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[o](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var u=function(){this.$element.removeClass("collapsing").addClass("collapse in")[o](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!e.support.transition)return u.call(this);var f=e.camelCase(["scroll",o].join("-"));this.$element.one("bsTransitionEnd",e.proxy(u,this)).emulateTransitionEnd(r.TRANSITION_DURATION)[o](this.$element[0][f])}}}},r.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var t=e.Event("hide.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var i=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return e.support.transition?void this.$element[n](0).one("bsTransitionEnd",e.proxy(i,this)).emulateTransitionEnd(r.TRANSITION_DURATION):i.call(this)}}},r.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},r.prototype.getParent=function(){return e(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(e.proxy(function(n,r){var i=e(r);this.addAriaAndCollapsedClass(t(i),i)},this)).end()},r.prototype.addAriaAndCollapsedClass=function(e,t){var n=e.hasClass("in");e.attr("aria-expanded",n),t.toggleClass("collapsed",!n).attr("aria-expanded",n)};var i=e.fn.collapse;e.fn.collapse=n,e.fn.collapse.Constructor=r,e.fn.collapse.noConflict=function(){return e.fn.collapse=i,this},e(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(r){var i=e(this);i.attr("data-target")||r.preventDefault();var s=t(i),o=s.data("bs.collapse"),u=o?"toggle":i.data();n.call(s,u)})}(jQuery),+function(e){"use strict";function t(t){var n=t.attr("data-target");n||(n=t.attr("href"),n=n&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var r=n&&e(n);return r&&r.length?r:t.parent()}function n(n){n&&3===n.which||(e(i).remove(),e(s).each(function(){var r=e(this),i=t(r),s={relatedTarget:this};i.hasClass("open")&&(n&&"click"==n.type&&/input|textarea/i.test(n.target.tagName)&&e.contains(i[0],n.target)||(i.trigger(n=e.Event("hide.bs.dropdown",s)),n.isDefaultPrevented()||(r.attr("aria-expanded","false"),i.removeClass("open").trigger(e.Event("hidden.bs.dropdown",s)))))}))}function r(t){return this.each(function(){var n=e(this),r=n.data("bs.dropdown");r||n.data("bs.dropdown",r=new o(this)),"string"==typeof t&&r[t].call(n)})}var i=".dropdown-backdrop",s='[data-toggle="dropdown"]',o=function(t){e(t).on("click.bs.dropdown",this.toggle)};o.VERSION="3.3.7",o.prototype.toggle=function(r){var i=e(this);if(!i.is(".disabled, :disabled")){var s=t(i),o=s.hasClass("open");if(n(),!o){"ontouchstart"in document.documentElement&&!s.closest(".navbar-nav").length&&e(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(e(this)).on("click",n);var u={relatedTarget:this};if(s.trigger(r=e.Event("show.bs.dropdown",u)),r.isDefaultPrevented())return;i.trigger("focus").attr("aria-expanded","true"),s.toggleClass("open").trigger(e.Event("shown.bs.dropdown",u))}return!1}},o.prototype.keydown=function(n){if(/(38|40|27|32)/.test(n.which)&&!/input|textarea/i.test(n.target.tagName)){var r=e(this);if(n.preventDefault(),n.stopPropagation(),!r.is(".disabled, :disabled")){var i=t(r),o=i.hasClass("open");if(!o&&27!=n.which||o&&27==n.which)return 27==n.which&&i.find(s).trigger("focus"),r.trigger("click");var u=" li:not(.disabled):visible a",l=i.find(".dropdown-menu"+u);if(l.length){var c=l.index(n.target);38==n.which&&c>0&&c--,40==n.which&&c<l.length-1&&c++,~c||(c=0),l.eq(c).trigger("focus")}}}};var u=e.fn.dropdown;e.fn.dropdown=r,e.fn.dropdown.Constructor=o,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=u,this},e(document).on("click.bs.dropdown.data-api",n).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",s,o.prototype.toggle).on("keydown.bs.dropdown.data-api",s,o.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",o.prototype.keydown)}(jQuery),+function(e){"use strict";function t(t,r){return this.each(function(){var i=e(this),s=i.data("bs.modal"),o=e.extend({},n.DEFAULTS,i.data(),"object"==typeof t&&t);s||i.data("bs.modal",s=new n(this,o)),"string"==typeof t?s[t](r):o.show&&s.show(r)})}var n=function(t,n){this.options=n,this.$body=e(document.body),this.$element=e(t),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,e.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};n.VERSION="3.3.7",n.TRANSITION_DURATION=300,n.BACKDROP_TRANSITION_DURATION=150,n.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},n.prototype.toggle=function(e){return this.isShown?this.hide():this.show(e)},n.prototype.show=function(t){var r=this,i=e.Event("show.bs.modal",{relatedTarget:t});this.$element.trigger(i),this.isShown||i.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){r.$element.one("mouseup.dismiss.bs.modal",function(t){e(t.target).is(r.$element)&&(r.ignoreBackdropClick=!0)})}),this.backdrop(function(){var i=e.support.transition&&r.$element.hasClass("fade");r.$element.parent().length||r.$element.appendTo(r.$body),r.$element.show().scrollTop(0),r.adjustDialog(),i&&r.$element[0].offsetWidth,r.$element.addClass("in"),r.enforceFocus();var s=e.Event("shown.bs.modal",{relatedTarget:t});i?r.$dialog.one("bsTransitionEnd",function(){r.$element.trigger("focus").trigger(s)}).emulateTransitionEnd(n.TRANSITION_DURATION):r.$element.trigger("focus").trigger(s)}))},n.prototype.hide=function(t){t&&t.preventDefault(),t=e.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),e(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),e.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",e.proxy(this.hideModal,this)).emulateTransitionEnd(n.TRANSITION_DURATION):this.hideModal())},n.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy(function(e){document===e.target||this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.trigger("focus")},this))},n.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",e.proxy(function(e){27==e.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},n.prototype.resize=function(){this.isShown?e(window).on("resize.bs.modal",e.proxy(this.handleUpdate,this)):e(window).off("resize.bs.modal")},n.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop(function(){e.$body.removeClass("modal-open"),e.resetAdjustments(),e.resetScrollbar(),e.$element.trigger("hidden.bs.modal")})},n.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},n.prototype.backdrop=function(t){var r=this,i=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var s=e.support.transition&&i;if(this.$backdrop=e(document.createElement("div")).addClass("modal-backdrop "+i).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",e.proxy(function(e){return this.ignoreBackdropClick?void (this.ignoreBackdropClick=!1):void (e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),s&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;s?this.$backdrop.one("bsTransitionEnd",t).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):t()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var o=function(){r.removeBackdrop(),t&&t()};e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",o).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):o()}else t&&t()},n.prototype.handleUpdate=function(){this.adjustDialog()},n.prototype.adjustDialog=function(){var e=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&e?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!e?this.scrollbarWidth:""})},n.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},n.prototype.checkScrollbar=function(){var e=window.innerWidth;if(!e){var t=document.documentElement.getBoundingClientRect();e=t.right-Math.abs(t.left)}this.bodyIsOverflowing=document.body.clientWidth<e,this.scrollbarWidth=this.measureScrollbar()},n.prototype.setScrollbar=function(){var e=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",e+this.scrollbarWidth)},n.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},n.prototype.measureScrollbar=function(){var e=document.createElement("div");e.className="modal-scrollbar-measure",this.$body.append(e);var t=e.offsetWidth-e.clientWidth;return this.$body[0].removeChild(e),t};var r=e.fn.modal;e.fn.modal=t,e.fn.modal.Constructor=n,e.fn.modal.noConflict=function(){return e.fn.modal=r,this},e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(n){var r=e(this),i=r.attr("href"),s=e(r.attr("data-target")||i&&i.replace(/.*(?=#[^\s]+$)/,"")),o=s.data("bs.modal")?"toggle":e.extend({remote:!/#/.test(i)&&i},s.data(),r.data());r.is("a")&&n.preventDefault(),s.one("show.bs.modal",function(e){e.isDefaultPrevented()||s.one("hidden.bs.modal",function(){r.is(":visible")&&r.trigger("focus")})}),t.call(s,o,this)})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var r=e(this),i=r.data("bs.tooltip"),s="object"==typeof t&&t;!i&&/destroy|hide/.test(t)||(i||r.data("bs.tooltip",i=new n(this,s)),"string"==typeof t&&i[t]())})}var n=function(e,t){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",e,t)};n.VERSION="3.3.7",n.TRANSITION_DURATION=150,n.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},n.prototype.init=function(t,n,r){if(this.enabled=!0,this.type=t,this.$element=e(n),this.options=this.getOptions(r),this.$viewport=this.options.viewport&&e(e.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var i=this.options.trigger.split(" "),s=i.length;s--;){var o=i[s];if("click"==o)this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this));else if("manual"!=o){var u="hover"==o?"mouseenter":"focusin",f="hover"==o?"mouseleave":"focusout";this.$element.on(u+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(f+"."+this.type,this.options.selector,e.proxy(this.leave,this))}}this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.getOptions=function(t){return t=e.extend({},this.getDefaults(),this.$element.data(),t),t.delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},n.prototype.getDelegateOptions=function(){var t={},n=this.getDefaults();return this._options&&e.each(this._options,function(e,r){n[e]!=r&&(t[e]=r)}),t},n.prototype.enter=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n)),t instanceof e.Event&&(n.inState["focusin"==t.type?"focus":"hover"]=!0),n.tip().hasClass("in")||"in"==n.hoverState?void (n.hoverState="in"):(clearTimeout(n.timeout),n.hoverState="in",n.options.delay&&n.options.delay.show?void (n.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show)):n.show())},n.prototype.isInStateTrue=function(){for(var e in this.inState)if(this.inState[e])return!0;return!1},n.prototype.leave=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);if(n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n)),t instanceof e.Event&&(n.inState["focusout"==t.type?"focus":"hover"]=!1),!n.isInStateTrue())return clearTimeout(n.timeout),n.hoverState="out",n.options.delay&&n.options.delay.hide?void (n.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide)):n.hide()},n.prototype.show=function(){var t=e.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(t);var r=e.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(t.isDefaultPrevented()||!r)return;var i=this,s=this.tip(),o=this.getUID(this.type);this.setContent(),s.attr("id",o),this.$element.attr("aria-describedby",o),this.options.animation&&s.addClass("fade");var u="function"==typeof this.options.placement?this.options.placement.call(this,s[0],this.$element[0]):this.options.placement,f=/\s?auto?\s?/i,l=f.test(u);l&&(u=u.replace(f,"")||"top"),s.detach().css({top:0,left:0,display:"block"}).addClass(u).data("bs."+this.type,this),this.options.container?s.appendTo(this.options.container):s.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var h=this.getPosition(),p=s[0].offsetWidth,d=s[0].offsetHeight;if(l){var v=u,m=this.getPosition(this.$viewport);u="bottom"==u&&h.bottom+d>m.bottom?"top":"top"==u&&h.top-d<m.top?"bottom":"right"==u&&h.right+p>m.width?"left":"left"==u&&h.left-p<m.left?"right":u,s.removeClass(v).addClass(u)}var g=this.getCalculatedOffset(u,h,p,d);this.applyPlacement(g,u);var y=function(){var e=i.hoverState;i.$element.trigger("shown.bs."+i.type),i.hoverState=null,"out"==e&&i.leave(i)};e.support.transition&&this.$tip.hasClass("fade")?s.one("bsTransitionEnd",y).emulateTransitionEnd(n.TRANSITION_DURATION):y()}},n.prototype.applyPlacement=function(t,n){var r=this.tip(),i=r[0].offsetWidth,s=r[0].offsetHeight,o=parseInt(r.css("margin-top"),10),u=parseInt(r.css("margin-left"),10);isNaN(o)&&(o=0),isNaN(u)&&(u=0),t.top+=o,t.left+=u,e.offset.setOffset(r[0],e.extend({using:function(e){r.css({top:Math.round(e.top),left:Math.round(e.left)})}},t),0),r.addClass("in");var f=r[0].offsetWidth,l=r[0].offsetHeight;"top"==n&&l!=s&&(t.top=t.top+s-l);var c=this.getViewportAdjustedDelta(n,t,f,l);c.left?t.left+=c.left:t.top+=c.top;var h=/top|bottom/.test(n),p=h?2*c.left-i+f:2*c.top-s+l,d=h?"offsetWidth":"offsetHeight";r.offset(t),this.replaceArrow(p,r[0][d],h)},n.prototype.replaceArrow=function(e,t,n){this.arrow().css(n?"left":"top",50*(1-e/t)+"%").css(n?"top":"left","")},n.prototype.setContent=function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},n.prototype.hide=function(t){function r(){"in"!=i.hoverState&&s.detach(),i.$element&&i.$element.removeAttr("aria-describedby").trigger("hidden.bs."+i.type),t&&t()}var i=this,s=e(this.$tip),o=e.Event("hide.bs."+this.type);if(this.$element.trigger(o),!o.isDefaultPrevented())return s.removeClass("in"),e.support.transition&&s.hasClass("fade")?s.one("bsTransitionEnd",r).emulateTransitionEnd(n.TRANSITION_DURATION):r(),this.hoverState=null,this},n.prototype.fixTitle=function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},n.prototype.hasContent=function(){return this.getTitle()},n.prototype.getPosition=function(t){t=t||this.$element;var n=t[0],r="BODY"==n.tagName,i=n.getBoundingClientRect();null==i.width&&(i=e.extend({},i,{width:i.right-i.left,height:i.bottom-i.top}));var s=window.SVGElement&&n instanceof window.SVGElement,o=r?{top:0,left:0}:s?null:t.offset(),u={scroll:r?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop()},f=r?{width:e(window).width(),height:e(window).height()}:null;return e.extend({},i,u,f,o)},n.prototype.getCalculatedOffset=function(e,t,n,r){return"bottom"==e?{top:t.top+t.height,left:t.left+t.width/2-n/2}:"top"==e?{top:t.top-r,left:t.left+t.width/2-n/2}:"left"==e?{top:t.top+t.height/2-r/2,left:t.left-n}:{top:t.top+t.height/2-r/2,left:t.left+t.width}},n.prototype.getViewportAdjustedDelta=function(e,t,n,r){var i={top:0,left:0};if(!this.$viewport)return i;var s=this.options.viewport&&this.options.viewport.padding||0,o=this.getPosition(this.$viewport);if(/right|left/.test(e)){var u=t.top-s-o.scroll,a=t.top+s-o.scroll+r;u<o.top?i.top=o.top-u:a>o.top+o.height&&(i.top=o.top+o.height-a)}else{var f=t.left-s,l=t.left+s+n;f<o.left?i.left=o.left-f:l>o.right&&(i.left=o.left+o.width-l)}return i},n.prototype.getTitle=function(){var e,t=this.$element,n=this.options;return e=t.attr("data-original-title")||("function"==typeof n.title?n.title.call(t[0]):n.title)},n.prototype.getUID=function(e){do e+=~~(1e6*Math.random());while(document.getElementById(e));return e},n.prototype.tip=function(){if(!this.$tip&&(this.$tip=e(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},n.prototype.enable=function(){this.enabled=!0},n.prototype.disable=function(){this.enabled=!1},n.prototype.toggleEnabled=function(){this.enabled=!this.enabled},n.prototype.toggle=function(t){var n=this;t&&(n=e(t.currentTarget).data("bs."+this.type),n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n))),t?(n.inState.click=!n.inState.click,n.isInStateTrue()?n.enter(n):n.leave(n)):n.tip().hasClass("in")?n.leave(n):n.enter(n)},n.prototype.destroy=function(){var e=this;clearTimeout(this.timeout),this.hide(function(){e.$element.off("."+e.type).removeData("bs."+e.type),e.$tip&&e.$tip.detach(),e.$tip=null,e.$arrow=null,e.$viewport=null,e.$element=null})};var r=e.fn.tooltip;e.fn.tooltip=t,e.fn.tooltip.Constructor=n,e.fn.tooltip.noConflict=function(){return e.fn.tooltip=r,this}}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var r=e(this),i=r.data("bs.popover"),s="object"==typeof t&&t;!i&&/destroy|hide/.test(t)||(i||r.data("bs.popover",i=new n(this,s)),"string"==typeof t&&i[t]())})}var n=function(e,t){this.init("popover",e,t)};if(!e.fn.tooltip)throw new Error("Popover requires tooltip.js");n.VERSION="3.3.7",n.DEFAULTS=e.extend({},e.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),n.prototype=e.extend({},e.fn.tooltip.Constructor.prototype),n.prototype.constructor=n,n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.setContent=function(){var e=this.tip(),t=this.getTitle(),n=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof n?"html":"append":"text"](n),e.removeClass("fade top bottom left right in"),e.find(".popover-title").html()||e.find(".popover-title").hide()},n.prototype.hasContent=function(){return this.getTitle()||this.getContent()},n.prototype.getContent=function(){var e=this.$element,t=this.options;return e.attr("data-content")||("function"==typeof t.content?t.content.call(e[0]):t.content)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var r=e.fn.popover;e.fn.popover=t,e.fn.popover.Constructor=n,e.fn.popover.noConflict=function(){return e.fn.popover=r,this}}(jQuery),+function(e){"use strict";function t(n,r){this.$body=e(document.body),this.$scrollElement=e(e(n).is(document.body)?window:n),this.options=e.extend({},t.DEFAULTS,r),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",e.proxy(this.process,this)),this.refresh(),this.process()}function n(n){return this.each(function(){var r=e(this),i=r.data("bs.scrollspy"),s="object"==typeof n&&n;i||r.data("bs.scrollspy",i=new t(this,s)),"string"==typeof n&&i[n]()})}t.VERSION="3.3.7",t.DEFAULTS={offset:10},t.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},t.prototype.refresh=function(){var t=this,n="offset",r=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),e.isWindow(this.$scrollElement[0])||(n="position",r=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var t=e(this),i=t.data("target")||t.attr("href"),s=/^#./.test(i)&&e(i);return s&&s.length&&s.is(":visible")&&[[s[n]().top+r,i]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){t.offsets.push(this[0]),t.targets.push(this[1])})},t.prototype.process=function(){var e,t=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),r=this.options.offset+n-this.$scrollElement.height(),i=this.offsets,s=this.targets,o=this.activeTarget;if(this.scrollHeight!=n&&this.refresh(),t>=r)return o!=(e=s[s.length-1])&&this.activate(e);if(o&&t<i[0])return this.activeTarget=null,this.clear();for(e=i.length;e--;)o!=s[e]&&t>=i[e]&&(void 0===i[e+1]||t<i[e+1])&&this.activate(s[e])},t.prototype.activate=function(t){this.activeTarget=t,this.clear();var n=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',r=e(n).parents("li").addClass("active");r.parent(".dropdown-menu").length&&(r=r.closest("li.dropdown").addClass("active")),r.trigger("activate.bs.scrollspy")},t.prototype.clear=function(){e(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var r=e.fn.scrollspy;e.fn.scrollspy=n,e.fn.scrollspy.Constructor=t,e.fn.scrollspy.noConflict=function(){return e.fn.scrollspy=r,this},e(window).on("load.bs.scrollspy.data-api",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);n.call(t,t.data())})})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var r=e(this),i=r.data("bs.tab");i||r.data("bs.tab",i=new n(this)),"string"==typeof t&&i[t]()})}var n=function(t){this.element=e(t)};n.VERSION="3.3.7",n.TRANSITION_DURATION=150,n.prototype.show=function(){var t=this.element,n=t.closest("ul:not(.dropdown-menu)"),r=t.data("target");if(r||(r=t.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var i=n.find(".active:last a"),s=e.Event("hide.bs.tab",{relatedTarget:t[0]}),o=e.Event("show.bs.tab",{relatedTarget:i[0]});if(i.trigger(s),t.trigger(o),!o.isDefaultPrevented()&&!s.isDefaultPrevented()){var u=e(r);this.activate(t.closest("li"),n),this.activate(u,u.parent(),function(){i.trigger({type:"hidden.bs.tab",relatedTarget:t[0]}),t.trigger({type:"shown.bs.tab",relatedTarget:i[0]})})}}},n.prototype.activate=function(t,r,i){function s(){o.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),t.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),u?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu").length&&t.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),i&&i()}var o=r.find("> .active"),u=i&&e.support.transition&&(o.length&&o.hasClass("fade")||!!r.find("> .fade").length);o.length&&u?o.one("bsTransitionEnd",s).emulateTransitionEnd(n.TRANSITION_DURATION):s(),o.removeClass("in")};var r=e.fn.tab;e.fn.tab=t,e.fn.tab.Constructor=n,e.fn.tab.noConflict=function(){return e.fn.tab=r,this};var i=function(n){n.preventDefault(),t.call(e(this),"show")};e(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',i).on("click.bs.tab.data-api",'[data-toggle="pill"]',i)}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var r=e(this),i=r.data("bs.affix"),s="object"==typeof t&&t;i||r.data("bs.affix",i=new n(this,s)),"string"==typeof t&&i[t]()})}var n=function(t,r){this.options=e.extend({},n.DEFAULTS,r),this.$target=e(this.options.target).on("scroll.bs.affix.data-api",e.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",e.proxy(this.checkPositionWithEventLoop,this)),this.$element=e(t),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};n.VERSION="3.3.7",n.RESET="affix affix-top affix-bottom",n.DEFAULTS={offset:0,target:window},n.prototype.getState=function(e,t,n,r){var i=this.$target.scrollTop(),s=this.$element.offset(),o=this.$target.height();if(null!=n&&"top"==this.affixed)return i<n&&"top";if("bottom"==this.affixed)return null!=n?!(i+this.unpin<=s.top)&&"bottom":!(i+o<=e-r)&&"bottom";var u=null==this.affixed,a=u?i:s.top,f=u?o:t;return null!=n&&i<=n?"top":null!=r&&a+f>=e-r&&"bottom"},n.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(n.RESET).addClass("affix");var e=this.$target.scrollTop(),t=this.$element.offset();return this.pinnedOffset=t.top-e},n.prototype.checkPositionWithEventLoop=function(){setTimeout(e.proxy(this.checkPosition,this),1)},n.prototype.checkPosition=function(){if(this.$element.is(":visible")){var t=this.$element.height(),r=this.options.offset,i=r.top,s=r.bottom,o=Math.max(e(document).height(),e(document.body).height());"object"!=typeof r&&(s=i=r),"function"==typeof i&&(i=r.top(this.$element)),"function"==typeof s&&(s=r.bottom(this.$element));var u=this.getState(o,t,i,s);if(this.affixed!=u){null!=this.unpin&&this.$element.css("top","");var f="affix"+(u?"-"+u:""),l=e.Event(f+".bs.affix");if(this.$element.trigger(l),l.isDefaultPrevented())return;this.affixed=u,this.unpin="bottom"==u?this.getPinnedOffset():null,this.$element.removeClass(n.RESET).addClass(f).trigger(f.replace("affix","affixed")+".bs.affix")}"bottom"==u&&this.$element.offset({top:o-t-s})}};var r=e.fn.affix;e.fn.affix=t,e.fn.affix.Constructor=n,e.fn.affix.noConflict=function(){return e.fn.affix=r,this},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var n=e(this),r=n.data();r.offset=r.offset||{},null!=r.offsetBottom&&(r.offset.bottom=r.offsetBottom),null!=r.offsetTop&&(r.offset.top=r.offsetTop),t.call(n,r)})})}(jQuery),function(e,t,n){var r=e();e.fn.dropdownHover=function(n){return"ontouchstart"in document?this:(r=r.add(this.parent()),this.each(function(){var i=e(this),s=i.parent(),o={delay:500,instantlyCloseOthers:!0},u={delay:e(this).data("delay"),instantlyCloseOthers:e(this).data("close-others")},f="show.bs.dropdown",l="hide.bs.dropdown",c=e.extend(!0,{},o,n,u),h;s.hover(function(e){if(!s.hasClass("open")&&!i.is(e.target))return!0;r.find(":focus").blur(),c.instantlyCloseOthers===!0&&r.removeClass("open"),t.clearTimeout(h),s.addClass("open"),i.trigger(f)},function(){h=t.setTimeout(function(){s.removeClass("open"),i.trigger(l)},c.delay)}),i.hover(function(){r.find(":focus").blur(),c.instantlyCloseOthers===!0&&r.removeClass("open"),t.clearTimeout(h),s.addClass("open"),i.trigger(f)}),s.find(".dropdown-submenu").each(function(){var n=e(this),r;n.hover(function(){t.clearTimeout(r),n.children(".dropdown-menu").show(),n.siblings().children(".dropdown-menu").hide()},function(){var e=n.children(".dropdown-menu");r=t.setTimeout(function(){e.hide()},c.delay)})})}))},e(document).ready(function(){e('[data-hover="dropdown"]').dropdownHover()})}(jQuery,this),function(){var e=[].slice;!function(n,r){"use strict";var i;return i=function(){function e(e,t){null==t&&(t={}),this.$element=n(e),this.options=n.extend({},n.fn.bootstrapSwitch.defaults,{state:this.$element.is(":checked"),size:this.$element.data("size"),animate:this.$element.data("animate"),disabled:this.$element.is(":disabled"),readonly:this.$element.is("[readonly]"),indeterminate:this.$element.data("indeterminate"),inverse:this.$element.data("inverse"),radioAllOff:this.$element.data("radio-all-off"),onColor:this.$element.data("on-color"),offColor:this.$element.data("off-color"),onText:this.$element.data("on-text"),offText:this.$element.data("off-text"),labelText:this.$element.data("label-text"),handleWidth:this.$element.data("handle-width"),labelWidth:this.$element.data("label-width"),baseClass:this.$element.data("base-class"),wrapperClass:this.$element.data("wrapper-class")},t),this.prevOptions={},this.$wrapper=n("<div>",{"class":function(e){return function(){var t;return t=[""+e.options.baseClass].concat(e._getClasses(e.options.wrapperClass)),t.push(e.options.state?e.options.baseClass+"-on":e.options.baseClass+"-off"),null!=e.options.size&&t.push(e.options.baseClass+"-"+e.options.size),e.options.disabled&&t.push(e.options.baseClass+"-disabled"),e.options.readonly&&t.push(e.options.baseClass+"-readonly"),e.options.indeterminate&&t.push(e.options.baseClass+"-indeterminate"),e.options.inverse&&t.push(e.options.baseClass+"-inverse"),e.$element.attr("id")&&t.push(e.options.baseClass+"-id-"+e.$element.attr("id")),t.join(" ")}}(this)()}),this.$container=n("<div>",{"class":this.options.baseClass+"-container"}),this.$on=n("<span>",{html:this.options.onText,"class":this.options.baseClass+"-handle-on "+this.options.baseClass+"-"+this.options.onColor}),this.$off=n("<span>",{html:this.options.offText,"class":this.options.baseClass+"-handle-off "+this.options.baseClass+"-"+this.options.offColor}),this.$label=n("<span>",{html:this.options.labelText,"class":this.options.baseClass+"-label"}),this.$element.on("init.bootstrapSwitch",function(t){return function(){return t.options.onInit.apply(e,arguments)}}(this)),this.$element.on("switchChange.bootstrapSwitch",function(t){return function(r){return!1===t.options.onSwitchChange.apply(e,arguments)?t.$element.is(":radio")?n("[name='"+t.$element.attr("name")+"']").trigger("previousState.bootstrapSwitch",!0):t.$element.trigger("previousState.bootstrapSwitch",!0):void 0}}(this)),this.$container=this.$element.wrap(this.$container).parent(),this.$wrapper=this.$container.wrap(this.$wrapper).parent(),this.$element.before(this.options.inverse?this.$off:this.$on).before(this.$label).before(this.options.inverse?this.$on:this.$off),this.options.indeterminate&&this.$element.prop("indeterminate",!0),this._init(),this._elementHandlers(),this._handleHandlers(),this._labelHandlers(),this._formHandler(),this._externalLabelHandler(),this.$element.trigger("init.bootstrapSwitch",this.options.state)}return e.prototype._constructor=e,e.prototype.setPrevOptions=function(){return this.prevOptions=n.extend(!0,{},this.options)},e.prototype.state=function(e,t){return"undefined"==typeof e?this.options.state:this.options.disabled||this.options.readonly?this.$element:this.options.state&&!this.options.radioAllOff&&this.$element.is(":radio")?this.$element:(this.$element.is(":radio")?n("[name='"+this.$element.attr("name")+"']").trigger("setPreviousOptions.bootstrapSwitch"):this.$element.trigger("setPreviousOptions.bootstrapSwitch"),this.options.indeterminate&&this.indeterminate(!1),e=!!e,this.$element.prop("checked",e).trigger("change.bootstrapSwitch",t),this.$element)},e.prototype.toggleState=function(e){return this.options.disabled||this.options.readonly?this.$element:this.options.indeterminate?(this.indeterminate(!1),this.state(!0)):this.$element.prop("checked",!this.options.state).trigger("change.bootstrapSwitch",e)},e.prototype.size=function(e){return"undefined"==typeof e?this.options.size:(null!=this.options.size&&this.$wrapper.removeClass(this.options.baseClass+"-"+this.options.size),e&&this.$wrapper.addClass(this.options.baseClass+"-"+e),this._width(),this._containerPosition(),this.options.size=e,this.$element)},e.prototype.animate=function(e){return"undefined"==typeof e?this.options.animate:(e=!!e,e===this.options.animate?this.$element:this.toggleAnimate())},e.prototype.toggleAnimate=function(){return this.options.animate=!this.options.animate,this.$wrapper.toggleClass(this.options.baseClass+"-animate"),this.$element},e.prototype.disabled=function(e){return"undefined"==typeof e?this.options.disabled:(e=!!e,e===this.options.disabled?this.$element:this.toggleDisabled())},e.prototype.toggleDisabled=function(){return this.options.disabled=!this.options.disabled,this.$element.prop("disabled",this.options.disabled),this.$wrapper.toggleClass(this.options.baseClass+"-disabled"),this.$element},e.prototype.readonly=function(e){return"undefined"==typeof e?this.options.readonly:(e=!!e,e===this.options.readonly?this.$element:this.toggleReadonly())},e.prototype.toggleReadonly=function(){return this.options.readonly=!this.options.readonly,this.$element.prop("readonly",this.options.readonly),this.$wrapper.toggleClass(this.options.baseClass+"-readonly"),this.$element},e.prototype.indeterminate=function(e){return"undefined"==typeof e?this.options.indeterminate:(e=!!e,e===this.options.indeterminate?this.$element:this.toggleIndeterminate())},e.prototype.toggleIndeterminate=function(){return this.options.indeterminate=!this.options.indeterminate,this.$element.prop("indeterminate",this.options.indeterminate),this.$wrapper.toggleClass(this.options.baseClass+"-indeterminate"),this._containerPosition(),this.$element},e.prototype.inverse=function(e){return"undefined"==typeof e?this.options.inverse:(e=!!e,e===this.options.inverse?this.$element:this.toggleInverse())},e.prototype.toggleInverse=function(){var e,t;return this.$wrapper.toggleClass(this.options.baseClass+"-inverse"),t=this.$on.clone(!0),e=this.$off.clone(!0),this.$on.replaceWith(e),this.$off.replaceWith(t),this.$on=e,this.$off=t,this.options.inverse=!this.options.inverse,this.$element},e.prototype.onColor=function(e){var t;return t=this.options.onColor,"undefined"==typeof e?t:(null!=t&&this.$on.removeClass(this.options.baseClass+"-"+t),this.$on.addClass(this.options.baseClass+"-"+e),this.options.onColor=e,this.$element)},e.prototype.offColor=function(e){var t;return t=this.options.offColor,"undefined"==typeof e?t:(null!=t&&this.$off.removeClass(this.options.baseClass+"-"+t),this.$off.addClass(this.options.baseClass+"-"+e),this.options.offColor=e,this.$element)},e.prototype.onText=function(e){return"undefined"==typeof e?this.options.onText:(this.$on.html(e),this._width(),this._containerPosition(),this.options.onText=e,this.$element)},e.prototype.offText=function(e){return"undefined"==typeof e?this.options.offText:(this.$off.html(e),this._width(),this._containerPosition(),this.options.offText=e,this.$element)},e.prototype.labelText=function(e){return"undefined"==typeof e?this.options.labelText:(this.$label.html(e),this._width(),this.options.labelText=e,this.$element)},e.prototype.handleWidth=function(e){return"undefined"==typeof e?this.options.handleWidth:(this.options.handleWidth=e,this._width(),this._containerPosition(),this.$element)},e.prototype.labelWidth=function(e){return"undefined"==typeof e?this.options.labelWidth:(this.options.labelWidth=e,this._width(),this._containerPosition(),this.$element)},e.prototype.baseClass=function(e){return this.options.baseClass},e.prototype.wrapperClass=function(e){return"undefined"==typeof e?this.options.wrapperClass:(e||(e=n.fn.bootstrapSwitch.defaults.wrapperClass),this.$wrapper.removeClass(this._getClasses(this.options.wrapperClass).join(" ")),this.$wrapper.addClass(this._getClasses(e).join(" ")),this.options.wrapperClass=e,this.$element)},e.prototype.radioAllOff=function(e){return"undefined"==typeof e?this.options.radioAllOff:(e=!!e,e===this.options.radioAllOff?this.$element:(this.options.radioAllOff=e,this.$element))},e.prototype.onInit=function(e){return"undefined"==typeof e?this.options.onInit:(e||(e=n.fn.bootstrapSwitch.defaults.onInit),this.options.onInit=e,this.$element)},e.prototype.onSwitchChange=function(e){return"undefined"==typeof e?this.options.onSwitchChange:(e||(e=n.fn.bootstrapSwitch.defaults.onSwitchChange),this.options.onSwitchChange=e,this.$element)},e.prototype.destroy=function(){var e;return e=this.$element.closest("form"),e.length&&e.off("reset.bootstrapSwitch").removeData("bootstrap-switch"),this.$container.children().not(this.$element).remove(),this.$element.unwrap().unwrap().off(".bootstrapSwitch").removeData("bootstrap-switch"),this.$element},e.prototype._width=function(){var e,t;return e=this.$on.add(this.$off),e.add(this.$label).css("width",""),t="auto"===this.options.handleWidth?Math.max(this.$on.width(),this.$off.width()):this.options.handleWidth,e.width(t),this.$label.width(function(e){return function(n,r){return"auto"!==e.options.labelWidth?e.options.labelWidth:t>r?t:r}}(this)),this._handleWidth=this.$on.outerWidth(),this._labelWidth=this.$label.outerWidth(),this.$container.width(2*this._handleWidth+this._labelWidth),this.$wrapper.width(this._handleWidth+this._labelWidth)},e.prototype._containerPosition=function(e,t){return null==e&&(e=this.options.state),this.$container.css("margin-left",function(t){return function(){var n;return n=[0,"-"+t._handleWidth+"px"],t.options.indeterminate?"-"+t._handleWidth/2+"px":e?t.options.inverse?n[1]:n[0]:t.options.inverse?n[0]:n[1]}}(this)),t?setTimeout(function(){return t()},50):void 0},e.prototype._init=function(){var e,t;return e=function(e){return function(){return e.setPrevOptions(),e._width(),e._containerPosition(null,function(){return e.options.animate?e.$wrapper.addClass(e.options.baseClass+"-animate"):void 0})}}(this),this.$wrapper.is(":visible")?e():t=r.setInterval(function(n){return function(){return n.$wrapper.is(":visible")?(e(),r.clearInterval(t)):void 0}}(this),50)},e.prototype._elementHandlers=function(){return this.$element.on({"setPreviousOptions.bootstrapSwitch":function(e){return function(n){return e.setPrevOptions()}}(this),"previousState.bootstrapSwitch":function(e){return function(n){return e.options=e.prevOptions,e.options.indeterminate&&e.$wrapper.addClass(e.options.baseClass+"-indeterminate"),e.$element.prop("checked",e.options.state).trigger("change.bootstrapSwitch",!0)}}(this),"change.bootstrapSwitch":function(e){return function(r,i){var s;return r.preventDefault(),r.stopImmediatePropagation(),s=e.$element.is(":checked"),e._containerPosition(s),s!==e.options.state?(e.options.state=s,e.$wrapper.toggleClass(e.options.baseClass+"-off").toggleClass(e.options.baseClass+"-on"),i?void 0:(e.$element.is(":radio")&&n("[name='"+e.$element.attr("name")+"']").not(e.$element).prop("checked",!1).trigger("change.bootstrapSwitch",!0),e.$element.trigger("switchChange.bootstrapSwitch",[s]))):void 0}}(this),"focus.bootstrapSwitch":function(e){return function(n){return n.preventDefault(),e.$wrapper.addClass(e.options.baseClass+"-focused")}}(this),"blur.bootstrapSwitch":function(e){return function(n){return n.preventDefault(),e.$wrapper.removeClass(e.options.baseClass+"-focused")}}(this),"keydown.bootstrapSwitch":function(e){return function(n){if(n.which&&!e.options.disabled&&!e.options.readonly)switch(n.which){case 37:return n.preventDefault(),n.stopImmediatePropagation(),e.state(!1);case 39:return n.preventDefault(),n.stopImmediatePropagation(),e.state(!0)}}}(this)})},e.prototype._handleHandlers=function(){return this.$on.on("click.bootstrapSwitch",function(e){return function(n){return n.preventDefault(),n.stopPropagation(),e.state(!1),e.$element.trigger("focus.bootstrapSwitch")}}(this)),this.$off.on("click.bootstrapSwitch",function(e){return function(n){return n.preventDefault(),n.stopPropagation(),e.state(!0),e.$element.trigger("focus.bootstrapSwitch")}}(this))},e.prototype._labelHandlers=function(){return this.$label.on({click:function(e){return e.stopPropagation()},"mousedown.bootstrapSwitch touchstart.bootstrapSwitch":function(e){return function(n){return e._dragStart||e.options.disabled||e.options.readonly?void 0:(n.preventDefault(),n.stopPropagation(),e._dragStart=(n.pageX||n.originalEvent.touches[0].pageX)-parseInt(e.$container.css("margin-left"),10),e.options.animate&&e.$wrapper.removeClass(e.options.baseClass+"-animate"),e.$element.trigger("focus.bootstrapSwitch"))}}(this),"mousemove.bootstrapSwitch touchmove.bootstrapSwitch":function(e){return function(n){var r;if(null!=e._dragStart&&(n.preventDefault(),r=(n.pageX||n.originalEvent.touches[0].pageX)-e._dragStart,!(r<-e._handleWidth||r>0)))return e._dragEnd=r,e.$container.css("margin-left",e._dragEnd+"px")}}(this),"mouseup.bootstrapSwitch touchend.bootstrapSwitch":function(e){return function(n){var r;if(e._dragStart)return n.preventDefault(),e.options.animate&&e.$wrapper.addClass(e.options.baseClass+"-animate"),e._dragEnd?(r=e._dragEnd>-(e._handleWidth/2),e._dragEnd=!1,e.state(e.options.inverse?!r:r)):e.state(!e.options.state),e._dragStart=!1}}(this),"mouseleave.bootstrapSwitch":function(e){return function(n){return e.$label.trigger("mouseup.bootstrapSwitch")}}(this)})},e.prototype._externalLabelHandler=function(){var e;return e=this.$element.closest("label"),e.on("click",function(n){return function(r){return r.preventDefault(),r.stopImmediatePropagation(),r.target===e[0]?n.toggleState():void 0}}(this))},e.prototype._formHandler=function(){var e;return e=this.$element.closest("form"),e.data("bootstrap-switch")?void 0:e.on("reset.bootstrapSwitch",function(){return r.setTimeout(function(){return e.find("input").filter(function(){return n(this).data("bootstrap-switch")}).each(function(){return n(this).bootstrapSwitch("state",this.checked)})},1)}).data("bootstrap-switch",!0)},e.prototype._getClasses=function(e){var t,r,i,s;if(!n.isArray(e))return[this.options.baseClass+"-"+e];for(r=[],i=0,s=e.length;s>i;i++)t=e[i],r.push(this.options.baseClass+"-"+t);return r},e}(),n.fn.bootstrapSwitch=function(){var r,s,o;return s=arguments[0],r=2<=arguments.length?e.call(arguments,1):[],o=this,this.each(function(){var e,t;return e=n(this),t=e.data("bootstrap-switch"),t||e.data("bootstrap-switch",t=new i(this,s)),"string"==typeof s?o=t[s].apply(t,r):void 0}),o},n.fn.bootstrapSwitch.Constructor=i,n.fn.bootstrapSwitch.defaults={state:!0,size:null,animate:!0,disabled:!1,readonly:!1,indeterminate:!1,inverse:!1,radioAllOff:!1,onColor:"primary",offColor:"default",onText:"ON",offText:"OFF",labelText:"&nbsp;",handleWidth:"auto",labelWidth:"auto",baseClass:"bootstrap-switch",wrapperClass:"wrapper",onInit:function(){},onSwitchChange:function(){}}}(window.jQuery,window)}.call(this),!function(e,t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):e.bootbox=t(e.jQuery)}(this,function e(t,n){"use strict";function r(e){var t=m[d.locale];return t?t[e]:m.en[e]}function i(e,n,r){e.stopPropagation(),e.preventDefault();var i=t.isFunction(r)&&r(e)===!1;i||n.modal("hide")}function s(e){var t,n=0;for(t in e)n++;return n}function o(e,n){var r=0;t.each(e,function(e,t){n(e,t,r++)})}function u(e){var n,r;if("object"!=typeof e)throw new Error("Please supply an object of options");if(!e.message)throw new Error("Please specify a message");return e=t.extend({},d,e),e.buttons||(e.buttons={}),e.backdrop=e.backdrop?"static":!1,n=e.buttons,r=s(n),o(n,function(e,i,s){if(t.isFunction(i)&&(i=n[e]={callback:i}),"object"!==t.type(i))throw new Error("button with key "+e+" must be an object");i.label||(i.label=e),i.className||(i.className=2>=r&&s===r-1?"btn-primary":"btn-default")}),e}function a(e,t){var n=e.length,r={};if(1>n||n>2)throw new Error("Invalid argument length");return 2===n||"string"==typeof e[0]?(r[t[0]]=e[0],r[t[1]]=e[1]):r=e[0],r}function f(e,n,r){return t.extend(!0,{},e,a(n,r))}function l(e,t,n,r){var i={className:"bootbox-"+e,buttons:c.apply(null,t)};return h(f(i,r,n),t)}function c(){for(var e={},t=0,n=arguments.length;n>t;t++){var i=arguments[t],s=i.toLowerCase(),o=i.toUpperCase();e[s]={label:r(o)}}return e}function h(e,t){var r={};return o(t,function(e,t){r[t]=!0}),o(e.buttons,function(e){if(r[e]===n)throw new Error("button key "+e+" is not allowed (options are "+t.join("\n")+")")}),e}var p={dialog:"<div class='bootbox modal' tabindex='-1' role='dialog'><div class='modal-dialog'><div class='modal-content'><div class='modal-body'><div class='bootbox-body'></div></div></div></div></div>",header:"<div class='modal-header'><h4 class='modal-title'></h4></div>",footer:"<div class='modal-footer'></div>",closeButton:"<button type='button' class='bootbox-close-button close' data-dismiss='modal' aria-hidden='true'>&times;</button>",form:"<form class='bootbox-form'></form>",inputs:{text:"<input class='bootbox-input bootbox-input-text form-control' autocomplete=off type=text />",textarea:"<textarea class='bootbox-input bootbox-input-textarea form-control'></textarea>",email:"<input class='bootbox-input bootbox-input-email form-control' autocomplete='off' type='email' />",select:"<select class='bootbox-input bootbox-input-select form-control'></select>",checkbox:"<div class='checkbox'><label><input class='bootbox-input bootbox-input-checkbox' type='checkbox' /></label></div>",date:"<input class='bootbox-input bootbox-input-date form-control' autocomplete=off type='date' />",time:"<input class='bootbox-input bootbox-input-time form-control' autocomplete=off type='time' />",number:"<input class='bootbox-input bootbox-input-number form-control' autocomplete=off type='number' />",password:"<input class='bootbox-input bootbox-input-password form-control' autocomplete='off' type='password' />"}},d={locale:"en",backdrop:!0,animate:!0,className:null,closeButton:!0,show:!0,container:"body"},v={};v.alert=function(){var e;if(e=l("alert",["ok"],["message","callback"],arguments),e.callback&&!t.isFunction(e.callback))throw new Error("alert requires callback property to be a function when provided");return e.buttons.ok.callback=e.onEscape=function(){return t.isFunction(e.callback)?e.callback():!0},v.dialog(e)},v.confirm=function(){var e;if(e=l("confirm",["cancel","confirm"],["message","callback"],arguments),e.buttons.cancel.callback=e.onEscape=function(){return e.callback(!1)},e.buttons.confirm.callback=function(){return e.callback(!0)},!t.isFunction(e.callback))throw new Error("confirm requires a callback");return v.dialog(e)},v.prompt=function(){var e,r,i,s,u,a,l;if(s=t(p.form),r={className:"bootbox-prompt",buttons:c("cancel","confirm"),value:"",inputType:"text"},e=h(f(r,arguments,["title","callback"]),["cancel","confirm"]),a=e.show===n?!0:e.show,e.message=s,e.buttons.cancel.callback=e.onEscape=function(){return e.callback(null)},e.buttons.confirm.callback=function(){var n;switch(e.inputType){case"text":case"textarea":case"email":case"select":case"date":case"time":case"number":case"password":n=u.val();break;case"checkbox":var r=u.find("input:checked");n=[],o(r,function(e,r){n.push(t(r).val())})}return e.callback(n)},e.show=!1,!e.title)throw new Error("prompt requires a title");if(!t.isFunction(e.callback))throw new Error("prompt requires a callback");if(!p.inputs[e.inputType])throw new Error("invalid prompt type");switch(u=t(p.inputs[e.inputType]),e.inputType){case"text":case"textarea":case"email":case"date":case"time":case"number":case"password":u.val(e.value);break;case"select":var d={};if(l=e.inputOptions||[],!l.length)throw new Error("prompt with select requires options");o(l,function(e,r){var i=u;if(r.value===n||r.text===n)throw new Error("given options in wrong format");r.group&&(d[r.group]||(d[r.group]=t("<optgroup/>").attr("label",r.group)),i=d[r.group]),i.append("<option value='"+r.value+"'>"+r.text+"</option>")}),o(d,function(e,t){u.append(t)}),u.val(e.value);break;case"checkbox":var m=t.isArray(e.value)?e.value:[e.value];if(l=e.inputOptions||[],!l.length)throw new Error("prompt with checkbox requires options");if(!l[0].value||!l[0].text)throw new Error("given options in wrong format");u=t("<div/>"),o(l,function(n,r){var i=t(p.inputs[e.inputType]);i.find("input").attr("value",r.value),i.find("label").append(r.text),o(m,function(e,t){t===r.value&&i.find("input").prop("checked",!0)}),u.append(i)})}return e.placeholder&&u.attr("placeholder",e.placeholder),e.pattern&&u.attr("pattern",e.pattern),s.append(u),s.on("submit",function(e){e.preventDefault(),e.stopPropagation(),i.find(".btn-primary").click()}),i=v.dialog(e),i.off("shown.bs.modal"),i.on("shown.bs.modal",function(){u.focus()}),a===!0&&i.modal("show"),i},v.dialog=function(e){e=u(e);var n=t(p.dialog),r=n.find(".modal-dialog"),s=n.find(".modal-body"),a=e.buttons,f="",l={onEscape:e.onEscape};if(o(a,function(e,t){f+="<button data-bb-handler='"+e+"' type='button' class='btn "+t.className+"'>"+t.label+"</button>",l[e]=t.callback}),s.find(".bootbox-body").html(e.message),e.animate===!0&&n.addClass("fade"),e.className&&n.addClass(e.className),"large"===e.size&&r.addClass("modal-lg"),"small"===e.size&&r.addClass("modal-sm"),e.title&&s.before(p.header),e.closeButton){var c=t(p.closeButton);e.title?n.find(".modal-header").prepend(c):c.css("margin-top","-10px").prependTo(s)}return e.title&&n.find(".modal-title").html(e.title),f.length&&(s.after(p.footer),n.find(".modal-footer").html(f)),n.on("hidden.bs.modal",function(e){e.target===this&&n.remove()}),n.on("shown.bs.modal",function(){n.find(".btn-primary:first").focus()}),n.on("escape.close.bb",function(e){l.onEscape&&i(e,n,l.onEscape)}),n.on("click",".modal-footer button",function(e){var r=t(this).data("bb-handler");i(e,n,l[r])}),n.on("click",".bootbox-close-button",function(e){i(e,n,l.onEscape)}),n.on("keyup",function(e){27===e.which&&n.trigger("escape.close.bb")}),t(e.container).append(n),n.modal({backdrop:e.backdrop,keyboard:!1,show:!1}),e.show&&n.modal("show"),n},v.setDefaults=function(){var e={};2===arguments.length?e[arguments[0]]=arguments[1]:e=arguments[0],t.extend(d,e)},v.hideAll=function(){return t(".bootbox").modal("hide"),v};var m={br:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Sim"},cs:{OK:"OK",CANCEL:"Zruit",CONFIRM:"Potvrdit"},da:{OK:"OK",CANCEL:"Annuller",CONFIRM:"Accepter"},de:{OK:"OK",CANCEL:"Abbrechen",CONFIRM:"Akzeptieren"},el:{OK:"",CANCEL:"",CONFIRM:""},en:{OK:"OK",CANCEL:"Cancel",CONFIRM:"OK"},es:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Aceptar"},et:{OK:"OK",CANCEL:"Katkesta",CONFIRM:"OK"},fi:{OK:"OK",CANCEL:"Peruuta",CONFIRM:"OK"},fr:{OK:"OK",CANCEL:"Annuler",CONFIRM:"D'accord"},he:{OK:"",CANCEL:"",CONFIRM:""},id:{OK:"OK",CANCEL:"Batal",CONFIRM:"OK"},it:{OK:"OK",CANCEL:"Annulla",CONFIRM:"Conferma"},ja:{OK:"OK",CANCEL:"",CONFIRM:""},lt:{OK:"Gerai",CANCEL:"Ataukti",CONFIRM:"Patvirtinti"},lv:{OK:"Labi",CANCEL:"Atcelt",CONFIRM:"Apstiprint"},nl:{OK:"OK",CANCEL:"Annuleren",CONFIRM:"Accepteren"},no:{OK:"OK",CANCEL:"Avbryt",CONFIRM:"OK"},pl:{OK:"OK",CANCEL:"Anuluj",CONFIRM:"Potwierd"},pt:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Confirmar"},ru:{OK:"OK",CANCEL:"",CONFIRM:""},sv:{OK:"OK",CANCEL:"Avbryt",CONFIRM:"OK"},tr:{OK:"Tamam",CANCEL:"ptal",CONFIRM:"Onayla"},zh_CN:{OK:"OK",CANCEL:"",CONFIRM:""},zh_TW:{OK:"OK",CANCEL:"",CONFIRM:""}};return v.init=function(n){return e(n||t)},v}),!function(e){"use strict";function t(e){for(var t=window,n=e.split("."),r=n.pop(),i=0,s=n.length;s>i;i++)t=t[n[i]];return function(){t[r].call(this)}}if(!e.fn.popover)throw new Error("Confirmation requires popover.js");var n=function(t,n){this.init("confirmation",t,n);var r=this;this.options.selector||(this.$element.attr("href")&&(this.options.href=this.$element.attr("href"),this.$element.removeAttr("href"),this.$element.attr("target")&&(this.options.target=this.$element.attr("target"))),this.$element.on(r.options.trigger,function(e,t){t||(e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation())}),this.$element.on("confirmed.bs.confirmation",function(){e(this).trigger(r.options.trigger,[!0])}),this.$element.on("show.bs.confirmation",function(){r.options.singleton&&e(r.options._selector).not(e(this)).filter(function(){return void 0!==e(this).data("bs.confirmation")}).confirmation("hide")})),this.options._isDelegate||(this.eventBody=!1,this.uid=this.$element[0].id||this.getUID("group_"),this.$element.on("shown.bs.confirmation",function(){r.options.popout&&!r.eventBody&&(e(this),r.eventBody=e("body").on("click.bs.confirmation."+r.uid,function(t){e(r.options._selector).is(t.target)||(e(r.options._selector).filter(function(){return void 0!==e(this).data("bs.confirmation")}).confirmation("hide"),e("body").off("click.bs."+r.uid),r.eventBody=!1)}))}))};n.DEFAULTS=e.extend({},e.fn.popover.Constructor.DEFAULTS,{placement:"top",title:"Are you sure?",html:!0,href:!1,popout:!1,singleton:!1,target:"_self",onConfirm:e.noop,onCancel:e.noop,btnOkClass:"btn-xs btn-primary",btnOkIcon:"glyphicon glyphicon-ok",btnOkLabel:"Yes",btnCancelClass:"btn-xs btn-default",btnCancelIcon:"glyphicon glyphicon-remove",btnCancelLabel:"No",template:'<div class="popover confirmation"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content text-center"><div class="btn-group"><a class="btn" data-apply="confirmation"></a><a class="btn" data-dismiss="confirmation"></a></div></div></div>'}),n.prototype=e.extend({},e.fn.popover.Constructor.prototype),n.prototype.constructor=n,n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.init=function(t,n,r){e.fn.popover.Constructor.prototype.init.call(this,t,n,r),this.options._isDelegate=!1,r.selector?this.options._selector=this._options._selector=r._root_selector+" "+r.selector:r._selector?(this.options._selector=r._selector,this.options._isDelegate=!0):this.options._selector=r._root_selector},n.prototype.setContent=function(){var t=this,n=this.tip(),r=this.options;n.find(".popover-title")[r.html?"html":"text"](this.getTitle()),n.find('[data-apply="confirmation"]').addClass(r.btnOkClass).html(r.btnOkLabel).prepend(e("<i></i>").addClass(r.btnOkIcon)," ").off("click").one("click",function(){t.getOnConfirm.call(t).call(t.$element),t.$element.trigger("confirmed.bs.confirmation"),t.leave(t)}),r.href&&n.find('[data-apply="confirmation"]').attr({href:r.href,target:r.target}),n.find('[data-dismiss="confirmation"]').addClass(r.btnCancelClass).html(r.btnCancelLabel).prepend(e("<i></i>").addClass(r.btnCancelIcon)," ").off("click").one("click",function(){t.getOnCancel.call(t).call(t.$element),t.$element.trigger("canceled.bs.confirmation"),t.leave(t)}),n.removeClass("fade top bottom left right in"),n.find(".popover-title").html()||n.find(".popover-title").hide()},n.prototype.getOnConfirm=function(){return this.$element.attr("data-on-confirm")?t(this.$element.attr("data-on-confirm")):this.options.onConfirm},n.prototype.getOnCancel=function(){return this.$element.attr("data-on-cancel")?t(this.$element.attr("data-on-cancel")):this.options.onCancel};var r=e.fn.confirmation;e.fn.confirmation=function(t){var r="object"==typeof t&&t||{};return r._root_selector=this.selector,this.each(function(){var i=e(this),s=i.data("bs.confirmation");(s||"destroy"!=t)&&(s||i.data("bs.confirmation",s=new n(this,r)),"string"==typeof t&&s[t]())})},e.fn.confirmation.Constructor=n,e.fn.confirmation.noConflict=function(){return e.fn.confirmation=r,this}}(jQuery),function(e,t,n){"use strict";(function r(e,t,n){function i(o,u){if(!t[o]){if(!e[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(s)return s(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=t[o]={exports:{}};e[o][0].call(l.exports,function(t){var n=e[o][1][t];return i(n?n:t)},l,l.exports,r,e,t,n)}return t[o].exports}var s=typeof require=="function"&&require;for(var o=0;o<n.length;o++)i(n[o]);return i})({1:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var r={title:"",text:"",type:null,allowOutsideClick:!1,showConfirmButton:!0,showCancelButton:!1,closeOnConfirm:!0,closeOnCancel:!0,confirmButtonText:"OK",confirmButtonClass:"btn-primary",cancelButtonText:"Cancel",cancelButtonClass:"btn-default",containerClass:"",titleClass:"",textClass:"",imageUrl:null,imageSize:null,timer:null,customClass:"",html:!1,animation:!0,allowEscapeKey:!0,inputType:"text",inputPlaceholder:"",inputValue:"",showLoaderOnConfirm:!1};n.default=r},{}],2:[function(t,r,i){Object.defineProperty(i,"__esModule",{value:!0}),i.handleCancel=i.handleConfirm=i.handleButton=n;var s=t("./handle-swal-dom"),o=t("./handle-dom"),u=function(n,r,i){function g(e){l&&r.confirmButtonColor&&(u.style.backgroundColor=e)}var s=n||e.event,u=s.target||s.srcElement,l=u.className.indexOf("confirm")!==-1,c=u.className.indexOf("sweet-overlay")!==-1,h=(0,o.hasClass)(i,"visible"),p=r.doneFunction&&i.getAttribute("data-has-done-function")==="true",d,v,m;l&&r.confirmButtonColor&&(d=r.confirmButtonColor,v=colorLuminance(d,-0.04),m=colorLuminance(d,-0.14));switch(s.type){case"click":var y=i===u,b=(0,o.isDescendant)(i,u);if(!y&&!b&&h&&!r.allowOutsideClick)break;l&&p&&h?a(i,r):p&&h||c?f(i,r):(0,o.isDescendant)(i,u)&&u.tagName==="BUTTON"&&sweetAlert.close()}},a=function(t,n){var r=!0;(0,o.hasClass)(t,"show-input")&&(r=t.querySelector("input").value,r||(r="")),n.doneFunction(r),n.closeOnConfirm&&sweetAlert.close(),n.showLoaderOnConfirm&&sweetAlert.disableButtons()},f=function(t,n){var r=String(n.doneFunction).replace(/\s/g,""),i=r.substring(0,9)==="function("&&r.substring(9,10)!==")";i&&n.doneFunction(!1),n.closeOnCancel&&sweetAlert.close()};i.handleButton=u,i.handleConfirm=a,i.handleCancel=f},{"./handle-dom":3,"./handle-swal-dom":5}],3:[function(n,r,i){Object.defineProperty(i,"__esModule",{value:!0});var s=function(t,n){return(new RegExp(" "+n+" ")).test(" "+t.className+" ")},o=function(t,n){s(t,n)||(t.className+=" "+n)},u=function(t,n){var r=" "+t.className.replace(/[\t\r\n]/g," ")+" ";if(s(t,n)){while(r.indexOf(" "+n+" ")>=0)r=r.replace(" "+n+" "," ");t.className=r.replace(/^\s+|\s+$/g,"")}},a=function(n){var r=t.createElement("div");return r.appendChild(t.createTextNode(n)),r.innerHTML},f=function(t){t.style.opacity="",t.style.display="block"},l=function(t){if(t&&!t.length)return f(t);for(var n=0;n<t.length;++n)f(t[n])},c=function(t){t.style.opacity="",t.style.display="none"},h=function(t){if(t&&!t.length)return c(t);for(var n=0;n<t.length;++n)c(t[n])},p=function(t,n){var r=n.parentNode;while(r!==null){if(r===t)return!0;r=r.parentNode}return!1},d=function(t){t.style.left="-9999px",t.style.display="block";var n=t.clientHeight,r;return typeof getComputedStyle!="undefined"?r=parseInt(getComputedStyle(t).getPropertyValue("padding-top"),10):r=parseInt(t.currentStyle.padding),t.style.left="",t.style.display="none","-"+parseInt((n+r)/2)+"px"},v=function(t,n){if(+t.style.opacity<1){n=n||16,t.style.opacity=0,t.style.display="block";var r=+(new Date),i=function s(){t.style.opacity=+t.style.opacity+(new Date-r)/100,r=+(new Date),+t.style.opacity<1&&setTimeout(s,n)};i()}t.style.display="block"},m=function(t,n){n=n||16,t.style.opacity=1;var r=+(new Date),i=function s(){t.style.opacity=+t.style.opacity-(new Date-r)/100,r=+(new Date),+t.style.opacity>0?setTimeout(s,n):t.style.display="none"};i()},g=function(r){if(typeof MouseEvent=="function"){var i=new MouseEvent("click",{view:e,bubbles:!1,cancelable:!0});r.dispatchEvent(i)}else if(t.createEvent){var s=t.createEvent("MouseEvents");s.initEvent("click",!1,!1),r.dispatchEvent(s)}else t.createEventObject?r.fireEvent("onclick"):typeof r.onclick=="function"&&r.onclick()},y=function(n){typeof n.stopPropagation=="function"?(n.stopPropagation(),n.preventDefault()):e.event&&e.event.hasOwnProperty("cancelBubble")&&(e.event.cancelBubble=!0)};i.hasClass=s,i.addClass=o,i.removeClass=u,i.escapeHtml=a,i._show=f,i.show=l,i._hide=c,i.hide=h,i.isDescendant=p,i.getTopMargin=d,i.fadeIn=v,i.fadeOut=m,i.fireClick=g,i.stopEventPropagation=y},{}],4:[function(t,r,i){Object.defineProperty(i,"__esModule",{value:!0});var s=t("./handle-dom"),o=t("./handle-swal-dom"),u=function(r,i,u){var a=r||e.event,f=a.keyCode||a.which,l=u.querySelector("button.confirm"),c=u.querySelector("button.cancel"),h=u.querySelectorAll("button[tabindex]");if([9,13,32,27].indexOf(f)===-1)return;var p=a.target||a.srcElement,d=-1;for(var v=0;v<h.length;v++)if(p===h[v]){d=v;break}f===9?(d===-1?p=l:d===h.length-1?p=h[0]:p=h[d+1],(0,s.stopEventPropagation)(a),p.focus(),i.confirmButtonColor&&(0,o.setFocusStyle)(p,i.confirmButtonColor)):f===13?(p.tagName==="INPUT"&&(p=l,l.focus()),d===-1?p=l:p=n):f===27&&i.allowEscapeKey===!0?(p=c,(0,s.fireClick)(p,a)):p=n};i.default=u},{"./handle-dom":3,"./handle-swal-dom":5}],5:[function(r,i,s){function c(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(s,"__esModule",{value:!0}),s.fixVerticalPosition=s.resetInputError=s.resetInput=s.openModal=s.getInput=s.getOverlay=s.getModal=s.sweetAlertInitialize=n;var o=r("./handle-dom"),u=r("./default-params"),a=c(u),f=r("./injected-html"),l=c(f),h=".sweet-alert",p=".sweet-overlay",d=function(){var n=t.createElement("div");n.innerHTML=l.default;while(n.firstChild)t.body.appendChild(n.firstChild)},v=function S(){var e=t.querySelector(h);return e||(d(),e=S()),e},m=function(){var t=v();if(t)return t.querySelector("input")},g=function(){return t.querySelector(p)},y=function(r){var i=v();(0,o.fadeIn)(g(),10),(0,o.show)(i),(0,o.addClass)(i,"showSweetAlert"),(0,o.removeClass)(i,"hideSweetAlert"),e.previousActiveElement=t.activeElement;var s=i.querySelector("button.confirm");s.focus(),setTimeout(function(){(0,o.addClass)(i,"visible")},500);var u=i.getAttribute("data-timer");if(u!=="null"&&u!==""){var a=r;i.timeout=setTimeout(function(){var e=(a||null)&&i.getAttribute("data-has-done-function")==="true";e?a(null):sweetAlert.close()},u)}},b=function(){var t=v(),n=m();(0,o.removeClass)(t,"show-input"),n.value=a.default.inputValue,n.setAttribute("type",a.default.inputType),n.setAttribute("placeholder",a.default.inputPlaceholder),w()},w=function(t){if(t&&t.keyCode===13)return!1;var n=v(),r=n.querySelector(".sa-input-error");(0,o.removeClass)(r,"show");var i=n.querySelector(".form-group");(0,o.removeClass)(i,"has-error")},E=function(){var t=v();t.style.marginTop=(0,o.getTopMargin)(v())};s.sweetAlertInitialize=d,s.getModal=v,s.getOverlay=g,s.getInput=m,s.openModal=y,s.resetInput=b,s.resetInputError=w,s.fixVerticalPosition=E},{"./default-params":1,"./handle-dom":3,"./injected-html":6}],6:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var r='<div class="sweet-overlay" tabIndex="-1"></div><div class="sweet-alert" tabIndex="-1"><div class="sa-icon sa-error">\n      <span class="sa-x-mark">\n        <span class="sa-line sa-left"></span>\n        <span class="sa-line sa-right"></span>\n      </span>\n    </div><div class="sa-icon sa-warning">\n      <span class="sa-body"></span>\n      <span class="sa-dot"></span>\n    </div><div class="sa-icon sa-info"></div><div class="sa-icon sa-success">\n      <span class="sa-line sa-tip"></span>\n      <span class="sa-line sa-long"></span>\n\n      <div class="sa-placeholder"></div>\n      <div class="sa-fix"></div>\n    </div><div class="sa-icon sa-custom"></div><h2>Title</h2>\n    <p class="lead text-muted">Text</p>\n    <div class="form-group">\n      <input type="text" class="form-control" tabIndex="3" />\n      <span class="sa-input-error help-block">\n        <span class="glyphicon glyphicon-exclamation-sign"></span> <span class="sa-help-text">Not valid</span>\n      </span>\n    </div><div class="sa-button-container">\n      <button class="cancel btn btn-lg" tabIndex="2">Cancel</button>\n      <div class="sa-confirm-button-container">\n        <button class="confirm btn btn-lg" tabIndex="1">OK</button><div class="la-ball-fall">\n          <div></div>\n          <div></div>\n          <div></div>\n        </div>\n      </div>\n    </div></div>';n.default=r},{}],7:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol?"symbol":typeof e},i=e("./utils"),s=e("./handle-swal-dom"),o=e("./handle-dom"),u=["error","warning","info","success","input","prompt"],a=function(t){var n=(0,s.getModal)(),a=n.querySelector("h2"),f=n.querySelector("p"),l=n.querySelector("button.cancel"),c=n.querySelector("button.confirm");a.innerHTML=t.html?t.title:(0,o.escapeHtml)(t.title).split("\n").join("<br>"),f.innerHTML=t.html?t.text:(0,o.escapeHtml)(t.text||"").split("\n").join("<br>"),t.text&&(0,o.show)(f);if(t.customClass)(0,o.addClass)(n,t.customClass),n.setAttribute("data-custom-class",t.customClass);else{var h=n.getAttribute("data-custom-class");(0,o.removeClass)(n,h),n.setAttribute("data-custom-class","")}(0,o.hide)(n.querySelectorAll(".sa-icon"));if(t.type&&!(0,i.isIE8)()){var p=function(){var e=!1;for(var r=0;r<u.length;r++)if(t.type===u[r]){e=!0;break}if(!e)return logStr("Unknown alert type: "+t.type),{v:!1};var i=["success","error","warning","info"],a=void 0;i.indexOf(t.type)!==-1&&(a=n.querySelector(".sa-icon.sa-"+t.type),(0,o.show)(a));var f=(0,s.getInput)();switch(t.type){case"success":(0,o.addClass)(a,"animate"),(0,o.addClass)(a.querySelector(".sa-tip"),"animateSuccessTip"),(0,o.addClass)(a.querySelector(".sa-long"),"animateSuccessLong");break;case"error":(0,o.addClass)(a,"animateErrorIcon"),(0,o.addClass)(a.querySelector(".sa-x-mark"),"animateXMark");break;case"warning":(0,o.addClass)(a,"pulseWarning"),(0,o.addClass)(a.querySelector(".sa-body"),"pulseWarningIns"),(0,o.addClass)(a.querySelector(".sa-dot"),"pulseWarningIns");break;case"input":case"prompt":f.setAttribute("type",t.inputType),f.value=t.inputValue,f.setAttribute("placeholder",t.inputPlaceholder),(0,o.addClass)(n,"show-input"),setTimeout(function(){f.focus(),f.addEventListener("keyup",swal.resetInputError)},400)}}();if((typeof p=="undefined"?"undefined":r(p))==="object")return p.v}if(t.imageUrl){var d=n.querySelector(".sa-icon.sa-custom");d.style.backgroundImage="url("+t.imageUrl+")",(0,o.show)(d);var v=80,m=80;if(t.imageSize){var g=t.imageSize.toString().split("x"),y=g[0],b=g[1];!y||!b?logStr("Parameter imageSize expects value with format WIDTHxHEIGHT, got "+t.imageSize):(v=y,m=b)}d.setAttribute("style",d.getAttribute("style")+"width:"+v+"px; height:"+m+"px")}n.setAttribute("data-has-cancel-button",t.showCancelButton),t.showCancelButton?l.style.display="inline-block":(0,o.hide)(l),n.setAttribute("data-has-confirm-button",t.showConfirmButton),t.showConfirmButton?c.style.display="inline-block":(0,o.hide)(c),t.cancelButtonText&&(l.innerHTML=(0,o.escapeHtml)(t.cancelButtonText)),t.confirmButtonText&&(c.innerHTML=(0,o.escapeHtml)(t.confirmButtonText)),c.className="confirm btn btn-lg",(0,o.addClass)(n,t.containerClass),(0,o.addClass)(c,t.confirmButtonClass),(0,o.addClass)(l,t.cancelButtonClass),(0,o.addClass)(a,t.titleClass),(0,o.addClass)(f,t.textClass),n.setAttribute("data-allow-outside-click",t.allowOutsideClick);var w=t.doneFunction?!0:!1;n.setAttribute("data-has-done-function",w),t.animation?typeof t.animation=="string"?n.setAttribute("data-animation",t.animation):n.setAttribute("data-animation","pop"):n.setAttribute("data-animation","none"),n.setAttribute("data-timer",t.timer)};n.default=a},{"./handle-dom":3,"./handle-swal-dom":5,"./utils":8}],8:[function(t,n,r){Object.defineProperty(r,"__esModule",{value:!0});var i=function(t,n){for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r]);return t},s=function(){return e.attachEvent&&!e.addEventListener},o=function(n){e.console&&e.console.log("SweetAlert: "+n)};r.extend=i,r.isIE8=s,r.logStr=o},{}],9:[function(r,i,s){function g(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(s,"__esModule",{value:!0});var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol?"symbol":typeof e},u=r("./modules/handle-dom"),a=r("./modules/utils"),f=r("./modules/handle-swal-dom"),l=r("./modules/handle-click"),c=r("./modules/handle-key"),h=g(c),p=r("./modules/default-params"),d=g(p),v=r("./modules/set-params"),m=g(v),y,b,w,E;s.default=w=E=function(){function s(e){var t=i;return t[e]===n?d.default[e]:t[e]}var i=arguments[0];(0,u.addClass)(t.body,"stop-scrolling"),(0,f.resetInput)();if(i===n)return(0,a.logStr)("SweetAlert expects at least 1 attribute!"),!1;var c=(0,a.extend)({},d.default);switch(typeof i=="undefined"?"undefined":o(i)){case"string":c.title=i,c.text=arguments[1]||"",c.type=arguments[2]||"";break;case"object":if(i.title===n)return(0,a.logStr)('Missing "title" argument!'),!1;c.title=i.title;for(var p in d.default)c[p]=s(p);c.confirmButtonText=c.showCancelButton?"Confirm":d.default.confirmButtonText,c.confirmButtonText=s("confirmButtonText"),c.doneFunction=arguments[1]||null;break;default:return(0,a.logStr)('Unexpected type of argument! Expected "string" or "object", got '+(typeof i=="undefined"?"undefined":o(i))),!1}(0,m.default)(c),(0,f.fixVerticalPosition)(),(0,f.openModal)(arguments[1]);var v=(0,f.getModal)(),g=v.querySelectorAll("button"),w=["onclick"],S=function(t){return(0,l.handleButton)(t,c,v)};for(var x=0;x<g.length;x++)for(var T=0;T<w.length;T++){var N=w[T];g[x][N]=S}(0,f.getOverlay)().onclick=S,y=e.onkeydown;var C=function(t){return(0,h.default)(t,c,v)};e.onkeydown=C,e.onfocus=function(){setTimeout(function(){b!==n&&(b.focus(),b=n)},0)},E.enableButtons()},w.setDefaults=E.setDefaults=function(e){if(!e)throw new Error("userParams is required");if((typeof e=="undefined"?"undefined":o(e))!=="object")throw new Error("userParams has to be a object");(0,a.extend)(d.default,e)},w.close=E.close=function(){var r=(0,f.getModal)();(0,u.fadeOut)((0,f.getOverlay)(),5),(0,u.fadeOut)(r,5),(0,u.removeClass)(r,"showSweetAlert"),(0,u.addClass)(r,"hideSweetAlert"),(0,u.removeClass)(r,"visible");var i=r.querySelector(".sa-icon.sa-success");(0,u.removeClass)(i,"animate"),(0,u.removeClass)(i.querySelector(".sa-tip"),"animateSuccessTip"),(0,u.removeClass)(i.querySelector(".sa-long"),"animateSuccessLong");var s=r.querySelector(".sa-icon.sa-error");(0,u.removeClass)(s,"animateErrorIcon"),(0,u.removeClass)(s.querySelector(".sa-x-mark"),"animateXMark");var o=r.querySelector(".sa-icon.sa-warning");return(0,u.removeClass)(o,"pulseWarning"),(0,u.removeClass)(o.querySelector(".sa-body"),"pulseWarningIns"),(0,u.removeClass)(o.querySelector(".sa-dot"),"pulseWarningIns"),setTimeout(function(){var e=r.getAttribute("data-custom-class");(0,u.removeClass)(r,e)},300),(0,u.removeClass)(t.body,"stop-scrolling"),e.onkeydown=y,e.previousActiveElement&&e.previousActiveElement.focus(),b=n,clearTimeout(r.timeout),!0},w.showInputError=E.showInputError=function(e){var t=(0,f.getModal)(),n=t.querySelector(".sa-input-error");(0,u.addClass)(n,"show");var r=t.querySelector(".form-group");(0,u.addClass)(r,"has-error"),r.querySelector(".sa-help-text").innerHTML=e,setTimeout(function(){w.enableButtons()},1),t.querySelector("input").focus()},w.resetInputError=E.resetInputError=function(e){if(e&&e.keyCode===13)return!1;var t=(0,f.getModal)(),n=t.querySelector(".sa-input-error");(0,u.removeClass)(n,"show");var r=t.querySelector(".form-group");(0,u.removeClass)(r,"has-error")},w.disableButtons=E.disableButtons=function(e){var t=(0,f.getModal)(),n=t.querySelector("button.confirm"),r=t.querySelector("button.cancel");n.disabled=!0,r.disabled=!0},w.enableButtons=E.enableButtons=function(e){var t=(0,f.getModal)(),n=t.querySelector("button.confirm"),r=t.querySelector("button.cancel");n.disabled=!1,r.disabled=!1},typeof e!="undefined"?e.sweetAlert=e.swal=w:(0,a.logStr)("SweetAlert is a frontend module!")},{"./modules/default-params":1,"./modules/handle-click":2,"./modules/handle-dom":3,"./modules/handle-key":4,"./modules/handle-swal-dom":5,"./modules/set-params":7,"./modules/utils":8}]},{},[9]),typeof define=="function"&&define.amd?define(function(){return sweetAlert}):typeof module!="undefined"&&module.exports&&(module.exports=sweetAlert)}(window,document),!function(e){"use strict";function t(e,t){return e.toUpperCase().indexOf(t.toUpperCase())>-1}function n(t){var n=[{re:/[\xC0-\xC6]/g,ch:"A"},{re:/[\xE0-\xE6]/g,ch:"a"},{re:/[\xC8-\xCB]/g,ch:"E"},{re:/[\xE8-\xEB]/g,ch:"e"},{re:/[\xCC-\xCF]/g,ch:"I"},{re:/[\xEC-\xEF]/g,ch:"i"},{re:/[\xD2-\xD6]/g,ch:"O"},{re:/[\xF2-\xF6]/g,ch:"o"},{re:/[\xD9-\xDC]/g,ch:"U"},{re:/[\xF9-\xFC]/g,ch:"u"},{re:/[\xC7-\xE7]/g,ch:"c"},{re:/[\xD1]/g,ch:"N"},{re:/[\xF1]/g,ch:"n"}];return e.each(n,function(){t=t.replace(this.re,this.ch)}),t}function r(e){var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},n="(?:"+Object.keys(t).join("|")+")",r=new RegExp(n),i=new RegExp(n,"g"),s=null==e?"":""+e;return r.test(s)?s.replace(i,function(e){return t[e]}):s}function i(t,n){var r=arguments,i=t,t=r[0],n=r[1];[].shift.apply(r),"undefined"==typeof t&&(t=i);var o,u=this.each(function(){var i=e(this);if(i.is("select")){var u=i.data("selectpicker"),l="object"==typeof t&&t;if(u){if(l)for(var h in l)l.hasOwnProperty(h)&&(u.options[h]=l[h])}else{var p=e.extend({},s.DEFAULTS,e.fn.selectpicker.defaults||{},i.data(),l);i.data("selectpicker",u=new s(this,p,n))}"string"==typeof t&&(o=u[t]instanceof Function?u[t].apply(u,r):u.options[t])}});return"undefined"!=typeof o?o:u}e.expr[":"].icontains=function(n,r,i){return t(e(n).text(),i[3])},e.expr[":"].aicontains=function(n,r,i){return t(e(n).data("normalizedText")||e(n).text(),i[3])};var s=function(t,n,r){r&&(r.stopPropagation(),r.preventDefault()),this.$element=e(t),this.$newElement=null,this.$button=null,this.$menu=null,this.$lis=null,this.options=n,null===this.options.title&&(this.options.title=this.$element.attr("title")),this.val=s.prototype.val,this.render=s.prototype.render,this.refresh=s.prototype.refresh,this.setStyle=s.prototype.setStyle,this.selectAll=s.prototype.selectAll,this.deselectAll=s.prototype.deselectAll,this.destroy=s.prototype.remove,this.remove=s.prototype.remove,this.show=s.prototype.show,this.hide=s.prototype.hide,this.init()};s.VERSION="1.6.3",s.DEFAULTS={noneSelectedText:"Nothing selected",noneResultsText:"No results match",countSelectedText:function(e){return 1==e?"{0} item selected":"{0} items selected"},maxOptionsText:function(e,t){var n=[];return n[0]=1==e?"Limit reached ({n} item max)":"Limit reached ({n} items max)",n[1]=1==t?"Group limit reached ({n} item max)":"Group limit reached ({n} items max)",n},selectAllText:"Select All",deselectAllText:"Deselect All",multipleSeparator:", ",style:"btn-default",size:"auto",title:null,selectedTextFormat:"values",width:!1,container:!1,hideDisabled:!1,showSubtext:!1,showIcon:!0,showContent:!0,dropupAuto:!0,header:!1,liveSearch:!1,actionsBox:!1,iconBase:"glyphicon",tickIcon:"glyphicon-ok",maxOptions:!1,mobile:!1,selectOnTab:!1,dropdownAlignRight:!1,searchAccentInsensitive:!1},s.prototype={constructor:s,init:function(){var t=this,n=this.$element.attr("id");this.$element.hide(),this.multiple=this.$element.prop("multiple"),this.autofocus=this.$element.prop("autofocus"),this.$newElement=this.createView(),this.$element.after(this.$newElement),this.$menu=this.$newElement.find("> .dropdown-menu"),this.$button=this.$newElement.find("> button"),this.$searchbox=this.$newElement.find("input"),this.options.dropdownAlignRight&&this.$menu.addClass("dropdown-menu-right"),"undefined"!=typeof n&&(this.$button.attr("data-id",n),e('label[for="'+n+'"]').click(function(e){e.preventDefault(),t.$button.focus()})),this.checkDisabled(),this.clickListener(),this.options.liveSearch&&this.liveSearchListener(),this.render(),this.liHeight(),this.setStyle(),this.setWidth(),this.options.container&&this.selectPosition(),this.$menu.data("this",this),this.$newElement.data("this",this),this.options.mobile&&this.mobile()},createDropdown:function(){var t=this.multiple?" show-tick":"",n=this.$element.parent().hasClass("input-group")?" input-group-btn":"",r=this.autofocus?" autofocus":"",i=this.$element.parents().hasClass("form-group-lg")?" btn-lg":this.$element.parents().hasClass("form-group-sm")?" btn-sm":"",s=this.options.header?'<div class="popover-title"><button type="button" class="close" aria-hidden="true">&times;</button>'+this.options.header+"</div>":"",o=this.options.liveSearch?'<div class="bs-searchbox"><input type="text" class="input-block-level form-control" autocomplete="off" /></div>':"",u=this.options.actionsBox?'<div class="bs-actionsbox"><div class="btn-group btn-block"><button class="actions-btn bs-select-all btn btn-sm btn-default">'+this.options.selectAllText+'</button><button class="actions-btn bs-deselect-all btn btn-sm btn-default">'+this.options.deselectAllText+"</button></div></div>":"",f='<div class="btn-group bootstrap-select'+t+n+'"><button type="button" class="btn dropdown-toggle selectpicker'+i+'" data-toggle="dropdown"'+r+'><span class="filter-option pull-left"></span>&nbsp;<span class="caret"></span></button><div class="dropdown-menu open">'+s+o+u+'<ul class="dropdown-menu inner selectpicker" role="menu"></ul></div></div>';return e(f)},createView:function(){var e=this.createDropdown(),t=this.createLi();return e.find("ul").append(t),e},reloadLi:function(){this.destroyLi();var e=this.createLi();this.$menu.find("ul").append(e)},destroyLi:function(){this.$menu.find("li").remove()},createLi:function(){var t=this,i=[],s=0,o=function(e,t,n){return"<li"+("undefined"!=typeof n?' class="'+n+'"':"")+("undefined"!=typeof t|null===t?' data-original-index="'+t+'"':"")+">"+e+"</li>"},u=function(e,i,s,o){var u=n(r(e));return'<a tabindex="0"'+("undefined"!=typeof i?' class="'+i+'"':"")+("undefined"!=typeof s?' style="'+s+'"':"")+("undefined"!=typeof o?'data-optgroup="'+o+'"':"")+' data-normalized-text="'+u+'">'+e+'<span class="'+t.options.iconBase+" "+t.options.tickIcon+' check-mark"></span></a>'};return this.$element.find("option").each(function(){var n=e(this),r=n.attr("class")||"",l=n.attr("style"),c=n.data("content")?n.data("content"):n.html(),p="undefined"!=typeof n.data("subtext")?'<small class="muted text-muted">'+n.data("subtext")+"</small>":"",d="undefined"!=typeof n.data("icon")?'<span class="'+t.options.iconBase+" "+n.data("icon")+'"></span> ':"",v=n.is(":disabled")||n.parent().is(":disabled"),m=n[0].index;if(""!==d&&v&&(d="<span>"+d+"</span>"),n.data("content")||(c=d+'<span class="text">'+c+p+"</span>"),!t.options.hideDisabled||!v)if(n.parent().is("optgroup")&&n.data("divider")!==!0){if(0===n.index()){s+=1;var y=n.parent().attr("label"),w="undefined"!=typeof n.parent().data("subtext")?'<small class="muted text-muted">'+n.parent().data("subtext")+"</small>":"",E=n.parent().data("icon")?'<span class="'+t.options.iconBase+" "+n.parent().data("icon")+'"></span> ':"";y=E+'<span class="text">'+y+w+"</span>",0!==m&&i.length>0&&i.push(o("",null,"divider")),i.push(o(y,null,"dropdown-header"))}i.push(o(u(c,"opt "+r,l,s),m))}else i.push(n.data("divider")===!0?o("",m,"divider"):n.data("hidden")===!0?o(u(c,r,l),m,"hide is-hidden"):o(u(c,r,l),m))}),this.multiple||0!==this.$element.find("option:selected").length||this.options.title||this.$element.find("option").eq(0).prop("selected",!0).attr("selected","selected"),e(i.join(""))},findLis:function(){return null==this.$lis&&(this.$lis=this.$menu.find("li")),this.$lis},render:function(t){var n=this;t!==!1&&this.$element.find("option").each(function(t){n.setDisabled(t,e(this).is(":disabled")||e(this).parent().is(":disabled")),n.setSelected(t,e(this).is(":selected"))}),this.tabIndex();var i=this.options.hideDisabled?":not([disabled])":"",s=this.$element.find("option:selected"+i).map(function(){var t,r=e(this),i=r.data("icon")&&n.options.showIcon?'<i class="'+n.options.iconBase+" "+r.data("icon")+'"></i> ':"";return t=n.options.showSubtext&&r.attr("data-subtext")&&!n.multiple?' <small class="muted text-muted">'+r.data("subtext")+"</small>":"",r.data("content")&&n.options.showContent?r.data("content"):"undefined"!=typeof r.attr("title")?r.attr("title"):i+r.html()+t}).toArray(),o=this.multiple?s.join(this.options.multipleSeparator):s[0];if(this.multiple&&this.options.selectedTextFormat.indexOf("count")>-1){var u=this.options.selectedTextFormat.split(">");if(u.length>1&&s.length>u[1]||1==u.length&&s.length>=2){i=this.options.hideDisabled?", [disabled]":"";var f=this.$element.find("option").not('[data-divider="true"], [data-hidden="true"]'+i).length,l="function"==typeof this.options.countSelectedText?this.options.countSelectedText(s.length,f):this.options.countSelectedText;o=l.replace("{0}",s.length.toString()).replace("{1}",f.toString())}}this.options.title=this.$element.attr("title"),"static"==this.options.selectedTextFormat&&(o=this.options.title),o||(o="undefined"!=typeof this.options.title?this.options.title:this.options.noneSelectedText),this.$button.attr("title",r(o)),this.$newElement.find(".filter-option").html(o)},setStyle:function(e,t){this.$element.attr("class")&&this.$newElement.addClass(this.$element.attr("class").replace(/selectpicker|mobile-device|validate\[.*\]/gi,""));var n=e?e:this.options.style;"add"==t?this.$button.addClass(n):"remove"==t?this.$button.removeClass(n):(this.$button.removeClass(this.options.style),this.$button.addClass(n))},liHeight:function(){if(this.options.size!==!1){var e=this.$menu.parent().clone().find("> .dropdown-toggle").prop("autofocus",!1).end().appendTo("body"),t=e.addClass("open").find("> .dropdown-menu"),n=t.find("li").not(".divider").not(".dropdown-header").filter(":visible").children("a").outerHeight(),r=this.options.header?t.find(".popover-title").outerHeight():0,i=this.options.liveSearch?t.find(".bs-searchbox").outerHeight():0,s=this.options.actionsBox?t.find(".bs-actionsbox").outerHeight():0;e.remove(),this.$newElement.data("liHeight",n).data("headerHeight",r).data("searchHeight",i).data("actionsHeight",s)}},setSize:function(){this.findLis();var t,n,r,i=this,s=this.$menu,o=s.find(".inner"),u=this.$newElement.outerHeight(),f=this.$newElement.data("liHeight"),l=this.$newElement.data("headerHeight"),c=this.$newElement.data("searchHeight"),h=this.$newElement.data("actionsHeight"),p=this.$lis.filter(".divider").outerHeight(!0),d=parseInt(s.css("padding-top"))+parseInt(s.css("padding-bottom"))+parseInt(s.css("border-top-width"))+parseInt(s.css("border-bottom-width")),v=this.options.hideDisabled?", .disabled":"",m=e(window),g=d+parseInt(s.css("margin-top"))+parseInt(s.css("margin-bottom"))+2,y=function(){n=i.$newElement.offset().top-m.scrollTop(),r=m.height()-n-u};if(y(),this.options.header&&s.css("padding-top",0),"auto"==this.options.size){var b=function(){var e,u=i.$lis.not(".hide");y(),t=r-g,i.options.dropupAuto&&i.$newElement.toggleClass("dropup",n>r&&t-g<s.height()),i.$newElement.hasClass("dropup")&&(t=n-g),e=u.length+u.filter(".dropdown-header").length>3?3*f+g-2:0,s.css({"max-height":t+"px",overflow:"hidden","min-height":e+l+c+h+"px"}),o.css({"max-height":t-l-c-h-d+"px","overflow-y":"auto","min-height":Math.max(e-d,0)+"px"})};b(),this.$searchbox.off("input.getSize propertychange.getSize").on("input.getSize propertychange.getSize",b),e(window).off("resize.getSize").on("resize.getSize",b),e(window).off("scroll.getSize").on("scroll.getSize",b)}else if(this.options.size&&"auto"!=this.options.size&&s.find("li"+v).length>this.options.size){var w=this.$lis.not(".divider"+v).find(" > *").slice(0,this.options.size).last().parent().index(),E=this.$lis.slice(0,w+1).filter(".divider").length;t=f*this.options.size+E*p+d,i.options.dropupAuto&&this.$newElement.toggleClass("dropup",n>r&&t<s.height()),s.css({"max-height":t+l+c+h+"px",overflow:"hidden"}),o.css({"max-height":t-d+"px","overflow-y":"auto"})}},setWidth:function(){if("auto"==this.options.width){this.$menu.css("min-width","0");var e=this.$newElement.clone().appendTo("body"),t=e.find("> .dropdown-menu").css("width"),n=e.css("width","auto").find("> button").css("width");e.remove(),this.$newElement.css("width",Math.max(parseInt(t),parseInt(n))+"px")}else"fit"==this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width","").addClass("fit-width")):this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width",this.options.width)):(this.$menu.css("min-width",""),this.$newElement.css("width",""));this.$newElement.hasClass("fit-width")&&"fit"!==this.options.width&&this.$newElement.removeClass("fit-width")},selectPosition:function(){var t,n,r=this,i="<div />",s=e(i),o=function(e){s.addClass(e.attr("class").replace(/form-control/gi,"")).toggleClass("dropup",e.hasClass("dropup")),t=e.offset(),n=e.hasClass("dropup")?0:e[0].offsetHeight,s.css({top:t.top+n,left:t.left,width:e[0].offsetWidth,position:"absolute"})};this.$newElement.on("click",function(){r.isDisabled()||(o(e(this)),s.appendTo(r.options.container),s.toggleClass("open",!e(this).hasClass("open")),s.append(r.$menu))}),e(window).resize(function(){o(r.$newElement)}),e(window).on("scroll",function(){o(r.$newElement)}),e("html").on("click",function(t){e(t.target).closest(r.$newElement).length<1&&s.removeClass("open")})},setSelected:function(e,t){this.findLis(),this.$lis.filter('[data-original-index="'+e+'"]').toggleClass("selected",t)},setDisabled:function(e,t){this.findLis(),t?this.$lis.filter('[data-original-index="'+e+'"]').addClass("disabled").find("a").attr("href","#").attr("tabindex",-1):this.$lis.filter('[data-original-index="'+e+'"]').removeClass("disabled").find("a").removeAttr("href").attr("tabindex",0)},isDisabled:function(){return this.$element.is(":disabled")},checkDisabled:function(){var e=this;this.isDisabled()?this.$button.addClass("disabled").attr("tabindex",-1):(this.$button.hasClass("disabled")&&this.$button.removeClass("disabled"),-1==this.$button.attr("tabindex")&&(this.$element.data("tabindex")||this.$button.removeAttr("tabindex"))),this.$button.click(function(){return!e.isDisabled()})},tabIndex:function(){this.$element.is("[tabindex]")&&(this.$element.data("tabindex",this.$element.attr("tabindex")),this.$button.attr("tabindex",this.$element.data("tabindex")))},clickListener:function(){var t=this;this.$newElement.on("touchstart.dropdown",".dropdown-menu",function(e){e.stopPropagation()}),this.$newElement.on("click",function(){t.setSize(),t.options.liveSearch||t.multiple||setTimeout(function(){t.$menu.find(".selected a").focus()},10)}),this.$menu.on("click","li a",function(n){var r=e(this),i=r.parent().data("originalIndex"),s=t.$element.val(),o=t.$element.prop("selectedIndex");if(t.multiple&&n.stopPropagation(),n.preventDefault(),!t.isDisabled()&&!r.parent().hasClass("disabled")){var u=t.$element.find("option"),f=u.eq(i),l=f.prop("selected"),c=f.parent("optgroup"),h=t.options.maxOptions,p=c.data("maxOptions")||!1;if(t.multiple){if(f.prop("selected",!l),t.setSelected(i,!l),r.blur(),h!==!1||p!==!1){var d=h<u.filter(":selected").length,v=p<c.find("option:selected").length;if(h&&d||p&&v)if(h&&1==h)u.prop("selected",!1),f.prop("selected",!0),t.$menu.find(".selected").removeClass("selected"),t.setSelected(i,!0);else if(p&&1==p){c.find("option:selected").prop("selected",!1),f.prop("selected",!0);var m=r.data("optgroup");t.$menu.find(".selected").has('a[data-optgroup="'+m+'"]').removeClass("selected"),t.setSelected(i,!0)}else{var g="function"==typeof t.options.maxOptionsText?t.options.maxOptionsText(h,p):t.options.maxOptionsText,y=g[0].replace("{n}",h),w=g[1].replace("{n}",p),E=e('<div class="notify"></div>');g[2]&&(y=y.replace("{var}",g[2][h>1?0:1]),w=w.replace("{var}",g[2][p>1?0:1])),f.prop("selected",!1),t.$menu.append(E),h&&d&&(E.append(e("<div>"+y+"</div>")),t.$element.trigger("maxReached.bs.select")),p&&v&&(E.append(e("<div>"+w+"</div>")),t.$element.trigger("maxReachedGrp.bs.select")),setTimeout(function(){t.setSelected(i,!1)},10),E.delay(750).fadeOut(300,function(){e(this).remove()})}}}else u.prop("selected",!1),f.prop("selected",!0),t.$menu.find(".selected").removeClass("selected"),t.setSelected(i,!0);t.multiple?t.options.liveSearch&&t.$searchbox.focus():t.$button.focus(),(s!=t.$element.val()&&t.multiple||o!=t.$element.prop("selectedIndex")&&!t.multiple)&&t.$element.change()}}),this.$menu.on("click","li.disabled a, .popover-title, .popover-title :not(.close)",function(e){e.target==this&&(e.preventDefault(),e.stopPropagation(),t.options.liveSearch?t.$searchbox.focus():t.$button.focus())}),this.$menu.on("click","li.divider, li.dropdown-header",function(e){e.preventDefault(),e.stopPropagation(),t.options.liveSearch?t.$searchbox.focus():t.$button.focus()}),this.$menu.on("click",".popover-title .close",function(){t.$button.focus()}),this.$searchbox.on("click",function(e){e.stopPropagation()}),this.$menu.on("click",".actions-btn",function(n){t.options.liveSearch?t.$searchbox.focus():t.$button.focus(),n.preventDefault(),n.stopPropagation(),e(this).is(".bs-select-all")?t.selectAll():t.deselectAll(),t.$element.change()}),this.$element.change(function(){t.render(!1)})},liveSearchListener:function(){var t=this,i=e('<li class="no-results"></li>');this.$newElement.on("click.dropdown.data-api touchstart.dropdown.data-api",function(){t.$menu.find(".active").removeClass("active"),t.$searchbox.val()&&(t.$searchbox.val(""),t.$lis.not(".is-hidden").removeClass("hide"),i.parent().length&&i.remove()),t.multiple||t.$menu.find(".selected").addClass("active"),setTimeout(function(){t.$searchbox.focus()},10)}),this.$searchbox.on("click.dropdown.data-api focus.dropdown.data-api touchend.dropdown.data-api",function(e){e.stopPropagation()}),this.$searchbox.on("input propertychange",function(){t.$searchbox.val()?(t.options.searchAccentInsensitive?t.$lis.not(".is-hidden").removeClass("hide").find("a").not(":aicontains("+n(t.$searchbox.val())+")").parent().addClass("hide"):t.$lis.not(".is-hidden").removeClass("hide").find("a").not(":icontains("+t.$searchbox.val()+")").parent().addClass("hide"),t.$menu.find("li").filter(":visible:not(.no-results)").length?i.parent().length&&i.remove():(i.parent().length&&i.remove(),i.html(t.options.noneResultsText+' "'+r(t.$searchbox.val())+'"').show(),t.$menu.find("li").last().after(i))):(t.$lis.not(".is-hidden").removeClass("hide"),i.parent().length&&i.remove()),t.$menu.find("li.active").removeClass("active"),t.$menu.find("li").filter(":visible:not(.divider)").eq(0).addClass("active").find("a").focus(),e(this).focus()})},val:function(e){return"undefined"!=typeof e?(this.$element.val(e),this.render(),this.$element):this.$element.val()},selectAll:function(){this.findLis(),this.$lis.not(".divider").not(".disabled").not(".selected").filter(":visible").find("a").click()},deselectAll:function(){this.findLis(),this.$lis.not(".divider").not(".disabled").filter(".selected").filter(":visible").find("a").click()},keydown:function(t){var r,i,s,o,u,f,l,h,p,d=e(this),v=d.is("input")?d.parent().parent():d.parent(),m=v.data("this"),g={32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9"};if(m.options.liveSearch&&(v=d.parent().parent()),m.options.container&&(v=m.$menu),r=e("[role=menu] li a",v),p=m.$menu.parent().hasClass("open"),!p&&/([0-9]|[A-z])/.test(String.fromCharCode(t.keyCode))&&(m.options.container?m.$newElement.trigger("click"):(m.setSize(),m.$menu.parent().addClass("open"),p=!0),m.$searchbox.focus()),m.options.liveSearch&&(/(^9$|27)/.test(t.keyCode.toString(10))&&p&&0===m.$menu.find(".active").length&&(t.preventDefault(),m.$menu.parent().removeClass("open"),m.$button.focus()),r=e("[role=menu] li:not(.divider):not(.dropdown-header):visible",v),d.val()||/(38|40)/.test(t.keyCode.toString(10))||0===r.filter(".active").length&&(r=m.$newElement.find("li").filter(m.options.searchAccentInsensitive?":aicontains("+n(g[t.keyCode])+")":":icontains("+g[t.keyCode]+")"))),r.length){if(/(38|40)/.test(t.keyCode.toString(10)))i=r.index(r.filter(":focus")),o=r.parent(":not(.disabled):visible").first().index(),u=r.parent(":not(.disabled):visible").last().index(),s=r.eq(i).parent().nextAll(":not(.disabled):visible").eq(0).index(),f=r.eq(i).parent().prevAll(":not(.disabled):visible").eq(0).index(),l=r.eq(s).parent().prevAll(":not(.disabled):visible").eq(0).index(),m.options.liveSearch&&(r.each(function(t){e(this).is(":not(.disabled)")&&e(this).data("index",t)}),i=r.index(r.filter(".active")),o=r.filter(":not(.disabled):visible").first().data("index"),u=r.filter(":not(.disabled):visible").last().data("index"),s=r.eq(i).nextAll(":not(.disabled):visible").eq(0).data("index"),f=r.eq(i).prevAll(":not(.disabled):visible").eq(0).data("index"),l=r.eq(s).prevAll(":not(.disabled):visible").eq(0).data("index")),h=d.data("prevIndex"),38==t.keyCode&&(m.options.liveSearch&&(i-=1),i!=l&&i>f&&(i=f),o>i&&(i=o),i==h&&(i=u)),40==t.keyCode&&(m.options.liveSearch&&(i+=1),-1==i&&(i=0),i!=l&&s>i&&(i=s),i>u&&(i=u),i==h&&(i=o)),d.data("prevIndex",i),m.options.liveSearch?(t.preventDefault(),d.is(".dropdown-toggle")||(r.removeClass("active"),r.eq(i).addClass("active").find("a").focus(),d.focus())):r.eq(i).focus();else if(!d.is("input")){var y,b,w=[];r.each(function(){e(this).parent().is(":not(.disabled)")&&e.trim(e(this).text().toLowerCase()).substring(0,1)==g[t.keyCode]&&w.push(e(this).parent().index())}),y=e(document).data("keycount"),y++,e(document).data("keycount",y),b=e.trim(e(":focus").text().toLowerCase()).substring(0,1),b!=g[t.keyCode]?(y=1,e(document).data("keycount",y)):y>=w.length&&(e(document).data("keycount",0),y>w.length&&(y=1)),r.eq(w[y-1]).focus()}(/(13|32)/.test(t.keyCode.toString(10))||/(^9$)/.test(t.keyCode.toString(10))&&m.options.selectOnTab)&&p&&(/(32)/.test(t.keyCode.toString(10))||t.preventDefault(),m.options.liveSearch?/(32)/.test(t.keyCode.toString(10))||(m.$menu.find(".active a").click(),d.focus()):e(":focus").click(),e(document).data("keycount",0)),(/(^9$|27)/.test(t.keyCode.toString(10))&&p&&(m.multiple||m.options.liveSearch)||/(27)/.test(t.keyCode.toString(10))&&!p)&&(m.$menu.parent().removeClass("open"),m.$button.focus())}},mobile:function(){this.$element.addClass("mobile-device").appendTo(this.$newElement),this.options.container&&this.$menu.hide()},refresh:function(){this.$lis=null,this.reloadLi(),this.render(),this.setWidth(),this.setStyle(),this.checkDisabled(),this.liHeight()},update:function(){this.reloadLi(),this.setWidth(),this.setStyle(),this.checkDisabled(),this.liHeight()},hide:function(){this.$newElement.hide()},show:function(){this.$newElement.show()},remove:function(){this.$newElement.remove(),this.$element.remove()}};var o=e.fn.selectpicker;e.fn.selectpicker=i,e.fn.selectpicker.Constructor=s,e.fn.selectpicker.noConflict=function(){return e.fn.selectpicker=o,this},e(document).data("keycount",0).on("keydown",".bootstrap-select [data-toggle=dropdown], .bootstrap-select [role=menu], .bs-searchbox input",s.prototype.keydown).on("focusin.modal",".bootstrap-select [data-toggle=dropdown], .bootstrap-select [role=menu], .bs-searchbox input",function(e){e.stopPropagation()}),e(window).on("load.bs.select.data-api",function(){e(".selectpicker").each(function(){var t=e(this);i.call(t,t.data())})})}(jQuery),!function(e){var t=function(){var t=[],n=!1,r,i=function(e){clearTimeout(r),r=setTimeout(s,100)},s=function(){for(var e=0,n=t.length;e<n;e++)t[e].apply()};return{register:function(r){t.push(r),n===!1&&(e(window).bind("resize",i),n=!0)},unregister:function(e){for(var n=0,r=t.length;n<r;n++)if(t[n]==e){delete t[n];break}}}}(),n=function(n,r){this.element=e(n),this.dropdown=e('<li class="dropdown hide pull-right tabdrop"><a class="dropdown-toggle" data-toggle="dropdown" href="#">'+r.text+' <b class="caret"></b></a><ul class="dropdown-menu" style=\'max-height:400px;overflow-y: auto;overflow-x: hidden;\'></ul></li>').prependTo(this.element),this.element.parent().is(".tabs-below")&&this.dropdown.addClass("dropup"),t.register(e.proxy(this.layout,this)),this.layout()};n.prototype={constructor:n,layout:function(){var t=[];this.dropdown.removeClass("hide"),this.element.append(this.dropdown.find("li")).find(">li").not(".tabdrop").each(function(){this.offsetTop>0&&t.push(this)}),t.length>0?(t=e(t),this.dropdown.find("ul").empty().append(t),this.dropdown.find(".active").length==1?this.dropdown.addClass("active"):this.dropdown.removeClass("active")):this.dropdown.addClass("hide")}},e.fn.tabdrop=function(t){return this.each(function(){var r=e(this),i=r.data("tabdrop"),s=typeof t=="object"&&t;i||r.data("tabdrop",i=new n(this,e.extend({},e.fn.tabdrop.defaults,s))),typeof t=="string"&&i[t]()})},e.fn.tabdrop.defaults={text:'<i class="icon-align-justify"></i>'},e.fn.tabdrop.Constructor=n}(window.jQuery),function(e){typeof define=="function"&&define.amd?define(["jquery"],e):typeof exports=="object"?e(require("jquery")):e(jQuery)}(function(e,t){function n(){return new Date(Date.UTC.apply(Date,arguments))}function r(){var e=new Date;return n(e.getFullYear(),e.getMonth(),e.getDate())}function i(e,t){return e.getUTCFullYear()===t.getUTCFullYear()&&e.getUTCMonth()===t.getUTCMonth()&&e.getUTCDate()===t.getUTCDate()}function s(n,r){return function(){return r!==t&&e.fn.datepicker.deprecated(r),this[n].apply(this,arguments)}}function o(e){return e&&!isNaN(e.getTime())}function l(t,n){function u(e,t){return t.toLowerCase()}var r=e(t).data(),i={},s,o=new RegExp("^"+n.toLowerCase()+"([A-Z])");n=new RegExp("^"+n.toLowerCase());for(var a in r)n.test(a)&&(s=a.replace(o,u),i[s]=r[a]);return i}function c(t){var n={};if(!m[t]){t=t.split("-")[0];if(!m[t])return}var r=m[t];return e.each(v,function(e,t){t in r&&(n[t]=r[t])}),n}var u=function(){var t={get:function(e){return this.slice(e)[0]},contains:function(e){var t=e&&e.valueOf();for(var n=0,r=this.length;n<r;n++)if(0<=this[n].valueOf()-t&&this[n].valueOf()-t<864e5)return n;return-1},remove:function(e){this.splice(e,1)},replace:function(t){if(!t)return;e.isArray(t)||(t=[t]),this.clear(),this.push.apply(this,t)},clear:function(){this.length=0},copy:function(){var e=new u;return e.replace(this),e}};return function(){var n=[];return n.push.apply(n,arguments),e.extend(n,t),n}}(),a=function(t,n){e.data(t,"datepicker",this),this._process_options(n),this.dates=new u,this.viewDate=this.o.defaultViewDate,this.focusDate=null,this.element=e(t),this.isInput=this.element.is("input"),this.inputField=this.isInput?this.element:this.element.find("input"),this.component=this.element.hasClass("date")?this.element.find(".add-on, .input-group-addon, .btn"):!1,this.component&&this.component.length===0&&(this.component=!1),this.isInline=!this.component&&this.element.is("div"),this.picker=e(g.template),this._check_template(this.o.templates.leftArrow)&&this.picker.find(".prev").html(this.o.templates.leftArrow),this._check_template(this.o.templates.rightArrow)&&this.picker.find(".next").html(this.o.templates.rightArrow),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.o.rtl&&this.picker.addClass("datepicker-rtl"),this.o.calendarWeeks&&this.picker.find(".datepicker-days .datepicker-switch, thead .datepicker-title, tfoot .today, tfoot .clear").attr("colspan",function(e,t){return Number(t)+1}),this._process_options({startDate:this._o.startDate,endDate:this._o.endDate,daysOfWeekDisabled:this.o.daysOfWeekDisabled,daysOfWeekHighlighted:this.o.daysOfWeekHighlighted,datesDisabled:this.o.datesDisabled}),this._allow_update=!1,this.setViewMode(this.o.startView),this._allow_update=!0,this.fillDow(),this.fillMonths(),this.update(),this.isInline&&this.show()};a.prototype={constructor:a,_resolveViewName:function(t){return e.each(g.viewModes,function(n,r){if(t===n||e.inArray(t,r.names)!==-1)return t=n,!1}),t},_resolveDaysOfWeek:function(t){return e.isArray(t)||(t=t.split(/[,\s]*/)),e.map(t,Number)},_check_template:function(n){try{if(n===t||n==="")return!1;if((n.match(/[<>]/g)||[]).length<=0)return!0;var r=e(n);return r.length>0}catch(i){return!1}},_process_options:function(t){this._o=e.extend({},this._o,t);var i=this.o=e.extend({},this._o),s=i.language;m[s]||(s=s.split("-")[0],m[s]||(s=d.language)),i.language=s,i.startView=this._resolveViewName(i.startView),i.minViewMode=this._resolveViewName(i.minViewMode),i.maxViewMode=this._resolveViewName(i.maxViewMode),i.startView=Math.max(this.o.minViewMode,Math.min(this.o.maxViewMode,i.startView)),i.multidate!==!0&&(i.multidate=Number(i.multidate)||!1,i.multidate!==!1&&(i.multidate=Math.max(0,i.multidate))),i.multidateSeparator=String(i.multidateSeparator),i.weekStart%=7,i.weekEnd=(i.weekStart+6)%7;var o=g.parseFormat(i.format);i.startDate!==-Infinity&&(i.startDate?i.startDate instanceof Date?i.startDate=this._local_to_utc(this._zero_time(i.startDate)):i.startDate=g.parseDate(i.startDate,o,i.language,i.assumeNearbyYear):i.startDate=-Infinity),i.endDate!==Infinity&&(i.endDate?i.endDate instanceof Date?i.endDate=this._local_to_utc(this._zero_time(i.endDate)):i.endDate=g.parseDate(i.endDate,o,i.language,i.assumeNearbyYear):i.endDate=Infinity),i.daysOfWeekDisabled=this._resolveDaysOfWeek(i.daysOfWeekDisabled||[]),i.daysOfWeekHighlighted=this._resolveDaysOfWeek(i.daysOfWeekHighlighted||[]),i.datesDisabled=i.datesDisabled||[],e.isArray(i.datesDisabled)||(i.datesDisabled=i.datesDisabled.split(",")),i.datesDisabled=e.map(i.datesDisabled,function(e){return g.parseDate(e,o,i.language,i.assumeNearbyYear)});var u=String(i.orientation).toLowerCase().split(/\s+/g),a=i.orientation.toLowerCase();u=e.grep(u,function(e){return/^auto|left|right|top|bottom$/.test(e)}),i.orientation={x:"auto",y:"auto"};if(!!a&&a!=="auto")if(u.length===1)switch(u[0]){case"top":case"bottom":i.orientation.y=u[0];break;case"left":case"right":i.orientation.x=u[0]}else a=e.grep(u,function(e){return/^left|right$/.test(e)}),i.orientation.x=a[0]||"auto",a=e.grep(u,function(e){return/^top|bottom$/.test(e)}),i.orientation.y=a[0]||"auto";if(i.defaultViewDate instanceof Date||typeof i.defaultViewDate=="string")i.defaultViewDate=g.parseDate(i.defaultViewDate,o,i.language,i.assumeNearbyYear);else if(i.defaultViewDate){var f=i.defaultViewDate.year||(new Date).getFullYear(),l=i.defaultViewDate.month||0,c=i.defaultViewDate.day||1;i.defaultViewDate=n(f,l,c)}else i.defaultViewDate=r()},_events:[],_secondaryEvents:[],_applyEvents:function(e){for(var n=0,r,i,s;n<e.length;n++)r=e[n][0],e[n].length===2?(i=t,s=e[n][1]):e[n].length===3&&(i=e[n][1],s=e[n][2]),r.on(s,i)},_unapplyEvents:function(e){for(var n=0,r,i,s;n<e.length;n++)r=e[n][0],e[n].length===2?(s=t,i=e[n][1]):e[n].length===3&&(s=e[n][1],i=e[n][2]),r.off(i,s)},_buildEvents:function(){var t={keyup:e.proxy(function(t){e.inArray(t.keyCode,[27,37,39,38,40,32,13,9])===-1&&this.update()},this),keydown:e.proxy(this.keydown,this),paste:e.proxy(this.paste,this)};this.o.showOnFocus===!0&&(t.focus=e.proxy(this.show,this)),this.isInput?this._events=[[this.element,t]]:this.component&&this.inputField.length?this._events=[[this.inputField,t],[this.component,{click:e.proxy(this.show,this)}]]:this._events=[[this.element,{click:e.proxy(this.show,this),keydown:e.proxy(this.keydown,this)}]],this._events.push([this.element,"*",{blur:e.proxy(function(e){this._focused_from=e.target},this)}],[this.element,{blur:e.proxy(function(e){this._focused_from=e.target},this)}]),this.o.immediateUpdates&&this._events.push([this.element,{"changeYear changeMonth":e.proxy(function(e){this.update(e.date)},this)}]),this._secondaryEvents=[[this.picker,{click:e.proxy(this.click,this)}],[this.picker,".prev, .next",{click:e.proxy(this.navArrowsClick,this)}],[this.picker,".day:not(.disabled)",{click:e.proxy(this.dayCellClick,this)}],[e(window),{resize:e.proxy(this.place,this)}],[e(document),{"mousedown touchstart":e.proxy(function(e){this.element.is(e.target)||this.element.find(e.target).length||this.picker.is(e.target)||this.picker.find(e.target).length||this.isInline||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(t,n){var r=n||this.dates.get(-1),i=this._utc_to_local(r);this.element.trigger({type:t,date:i,viewMode:this.viewMode,dates:e.map(this.dates,this._utc_to_local),format:e.proxy(function(e,t){arguments.length===0?(e=this.dates.length-1,t=this.o.format):typeof e=="string"&&(t=e,e=this.dates.length-1),t=t||this.o.format;var n=this.dates.get(e);return g.formatDate(n,t,this.o.language)},this)})},show:function(){if(this.inputField.prop("disabled")||this.inputField.prop("readonly")&&this.o.enableOnReadonly===!1)return;return this.isInline||this.picker.appendTo(this.o.container),this.place(),this.picker.show(),this._attachSecondaryEvents(),this._trigger("show"),(window.navigator.msMaxTouchPoints||"ontouchstart"in document)&&this.o.disableTouchKeyboard&&e(this.element).blur(),this},hide:function(){return this.isInline||!this.picker.is(":visible")?this:(this.focusDate=null,this.picker.hide().detach(),this._detachSecondaryEvents(),this.setViewMode(this.o.startView),this.o.forceParse&&this.inputField.val()&&this.setValue(),this._trigger("hide"),this)},destroy:function(){return this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date,this},paste:function(t){var n;if(t.originalEvent.clipboardData&&t.originalEvent.clipboardData.types&&e.inArray("text/plain",t.originalEvent.clipboardData.types)!==-1)n=t.originalEvent.clipboardData.getData("text/plain");else{if(!window.clipboardData)return;n=window.clipboardData.getData("Text")}this.setDate(n),this.update(),t.preventDefault()},_utc_to_local:function(e){if(!e)return e;var t=new Date(e.getTime()+e.getTimezoneOffset()*6e4);return t.getTimezoneOffset()!==e.getTimezoneOffset()&&(t=new Date(e.getTime()+t.getTimezoneOffset()*6e4)),t},_local_to_utc:function(e){return e&&new Date(e.getTime()-e.getTimezoneOffset()*6e4)},_zero_time:function(e){return e&&new Date(e.getFullYear(),e.getMonth(),e.getDate())},_zero_utc_time:function(e){return e&&n(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate())},getDates:function(){return e.map(this.dates,this._utc_to_local)},getUTCDates:function(){return e.map(this.dates,function(e){return new Date(e)})},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){var e=this.dates.get(-1);return e!==t?new Date(e):null},clearDates:function(){this.inputField.val(""),this.update(),this._trigger("changeDate"),this.o.autoclose&&this.hide()},setDates:function(){var t=e.isArray(arguments[0])?arguments[0]:arguments;return this.update.apply(this,t),this._trigger("changeDate"),this.setValue(),this},setUTCDates:function(){var t=e.isArray(arguments[0])?arguments[0]:arguments;return this.setDates.apply(this,e.map(t,this._utc_to_local)),this},setDate:s("setDates"),setUTCDate:s("setUTCDates"),remove:s("destroy","Method `remove` is deprecated and will be removed in version 2.0. Use `destroy` instead"),setValue:function(){var e=this.getFormattedDate();return this.inputField.val(e),this},getFormattedDate:function(n){n===t&&(n=this.o.format);var r=this.o.language;return e.map(this.dates,function(e){return g.formatDate(e,n,r)}).join(this.o.multidateSeparator)},getStartDate:function(){return this.o.startDate},setStartDate:function(e){return this._process_options({startDate:e}),this.update(),this.updateNavArrows(),this},getEndDate:function(){return this.o.endDate},setEndDate:function(e){return this._process_options({endDate:e}),this.update(),this.updateNavArrows(),this},setDaysOfWeekDisabled:function(e){return this._process_options({daysOfWeekDisabled:e}),this.update(),this},setDaysOfWeekHighlighted:function(e){return this._process_options({daysOfWeekHighlighted:e}),this.update(),this},setDatesDisabled:function(e){return this._process_options({datesDisabled:e}),this.update(),this},place:function(){if(this.isInline)return this;var t=this.picker.outerWidth(),n=this.picker.outerHeight(),r=10,i=e(this.o.container),s=i.width(),o=this.o.container==="body"?e(document).scrollTop():i.scrollTop(),u=i.offset(),a=[0];this.element.parents().each(function(){var t=e(this).css("z-index");t!=="auto"&&Number(t)!==0&&a.push(Number(t))});var f=Math.max.apply(Math,a)+this.o.zIndexOffset,l=this.component?this.component.parent().offset():this.element.offset(),c=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),h=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),p=l.left-u.left,d=l.top-u.top;this.o.container!=="body"&&(d+=o),this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"),this.o.orientation.x!=="auto"?(this.picker.addClass("datepicker-orient-"+this.o.orientation.x),this.o.orientation.x==="right"&&(p-=t-h)):l.left<0?(this.picker.addClass("datepicker-orient-left"),p-=l.left-r):p+t>s?(this.picker.addClass("datepicker-orient-right"),p+=h-t):this.o.rtl?this.picker.addClass("datepicker-orient-right"):this.picker.addClass("datepicker-orient-left");var v=this.o.orientation.y,m;v==="auto"&&(m=-o+d-n,v=m<0?"bottom":"top"),this.picker.addClass("datepicker-orient-"+v),v==="top"?d-=n+parseInt(this.picker.css("padding-top")):d+=c;if(this.o.rtl){var g=s-(p+h);this.picker.css({top:d,right:g,zIndex:f})}else this.picker.css({top:d,left:p,zIndex:f});return this},_allow_update:!0,update:function(){if(!this._allow_update)return this;var t=this.dates.copy(),n=[],r=!1;return arguments.length?(e.each(arguments,e.proxy(function(e,t){t instanceof Date&&(t=this._local_to_utc(t)),n.push(t)},this)),r=!0):(n=this.isInput?this.element.val():this.element.data("date")||this.inputField.val(),n&&this.o.multidate?n=n.split(this.o.multidateSeparator):n=[n],delete this.element.data().date),n=e.map(n,e.proxy(function(e){return g.parseDate(e,this.o.format,this.o.language,this.o.assumeNearbyYear)},this)),n=e.grep(n,e.proxy(function(e){return!this.dateWithinRange(e)||!e},this),!0),this.dates.replace(n),this.o.updateViewDate&&(this.dates.length?this.viewDate=new Date(this.dates.get(-1)):this.viewDate<this.o.startDate?this.viewDate=new Date(this.o.startDate):this.viewDate>this.o.endDate?this.viewDate=new Date(this.o.endDate):this.viewDate=this.o.defaultViewDate),r?(this.setValue(),this.element.change()):this.dates.length&&String(t)!==String(this.dates)&&r&&(this._trigger("changeDate"),this.element.change()),!this.dates.length&&t.length&&(this._trigger("clearDate"),this.element.change()),this.fill(),this},fillDow:function(){if(this.o.showWeekDays){var t=this.o.weekStart,n="<tr>";this.o.calendarWeeks&&(n+='<th class="cw">&#160;</th>');while(t<this.o.weekStart+7)n+='<th class="dow',e.inArray(t,this.o.daysOfWeekDisabled)!==-1&&(n+=" disabled"),n+='">'+m[this.o.language].daysMin[t++%7]+"</th>";n+="</tr>",this.picker.find(".datepicker-days thead").append(n)}},fillMonths:function(){var e=this._utc_to_local(this.viewDate),t="",n;for(var r=0;r<12;r++)n=e&&e.getMonth()===r?" focused":"",t+='<span class="month'+n+'">'+m[this.o.language].monthsShort[r]+"</span>";this.picker.find(".datepicker-months td").html(t)},setRange:function(t){!t||!t.length?delete this.range:this.range=e.map(t,function(e){return e.valueOf()}),this.fill()},getClassNames:function(t){var n=[],s=this.viewDate.getUTCFullYear(),o=this.viewDate.getUTCMonth(),u=r();return t.getUTCFullYear()<s||t.getUTCFullYear()===s&&t.getUTCMonth()<o?n.push("old"):(t.getUTCFullYear()>s||t.getUTCFullYear()===s&&t.getUTCMonth()>o)&&n.push("new"),this.focusDate&&t.valueOf()===this.focusDate.valueOf()&&n.push("focused"),this.o.todayHighlight&&i(t,u)&&n.push("today"),this.dates.contains(t)!==-1&&n.push("active"),this.dateWithinRange(t)||n.push("disabled"),this.dateIsDisabled(t)&&n.push("disabled","disabled-date"),e.inArray(t.getUTCDay(),this.o.daysOfWeekHighlighted)!==-1&&n.push("highlighted"),this.range&&(t>this.range[0]&&t<this.range[this.range.length-1]&&n.push("range"),e.inArray(t.valueOf(),this.range)!==-1&&n.push("selected"),t.valueOf()===this.range[0]&&n.push("range-start"),t.valueOf()===this.range[this.range.length-1]&&n.push("range-end")),n},_fill_yearsView:function(n,r,i,s,o,u,a){var f="",l=i/10,c=this.picker.find(n),h=Math.floor(s/i)*i,p=h+l*9,d=Math.floor(this.viewDate.getFullYear()/l)*l,v=e.map(this.dates,function(e){return Math.floor(e.getUTCFullYear()/l)*l}),m,g,y;for(var b=h-l;b<=p+l;b+=l)m=[r],g=null,b===h-l?m.push("old"):b===p+l&&m.push("new"),e.inArray(b,v)!==-1&&m.push("active"),(b<o||b>u)&&m.push("disabled"),b===d&&m.push("focused"),a!==e.noop&&(y=a(new Date(b,0,1)),y===t?y={}:typeof y=="boolean"?y={enabled:y}:typeof y=="string"&&(y={classes:y}),y.enabled===!1&&m.push("disabled"),y.classes&&(m=m.concat(y.classes.split(/\s+/))),y.tooltip&&(g=y.tooltip)),f+='<span class="'+m.join(" ")+'"'+(g?' title="'+g+'"':"")+">"+b+"</span>";c.find(".datepicker-switch").text(h+"-"+p),c.find("td").html(f)},fill:function(){var r=new Date(this.viewDate),i=r.getUTCFullYear(),s=r.getUTCMonth(),o=this.o.startDate!==-Infinity?this.o.startDate.getUTCFullYear():-Infinity,u=this.o.startDate!==-Infinity?this.o.startDate.getUTCMonth():-Infinity,a=this.o.endDate!==Infinity?this.o.endDate.getUTCFullYear():Infinity,f=this.o.endDate!==Infinity?this.o.endDate.getUTCMonth():Infinity,l=m[this.o.language].today||m.en.today||"",c=m[this.o.language].clear||m.en.clear||"",h=m[this.o.language].titleFormat||m.en.titleFormat,p,d;if(isNaN(i)||isNaN(s))return;this.picker.find(".datepicker-days .datepicker-switch").text(g.formatDate(r,h,this.o.language)),this.picker.find("tfoot .today").text(l).css("display",this.o.todayBtn===!0||this.o.todayBtn==="linked"?"table-cell":"none"),this.picker.find("tfoot .clear").text(c).css("display",this.o.clearBtn===!0?"table-cell":"none"),this.picker.find("thead .datepicker-title").text(this.o.title).css("display",typeof this.o.title=="string"&&this.o.title!==""?"table-cell":"none"),this.updateNavArrows(),this.fillMonths();var v=n(i,s,0),y=v.getUTCDate();v.setUTCDate(y-(v.getUTCDay()-this.o.weekStart+7)%7);var b=new Date(v);v.getUTCFullYear()<100&&b.setUTCFullYear(v.getUTCFullYear()),b.setUTCDate(b.getUTCDate()+42),b=b.valueOf();var w=[],E,S;while(v.valueOf()<b){E=v.getUTCDay();if(E===this.o.weekStart){w.push("<tr>");if(this.o.calendarWeeks){var x=new Date(+v+(this.o.weekStart-E-7)%7*864e5),T=new Date(Number(x)+(11-x.getUTCDay())%7*864e5),N=new Date(Number(N=n(T.getUTCFullYear(),0,1))+(11-N.getUTCDay())%7*864e5),C=(T-N)/864e5/7+1;w.push('<td class="cw">'+C+"</td>")}}S=this.getClassNames(v),S.push("day");var k=v.getUTCDate();this.o.beforeShowDay!==e.noop&&(d=this.o.beforeShowDay(this._utc_to_local(v)),d===t?d={}:typeof d=="boolean"?d={enabled:d}:typeof d=="string"&&(d={classes:d}),d.enabled===!1&&S.push("disabled"),d.classes&&(S=S.concat(d.classes.split(/\s+/))),d.tooltip&&(p=d.tooltip),d.content&&(k=d.content)),e.isFunction(e.uniqueSort)?S=e.uniqueSort(S):S=e.unique(S),w.push('<td class="'+S.join(" ")+'"'+(p?' title="'+p+'"':"")+' data-date="'+v.getTime().toString()+'">'+k+"</td>"),p=null,E===this.o.weekEnd&&w.push("</tr>"),v.setUTCDate(v.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").html(w.join(""));var L=m[this.o.language].monthsTitle||m.en.monthsTitle||"Months",A=this.picker.find(".datepicker-months").find(".datepicker-switch").text(this.o.maxViewMode<2?L:i).end().find("tbody span").removeClass("active");e.each(this.dates,function(e,t){t.getUTCFullYear()===i&&A.eq(t.getUTCMonth()).addClass("active")}),(i<o||i>a)&&A.addClass("disabled"),i===o&&A.slice(0,u).addClass("disabled"),i===a&&A.slice(f+1).addClass("disabled");if(this.o.beforeShowMonth!==e.noop){var O=this;e.each(A,function(n,r){var s=new Date(i,n,1),o=O.o.beforeShowMonth(s);o===t?o={}:typeof o=="boolean"?o={enabled:o}:typeof o=="string"&&(o={classes:o}),o.enabled===!1&&!e(r).hasClass("disabled")&&e(r).addClass("disabled"),o.classes&&e(r).addClass(o.classes),o.tooltip&&e(r).prop("title",o.tooltip)})}this._fill_yearsView(".datepicker-years","year",10,i,o,a,this.o.beforeShowYear),this._fill_yearsView(".datepicker-decades","decade",100,i,o,a,this.o.beforeShowDecade),this._fill_yearsView(".datepicker-centuries","century",1e3,i,o,a,this.o.beforeShowCentury)},updateNavArrows:function(){if(!this._allow_update)return;var e=new Date(this.viewDate),t=e.getUTCFullYear(),n=e.getUTCMonth(),r=this.o.startDate!==-Infinity?this.o.startDate.getUTCFullYear():-Infinity,i=this.o.startDate!==-Infinity?this.o.startDate.getUTCMonth():-Infinity,s=this.o.endDate!==Infinity?this.o.endDate.getUTCFullYear():Infinity,o=this.o.endDate!==Infinity?this.o.endDate.getUTCMonth():Infinity,u,a,f=1;switch(this.viewMode){case 4:f*=10;case 3:f*=10;case 2:f*=10;case 1:u=Math.floor(t/f)*f<=r,a=Math.floor(t/f)*f+f>s;break;case 0:u=t<=r&&n<=i,a=t>=s&&n>=o}this.picker.find(".prev").toggleClass("disabled",u),this.picker.find(".next").toggleClass("disabled",a)},click:function(t){t.preventDefault(),t.stopPropagation();var i,s,o,u,a;i=e(t.target),i.hasClass("datepicker-switch")&&this.viewMode!==this.o.maxViewMode&&this.setViewMode(this.viewMode+1),i.hasClass("today")&&!i.hasClass("day")&&(this.setViewMode(0),this._setDate(r(),this.o.todayBtn==="linked"?null:"view")),i.hasClass("clear")&&this.clearDates(),!i.hasClass("disabled")&&(i.hasClass("month")||i.hasClass("year")||i.hasClass("decade")||i.hasClass("century"))&&(this.viewDate.setUTCDate(1),o=1,this.viewMode===1?(a=i.parent().find("span").index(i),u=this.viewDate.getUTCFullYear(),this.viewDate.setUTCMonth(a)):(a=0,u=Number(i.text()),this.viewDate.setUTCFullYear(u)),this._trigger(g.viewModes[this.viewMode-1].e,this.viewDate),this.viewMode===this.o.minViewMode?this._setDate(n(u,a,o)):(this.setViewMode(this.viewMode-1),this.fill())),this.picker.is(":visible")&&this._focused_from&&this._focused_from.focus(),delete this._focused_from},dayCellClick:function(t){var n=e(t.currentTarget),r=n.data("date"),i=new Date(r);this.o.updateViewDate&&(i.getUTCFullYear()!==this.viewDate.getUTCFullYear()&&this._trigger("changeYear",this.viewDate),i.getUTCMonth()!==this.viewDate.getUTCMonth()&&this._trigger("changeMonth",this.viewDate)),this._setDate(i)},navArrowsClick:function(t){var n=e(t.currentTarget),r=n.hasClass("prev")?-1:1;this.viewMode!==0&&(r*=g.viewModes[this.viewMode].navStep*12),this.viewDate=this.moveMonth(this.viewDate,r),this._trigger(g.viewModes[this.viewMode].e,this.viewDate),this.fill()},_toggle_multidate:function(e){var t=this.dates.contains(e);e||this.dates.clear(),t!==-1?(this.o.multidate===!0||this.o.multidate>1||this.o.toggleActive)&&this.dates.remove(t):this.o.multidate===!1?(this.dates.clear(),this.dates.push(e)):this.dates.push(e);if(typeof this.o.multidate=="number")while(this.dates.length>this.o.multidate)this.dates.remove(0)},_setDate:function(e,t){(!t||t==="date")&&this._toggle_multidate(e&&new Date(e));if(!t&&this.o.updateViewDate||t==="view")this.viewDate=e&&new Date(e);this.fill(),this.setValue(),(!t||t!=="view")&&this._trigger("changeDate"),this.inputField.trigger("change"),this.o.autoclose&&(!t||t==="date")&&this.hide()},moveDay:function(e,t){var n=new Date(e);return n.setUTCDate(e.getUTCDate()+t),n},moveWeek:function(e,t){return this.moveDay(e,t*7)},moveMonth:function(e,t){if(!o(e))return this.o.defaultViewDate;if(!t)return e;var n=new Date(e.valueOf()),r=n.getUTCDate(),i=n.getUTCMonth(),s=Math.abs(t),u,a;t=t>0?1:-1;if(s===1)a=t===-1?function(){return n.getUTCMonth()===i}:function(){return n.getUTCMonth()!==u},u=i+t,n.setUTCMonth(u),u=(u+12)%12;else{for(var f=0;f<s;f++)n=this.moveMonth(n,t);u=n.getUTCMonth(),n.setUTCDate(r),a=function(){return u!==n.getUTCMonth()}}while(a())n.setUTCDate(--r),n.setUTCMonth(u);return n},moveYear:function(e,t){return this.moveMonth(e,t*12)},moveAvailableDate:function(e,t,n){do{e=this[n](e,t);if(!this.dateWithinRange(e))return!1;n="moveDay"}while(this.dateIsDisabled(e));return e},weekOfDateIsDisabled:function(t){return e.inArray(t.getUTCDay(),this.o.daysOfWeekDisabled)!==-1},dateIsDisabled:function(t){return this.weekOfDateIsDisabled(t)||e.grep(this.o.datesDisabled,function(e){return i(t,e)}).length>0},dateWithinRange:function(e){return e>=this.o.startDate&&e<=this.o.endDate},keydown:function(e){if(!this.picker.is(":visible")){if(e.keyCode===40||e.keyCode===27)this.show(),e.stopPropagation();return}var t=!1,n,r,i=this.focusDate||this.viewDate;switch(e.keyCode){case 27:this.focusDate?(this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill()):this.hide(),e.preventDefault(),e.stopPropagation();break;case 37:case 38:case 39:case 40:if(!this.o.keyboardNavigation||this.o.daysOfWeekDisabled.length===7)break;n=e.keyCode===37||e.keyCode===38?-1:1;if(this.viewMode===0)e.ctrlKey?(r=this.moveAvailableDate(i,n,"moveYear"),r&&this._trigger("changeYear",this.viewDate)):e.shiftKey?(r=this.moveAvailableDate(i,n,"moveMonth"),r&&this._trigger("changeMonth",this.viewDate)):e.keyCode===37||e.keyCode===39?r=this.moveAvailableDate(i,n,"moveDay"):this.weekOfDateIsDisabled(i)||(r=this.moveAvailableDate(i,n,"moveWeek"));else if(this.viewMode===1){if(e.keyCode===38||e.keyCode===40)n*=4;r=this.moveAvailableDate(i,n,"moveMonth")}else if(this.viewMode===2){if(e.keyCode===38||e.keyCode===40)n*=4;r=this.moveAvailableDate(i,n,"moveYear")}r&&(this.focusDate=this.viewDate=r,this.setValue(),this.fill(),e.preventDefault());break;case 13:if(!this.o.forceParse)break;i=this.focusDate||this.dates.get(-1)||this.viewDate,this.o.keyboardNavigation&&(this._toggle_multidate(i),t=!0),this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.setValue(),this.fill(),this.picker.is(":visible")&&(e.preventDefault(),e.stopPropagation(),this.o.autoclose&&this.hide());break;case 9:this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill(),this.hide()}t&&(this.dates.length?this._trigger("changeDate"):this._trigger("clearDate"),this.inputField.trigger("change"))},setViewMode:function(e){this.viewMode=e,this.picker.children("div").hide().filter(".datepicker-"+g.viewModes[this.viewMode].clsName).show(),this.updateNavArrows(),this._trigger("changeViewMode",new Date(this.viewDate))}};var f=function(t,n){e.data(t,"datepicker",this),this.element=e(t),this.inputs=e.map(n.inputs,function(e){return e.jquery?e[0]:e}),delete n.inputs,this.keepEmptyValues=n.keepEmptyValues,delete n.keepEmptyValues,p.call(e(this.inputs),n).on("changeDate",e.proxy(this.dateUpdated,this)),this.pickers=e.map(this.inputs,function(t){return e.data(t,"datepicker")}),this.updateDates()};f.prototype={updateDates:function(){this.dates=e.map(this.pickers,function(e){return e.getUTCDate()}),this.updateRanges()},updateRanges:function(){var t=e.map(this.dates,function(e){return e.valueOf()});e.each(this.pickers,function(e,n){n.setRange(t)})},clearDates:function(){e.each(this.pickers,function(e,t){t.clearDates()})},dateUpdated:function(n){if(this.updating)return;this.updating=!0;var r=e.data(n.target,"datepicker");if(r===t)return;var i=r.getUTCDate(),s=this.keepEmptyValues,o=e.inArray(n.target,this.inputs),u=o-1,a=o+1,f=this.inputs.length;if(o===-1)return;e.each(this.pickers,function(e,t){!t.getUTCDate()&&(t===r||!s)&&t.setUTCDate(i)});if(i<this.dates[u])while(u>=0&&i<this.dates[u])this.pickers[u--].setUTCDate(i);else if(i>this.dates[a])while(a<f&&i>this.dates[a])this.pickers[a++].setUTCDate(i);this.updateDates(),delete this.updating},destroy:function(){e.map(this.pickers,function(e){e.destroy()}),e(this.inputs).off("changeDate",this.dateUpdated),delete this.element.data().datepicker},remove:s("destroy","Method `remove` is deprecated and will be removed in version 2.0. Use `destroy` instead")};var h=e.fn.datepicker,p=function(n){var r=Array.apply(null,arguments);r.shift();var i;this.each(function(){var t=e(this),s=t.data("datepicker"),o=typeof n=="object"&&n;if(!s){var u=l(this,"date"),h=e.extend({},d,u,o),p=c(h.language),v=e.extend({},d,p,u,o);t.hasClass("input-daterange")||v.inputs?(e.extend(v,{inputs:v.inputs||t.find("input").toArray()}),s=new f(this,v)):s=new a(this,v),t.data("datepicker",s)}typeof n=="string"&&typeof s[n]=="function"&&(i=s[n].apply(s,r))});if(i===t||i instanceof a||i instanceof f)return this;if(this.length>1)throw new Error("Using only allowed for the collection of a single element ("+n+" function)");return i};e.fn.datepicker=p;var d=e.fn.datepicker.defaults={assumeNearbyYear:!1,autoclose:!1,beforeShowDay:e.noop,beforeShowMonth:e.noop,beforeShowYear:e.noop,beforeShowDecade:e.noop,beforeShowCentury:e.noop,calendarWeeks:!1,clearBtn:!1,toggleActive:!1,daysOfWeekDisabled:[],daysOfWeekHighlighted:[],datesDisabled:[],endDate:Infinity,forceParse:!0,format:"mm/dd/yyyy",keepEmptyValues:!1,keyboardNavigation:!0,language:"en",minViewMode:0,maxViewMode:4,multidate:!1,multidateSeparator:",",orientation:"auto",rtl:!1,startDate:-Infinity,startView:0,todayBtn:!1,todayHighlight:!1,updateViewDate:!0,weekStart:0,disableTouchKeyboard:!1,enableOnReadonly:!0,showOnFocus:!0,zIndexOffset:10,container:"body",immediateUpdates:!1,title:"",templates:{leftArrow:"&#x00AB;",rightArrow:"&#x00BB;"},showWeekDays:!0},v=e.fn.datepicker.locale_opts=["format","rtl","weekStart"];e.fn.datepicker.Constructor=a;var m=e.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear",titleFormat:"MM yyyy"}},g={viewModes:[{names:["days","month"],clsName:"days",e:"changeMonth"},{names:["months","year"],clsName:"months",e:"changeYear",navStep:1},{names:["years","decade"],clsName:"years",e:"changeDecade",navStep:10},{names:["decades","century"],clsName:"decades",e:"changeCentury",navStep:100},{names:["centuries","millennium"],clsName:"centuries",e:"changeMillennium",navStep:1e3}],validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\u5e74\u6708\u65e5\[-`{-~\t\n\r]+/g,parseFormat:function(e){if(typeof e.toValue=="function"&&typeof e.toDisplay=="function")return e;var t=e.replace(this.validParts,"\0").split("\0"),n=e.match(this.validParts);if(!t||!t.length||!n||n.length===0)throw new Error("Invalid date format.");return{separators:t,parts:n}},parseDate:function(n,i,s,o){function v(e,t){return t===!0&&(t=10),e<100&&(e+=2e3,e>(new Date).getFullYear()+t&&(e-=100)),e}function T(){var e=this.slice(0,l[p].length),t=l[p].slice(0,e.length);return e.toLowerCase()===t.toLowerCase()}if(!n)return t;if(n instanceof Date)return n;typeof i=="string"&&(i=g.parseFormat(i));if(i.toValue)return i.toValue(n,i,s);var u={d:"moveDay",m:"moveMonth",w:"moveWeek",y:"moveYear"},f={yesterday:"-1d",today:"+0d",tomorrow:"+1d"},l,c,h,p,d;n in f&&(n=f[n]);if(/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/i.test(n)){l=n.match(/([\-+]\d+)([dmwy])/gi),n=new Date;for(p=0;p<l.length;p++)c=l[p].match(/([\-+]\d+)([dmwy])/i),h=Number(c[1]),d=u[c[2].toLowerCase()],n=a.prototype[d](n,h);return a.prototype._zero_utc_time(n)}l=n&&n.match(this.nonpunctuation)||[];var y={},b=["yyyy","yy","M","MM","m","mm","d","dd"],w={yyyy:function(e,t){return e.setUTCFullYear(o?v(t,o):t)},m:function(e,t){if(isNaN(e))return e;t-=1;while(t<0)t+=12;t%=12,e.setUTCMonth(t);while(e.getUTCMonth()!==t)e.setUTCDate(e.getUTCDate()-1);return e},d:function(e,t){return e.setUTCDate(t)}},E,S;w.yy=w.yyyy,w.M=w.MM=w.mm=w.m,w.dd=w.d,n=r();var x=i.parts.slice();l.length!==x.length&&(x=e(x).filter(function(t,n){return e.inArray(n,b)!==-1}).toArray());if(l.length===x.length){var N;for(p=0,N=x.length;p<N;p++){E=parseInt(l[p],10),c=x[p];if(isNaN(E))switch(c){case"MM":S=e(m[s].months).filter(T),E=e.inArray(S[0],m[s].months)+1;break;case"M":S=e(m[s].monthsShort).filter(T),E=e.inArray(S[0],m[s].monthsShort)+1}y[c]=E}var C,k;for(p=0;p<b.length;p++)k=b[p],k in y&&!isNaN(y[k])&&(C=new Date(n),w[k](C,y[k]),isNaN(C)||(n=C))}return n},formatDate:function(t,n,r){if(!t)return"";typeof n=="string"&&(n=g.parseFormat(n));if(n.toDisplay)return n.toDisplay(t,n,r);var i={d:t.getUTCDate(),D:m[r].daysShort[t.getUTCDay()],DD:m[r].days[t.getUTCDay()],m:t.getUTCMonth()+1,M:m[r].monthsShort[t.getUTCMonth()],MM:m[r].months[t.getUTCMonth()],yy:t.getUTCFullYear().toString().substring(2),yyyy:t.getUTCFullYear()};i.dd=(i.d<10?"0":"")+i.d,i.mm=(i.m<10?"0":"")+i.m,t=[];var s=e.extend([],n.separators);for(var o=0,u=n.parts.length;o<=u;o++)s.length&&t.push(s.shift()),t.push(i[n.parts[o]]);return t.join("")},headTemplate:'<thead><tr><th colspan="7" class="datepicker-title"></th></tr><tr><th class="prev">'+d.templates.leftArrow+"</th>"+'<th colspan="5" class="datepicker-switch"></th>'+'<th class="next">'+d.templates.rightArrow+"</th>"+"</tr>"+"</thead>",contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};g.template='<div class="datepicker"><div class="datepicker-days"><table class="table-condensed">'+g.headTemplate+"<tbody></tbody>"+g.footTemplate+"</table>"+"</div>"+'<div class="datepicker-months">'+'<table class="table-condensed">'+g.headTemplate+g.contTemplate+g.footTemplate+"</table>"+"</div>"+'<div class="datepicker-years">'+'<table class="table-condensed">'+g.headTemplate+g.contTemplate+g.footTemplate+"</table>"+"</div>"+'<div class="datepicker-decades">'+'<table class="table-condensed">'+g.headTemplate+g.contTemplate+g.footTemplate+"</table>"+"</div>"+'<div class="datepicker-centuries">'+'<table class="table-condensed">'+g.headTemplate+g.contTemplate+g.footTemplate+"</table>"+"</div>"+"</div>",e.fn.datepicker.DPGlobal=g,e.fn.datepicker.noConflict=function(){return e.fn.datepicker=h,this},e.fn.datepicker.version="1.8.0",e.fn.datepicker.deprecated=function(e){var t=window.console;t&&t.warn&&t.warn("DEPRECATED: "+e)},e(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(t){var n=e(this);if(n.data("datepicker"))return;t.preventDefault(),p.call(n,"show")}),e(function(){p.call(e('[data-provide="datepicker-inline"]'))})}),!function(e){function t(){return new Date(Date.UTC.apply(Date,arguments))}var n=function(t,n){var o=this;this.element=e(t),this.language=n.language||this.element.data("date-language")||"en",this.language=this.language in r?this.language:"en",this.isRTL=r[this.language].rtl||"rtl"==e("body").css("direction"),this.formatType=n.formatType||this.element.data("format-type")||"standard",this.format=i.parseFormat(n.format||this.element.data("date-format")||r[this.language].format||i.getDefaultFormat(this.formatType,"input"),this.formatType),this.isInline=!1,this.isVisible=!1,this.isInput=this.element.is("input"),this.component=this.element.is(".date")?this.element.find(".date-set").parent():!1,this.componentReset=this.element.is(".date")?this.element.find(".date-reset").parent():!1,this.hasInput=this.component&&this.element.find("input").length,this.component&&0===this.component.length&&(this.component=!1),this.linkField=n.linkField||this.element.data("link-field")||!1,this.linkFormat=i.parseFormat(n.linkFormat||this.element.data("link-format")||i.getDefaultFormat(this.formatType,"link"),this.formatType),this.minuteStep=n.minuteStep||this.element.data("minute-step")||5,this.pickerPosition=n.pickerPosition||this.element.data("picker-position")||"bottom-right",this.showMeridian=n.showMeridian||this.element.data("show-meridian")||!1,this.initialDate=n.initialDate||new Date,this._attachEvents(),this.formatViewType="datetime","formatViewType"in n?this.formatViewType=n.formatViewType:"formatViewType"in this.element.data()&&(this.formatViewType=this.element.data("formatViewType")),this.minView=0,"minView"in n?this.minView=n.minView:"minView"in this.element.data()&&(this.minView=this.element.data("min-view")),this.minView=i.convertViewMode(this.minView),this.maxView=i.modes.length-1,"maxView"in n?this.maxView=n.maxView:"maxView"in this.element.data()&&(this.maxView=this.element.data("max-view")),this.maxView=i.convertViewMode(this.maxView),this.wheelViewModeNavigation=!1,"wheelViewModeNavigation"in n?this.wheelViewModeNavigation=n.wheelViewModeNavigation:"wheelViewModeNavigation"in this.element.data()&&(this.wheelViewModeNavigation=this.element.data("view-mode-wheel-navigation")),this.wheelViewModeNavigationInverseDirection=!1,"wheelViewModeNavigationInverseDirection"in n?this.wheelViewModeNavigationInverseDirection=n.wheelViewModeNavigationInverseDirection:"wheelViewModeNavigationInverseDirection"in this.element.data()&&(this.wheelViewModeNavigationInverseDirection=this.element.data("view-mode-wheel-navigation-inverse-dir")),this.wheelViewModeNavigationDelay=100,"wheelViewModeNavigationDelay"in n?this.wheelViewModeNavigationDelay=n.wheelViewModeNavigationDelay:"wheelViewModeNavigationDelay"in this.element.data()&&(this.wheelViewModeNavigationDelay=this.element.data("view-mode-wheel-navigation-delay")),this.startViewMode=2,"startView"in n?this.startViewMode=n.startView:"startView"in this.element.data()&&(this.startViewMode=this.element.data("start-view")),this.startViewMode=i.convertViewMode(this.startViewMode),this.viewMode=this.startViewMode,this.viewSelect=this.minView,"viewSelect"in n?this.viewSelect=n.viewSelect:"viewSelect"in this.element.data()&&(this.viewSelect=this.element.data("view-select")),this.viewSelect=i.convertViewMode(this.viewSelect),this.forceParse=!0,"forceParse"in n?this.forceParse=n.forceParse:"dateForceParse"in this.element.data()&&(this.forceParse=this.element.data("date-force-parse")),this.picker=e(i.template).appendTo(this.isInline?this.element:"body").on({click:e.proxy(this.click,this),mousedown:e.proxy(this.mousedown,this)}),this.wheelViewModeNavigation&&(e.fn.mousewheel?this.picker.on({mousewheel:e.proxy(this.mousewheel,this)}):console.log("Mouse Wheel event is not supported. Please include the jQuery Mouse Wheel plugin before enabling this option")),this.isInline?this.picker.addClass("datetimepicker-inline"):this.picker.addClass("datetimepicker-dropdown-"+this.pickerPosition+" dropdown-menu"),this.isRTL&&(this.picker.addClass("datetimepicker-rtl"),this.picker.find(".prev i, .next i").toggleClass("fa-arrow-left fa-arrow-right")),e(document).on("mousedown",function(t){0===e(t.target).closest(".datetimepicker").length&&o.hide()}),this.autoclose=!1,"autoclose"in n?this.autoclose=n.autoclose:"dateAutoclose"in this.element.data()&&(this.autoclose=this.element.data("date-autoclose")),this.keyboardNavigation=!0,"keyboardNavigation"in n?this.keyboardNavigation=n.keyboardNavigation:"dateKeyboardNavigation"in this.element.data()&&(this.keyboardNavigation=this.element.data("date-keyboard-navigation")),this.todayBtn=n.todayBtn||this.element.data("date-today-btn")||!1,this.todayHighlight=n.todayHighlight||this.element.data("date-today-highlight")||!1,this.weekStart=(n.weekStart||this.element.data("date-weekstart")||r[this.language].weekStart||0)%7,this.weekEnd=(this.weekStart+6)%7,this.startDate=-1/0,this.endDate=1/0,this.daysOfWeekDisabled=[],this.setStartDate(n.startDate||this.element.data("date-startdate")),this.setEndDate(n.endDate||this.element.data("date-enddate")),this.setDaysOfWeekDisabled(n.daysOfWeekDisabled||this.element.data("date-days-of-week-disabled")),this.fillDow(),this.fillMonths(),this.update(),this.showMode(),this.isInline&&this.show()};n.prototype={constructor:n,_events:[],_attachEvents:function(){this._detachEvents(),this.isInput?this._events=[[this.element,{focus:e.proxy(this.show,this),keyup:e.proxy(this.update,this),keydown:e.proxy(this.keydown,this)}]]:this.component&&this.hasInput?(this._events=[[this.element.find("input"),{focus:e.proxy(this.show,this),keyup:e.proxy(this.update,this),keydown:e.proxy(this.keydown,this)}],[this.component,{click:e.proxy(this.show,this)}]],this.componentReset&&this._events.push([this.componentReset,{click:e.proxy(this.reset,this)}])):this.element.is("div")?this.isInline=!0:this._events=[[this.element,{click:e.proxy(this.show,this)}]];for(var t,n,r=0;r<this._events.length;r++)t=this._events[r][0],n=this._events[r][1],t.on(n)},_detachEvents:function(){for(var e,t,n=0;n<this._events.length;n++)e=this._events[n][0],t=this._events[n][1],e.off(t);this._events=[]},show:function(t){this.picker.show(),this.height=this.component?this.component.outerHeight():this.element.outerHeight(),this.forceParse&&this.update(),this.place(),e(window).on("resize",e.proxy(this.place,this)),t&&(t.stopPropagation(),t.preventDefault()),this.isVisible=!0,this.element.trigger({type:"show",date:this.date})},hide:function(){this.isVisible&&(this.isInline||(this.picker.hide(),e(window).off("resize",this.place),this.viewMode=this.startViewMode,this.showMode(),this.isInput||e(document).off("mousedown",this.hide),this.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())&&this.setValue(),this.isVisible=!1,this.element.trigger({type:"hide",date:this.date})))},remove:function(){this._detachEvents(),this.picker.remove(),delete this.picker,delete this.element.data().datetimepicker},getDate:function(){var e=this.getUTCDate();return new Date(e.getTime()+6e4*e.getTimezoneOffset())},getUTCDate:function(){return this.date},setDate:function(e){this.setUTCDate(new Date(e.getTime()-6e4*e.getTimezoneOffset()))},setUTCDate:function(e){e>=this.startDate&&e<=this.endDate?(this.date=e,this.setValue(),this.viewDate=this.date,this.fill()):this.element.trigger({type:"outOfRange",date:e,startDate:this.startDate,endDate:this.endDate})},setFormat:function(e){this.format=i.parseFormat(e,this.formatType);var t;this.isInput?t=this.element:this.component&&(t=this.element.find("input")),t&&t.val()&&this.setValue()},setValue:function(){var t=this.getFormattedDate();this.isInput?this.element.val(t):(this.component&&this.element.find("input").val(t),this.element.data("date",t)),this.linkField&&e("#"+this.linkField).val(this.getFormattedDate(this.linkFormat))},getFormattedDate:function(e){return void 0==e&&(e=this.format),i.formatDate(this.date,e,this.language,this.formatType)},setStartDate:function(e){this.startDate=e||-1/0,this.startDate!==-1/0&&(this.startDate=i.parseDate(this.startDate,this.format,this.language,this.formatType)),this.update(),this.updateNavArrows()},setEndDate:function(e){this.endDate=e||1/0,1/0!==this.endDate&&(this.endDate=i.parseDate(this.endDate,this.format,this.language,this.formatType)),this.update(),this.updateNavArrows()},setDaysOfWeekDisabled:function(t){this.daysOfWeekDisabled=t||[],e.isArray(this.daysOfWeekDisabled)||(this.daysOfWeekDisabled=this.daysOfWeekDisabled.split(/,\s*/)),this.daysOfWeekDisabled=e.map(this.daysOfWeekDisabled,function(e){return parseInt(e,10)}),this.update(),this.updateNavArrows()},place:function(){if(!this.isInline){var t,n,r,i=parseInt(this.element.parents().filter(function(){return"auto"!=e(this).css("z-index")}).first().css("z-index"))+10;this.component?(t=this.component.offset(),r=t.left,("bottom-left"==this.pickerPosition||"top-left"==this.pickerPosition)&&(r+=this.component.outerWidth()-this.picker.outerWidth())):(t=this.element.offset(),r=t.left),n="top-left"==this.pickerPosition||"top-right"==this.pickerPosition?t.top-this.picker.outerHeight():t.top+this.height,this.picker.css({top:n,left:r,zIndex:i})}},update:function(){var e,t=!1;arguments&&arguments.length&&("string"==typeof arguments[0]||arguments[0]instanceof Date)?(e=arguments[0],t=!0):e=this.element.data("date")||(this.isInput?this.element.val():this.element.find("input").val())||this.initialDate,e||(e=new Date,t=!1),this.date=i.parseDate(e,this.format,this.language,this.formatType),t&&this.setValue(),this.viewDate=this.date<this.startDate?new Date(this.startDate):this.date>this.endDate?new Date(this.endDate):new Date(this.date),this.fill()},fillDow:function(){for(var e=this.weekStart,t="<tr>";e<this.weekStart+7;)t+='<th class="dow">'+r[this.language].daysMin[e++%7]+"</th>";t+="</tr>",this.picker.find(".datetimepicker-days thead").append(t)},fillMonths:function(){for(var e="",t=0;12>t;)e+='<span class="month">'+r[this.language].monthsShort[t++]+"</span>";this.picker.find(".datetimepicker-months td").html(e)},fill:function(){if(null!=this.date&&null!=this.viewDate){var n=new Date(this.viewDate),o=n.getUTCFullYear(),u=n.getUTCMonth(),a=n.getUTCDate(),f=n.getUTCHours(),l=n.getUTCMinutes(),c=this.startDate!==-1/0?this.startDate.getUTCFullYear():-1/0,h=this.startDate!==-1/0?this.startDate.getUTCMonth():-1/0,p=1/0!==this.endDate?this.endDate.getUTCFullYear():1/0,d=1/0!==this.endDate?this.endDate.getUTCMonth():1/0,v=(new t(this.date.getUTCFullYear(),this.date.getUTCMonth(),this.date.getUTCDate())).valueOf(),m=new Date;if(this.picker.find(".datetimepicker-days thead th:eq(1)").text(r[this.language].months[u]+" "+o),"time"==this.formatViewType){var g=f%12?f%12:12,y=(10>g?"0":"")+g,b=(10>l?"0":"")+l,w=r[this.language].meridiem[12>f?0:1];this.picker.find(".datetimepicker-hours thead th:eq(1)").text(y+":"+b+" "+w.toUpperCase()),this.picker.find(".datetimepicker-minutes thead th:eq(1)").text(y+":"+b+" "+w.toUpperCase())}else this.picker.find(".datetimepicker-hours thead th:eq(1)").text(a+" "+r[this.language].months[u]+" "+o),this.picker.find(".datetimepicker-minutes thead th:eq(1)").text(a+" "+r[this.language].months[u]+" "+o);this.picker.find("tfoot th.today").text(r[this.language].today).toggle(this.todayBtn!==!1),this.updateNavArrows(),this.fillMonths();var E=t(o,u-1,28,0,0,0,0),S=i.getDaysInMonth(E.getUTCFullYear(),E.getUTCMonth());E.setUTCDate(S),E.setUTCDate(S-(E.getUTCDay()-this.weekStart+7)%7);var x=new Date(E);x.setUTCDate(x.getUTCDate()+42),x=x.valueOf();for(var T,N=[];E.valueOf()<x;)E.getUTCDay()==this.weekStart&&N.push("<tr>"),T="",E.getUTCFullYear()<o||E.getUTCFullYear()==o&&E.getUTCMonth()<u?T+=" old":(E.getUTCFullYear()>o||E.getUTCFullYear()==o&&E.getUTCMonth()>u)&&(T+=" new"),this.todayHighlight&&E.getUTCFullYear()==m.getFullYear()&&E.getUTCMonth()==m.getMonth()&&E.getUTCDate()==m.getDate()&&(T+=" today"),E.valueOf()==v&&(T+=" active"),(E.valueOf()+864e5<=this.startDate||E.valueOf()>this.endDate||-1!==e.inArray(E.getUTCDay(),this.daysOfWeekDisabled))&&(T+=" disabled"),N.push('<td class="day'+T+'">'+E.getUTCDate()+"</td>"),E.getUTCDay()==this.weekEnd&&N.push("</tr>"),E.setUTCDate(E.getUTCDate()+1);this.picker.find(".datetimepicker-days tbody").empty().append(N.join("")),N=[];for(var C="",k="",L="",A=0;24>A;A++){var O=t(o,u,a,A);T="",O.valueOf()+36e5<=this.startDate||O.valueOf()>this.endDate?T+=" disabled":f==A&&(T+=" active"),this.showMeridian&&2==r[this.language].meridiem.length?(k=12>A?r[this.language].meridiem[0]:r[this.language].meridiem[1],k!=L&&(""!=L&&N.push("</fieldset>"),N.push('<fieldset class="hour"><legend>'+k.toUpperCase()+"</legend>")),L=k,C=A%12?A%12:12,N.push('<span class="hour'+T+" hour_"+(12>A?"am":"pm")+'">'+C+"</span>"),23==A&&N.push("</fieldset>")):(C=A+":00",N.push('<span class="hour'+T+'">'+C+"</span>"))}this.picker.find(".datetimepicker-hours td").html(N.join("")),N=[],C="",k="",L="";for(var A=0;60>A;A+=this.minuteStep){var O=t(o,u,a,f,A,0);T="",O.valueOf()<this.startDate||O.valueOf()>this.endDate?T+=" disabled":Math.floor(l/this.minuteStep)==Math.floor(A/this.minuteStep)&&(T+=" active"),this.showMeridian&&2==r[this.language].meridiem.length?(k=12>f?r[this.language].meridiem[0]:r[this.language].meridiem[1],k!=L&&(""!=L&&N.push("</fieldset>"),N.push('<fieldset class="minute"><legend>'+k.toUpperCase()+"</legend>")),L=k,C=f%12?f%12:12,N.push('<span class="minute'+T+'">'+C+":"+(10>A?"0"+A:A)+"</span>"),59==A&&N.push("</fieldset>")):(C=A+":00",N.push('<span class="minute'+T+'">'+f+":"+(10>A?"0"+A:A)+"</span>"))}this.picker.find(".datetimepicker-minutes td").html(N.join(""));var M=this.date.getUTCFullYear(),_=this.picker.find(".datetimepicker-months").find("th:eq(1)").text(o).end().find("span").removeClass("active");M==o&&_.eq(this.date.getUTCMonth()).addClass("active"),(c>o||o>p)&&_.addClass("disabled"),o==c&&_.slice(0,h).addClass("disabled"),o==p&&_.slice(d+1).addClass("disabled"),N="",o=10*parseInt(o/10,10);var D=this.picker.find(".datetimepicker-years").find("th:eq(1)").text(o+"-"+(o+9)).end().find("td");o-=1;for(var A=-1;11>A;A++)N+='<span class="year'+(-1==A||10==A?" old":"")+(M==o?" active":"")+(c>o||o>p?" disabled":"")+'">'+o+"</span>",o+=1;D.html(N),this.place()}},updateNavArrows:function(){var e=new Date(this.viewDate),t=e.getUTCFullYear(),n=e.getUTCMonth(),r=e.getUTCDate(),i=e.getUTCHours();switch(this.viewMode){case 0:this.startDate!==-1/0&&t<=this.startDate.getUTCFullYear()&&n<=this.startDate.getUTCMonth()&&r<=this.startDate.getUTCDate()&&i<=this.startDate.getUTCHours()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),1/0!==this.endDate&&t>=this.endDate.getUTCFullYear()&&n>=this.endDate.getUTCMonth()&&r>=this.endDate.getUTCDate()&&i>=this.endDate.getUTCHours()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 1:this.startDate!==-1/0&&t<=this.startDate.getUTCFullYear()&&n<=this.startDate.getUTCMonth()&&r<=this.startDate.getUTCDate()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),1/0!==this.endDate&&t>=this.endDate.getUTCFullYear()&&n>=this.endDate.getUTCMonth()&&r>=this.endDate.getUTCDate()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 2:this.startDate!==-1/0&&t<=this.startDate.getUTCFullYear()&&n<=this.startDate.getUTCMonth()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),1/0!==this.endDate&&t>=this.endDate.getUTCFullYear()&&n>=this.endDate.getUTCMonth()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 3:case 4:this.startDate!==-1/0&&t<=this.startDate.getUTCFullYear()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),1/0!==this.endDate&&t>=this.endDate.getUTCFullYear()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"})}},mousewheel:function(t){if(t.preventDefault(),t.stopPropagation(),!this.wheelPause){this.wheelPause=!0;var n=t.originalEvent,r=n.wheelDelta,i=r>0?1:0===r?0:-1;this.wheelViewModeNavigationInverseDirection&&(i=-i),this.showMode(i),setTimeout(e.proxy(function(){this.wheelPause=!1},this),this.wheelViewModeNavigationDelay)}},click:function(n){n.stopPropagation(),n.preventDefault();var r=e(n.target).closest("span, td, th, legend");if(1==r.length){if(r.is(".disabled"))return this.element.trigger({type:"outOfRange",date:this.viewDate,startDate:this.startDate,endDate:this.endDate}),void 0;switch(r[0].nodeName.toLowerCase()){case"th":switch(r[0].className){case"switch":this.showMode(1);break;case"prev":case"next":var o=i.modes[this.viewMode].navStep*("prev"==r[0].className?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveHour(this.viewDate,o);break;case 1:this.viewDate=this.moveDate(this.viewDate,o);break;case 2:this.viewDate=this.moveMonth(this.viewDate,o);break;case 3:case 4:this.viewDate=this.moveYear(this.viewDate,o)}this.fill();break;case"today":var u=new Date;u=t(u.getFullYear(),u.getMonth(),u.getDate(),u.getHours(),u.getMinutes(),u.getSeconds(),0),this.viewMode=this.startViewMode,this.showMode(0),this._setDate(u),this.fill(),this.autoclose&&this.hide()}break;case"span":if(!r.is(".disabled")){var a=this.viewDate.getUTCFullYear(),f=this.viewDate.getUTCMonth(),l=this.viewDate.getUTCDate(),c=this.viewDate.getUTCHours(),h=this.viewDate.getUTCMinutes(),p=this.viewDate.getUTCSeconds();if(r.is(".month")?(this.viewDate.setUTCDate(1),f=r.parent().find("span").index(r),l=this.viewDate.getUTCDate(),this.viewDate.setUTCMonth(f),this.element.trigger({type:"changeMonth",date:this.viewDate}),this.viewSelect>=3&&this._setDate(t(a,f,l,c,h,p,0))):r.is(".year")?(this.viewDate.setUTCDate(1),a=parseInt(r.text(),10)||0,this.viewDate.setUTCFullYear(a),this.element.trigger({type:"changeYear",date:this.viewDate}),this.viewSelect>=4&&this._setDate(t(a,f,l,c,h,p,0))):r.is(".hour")?(c=parseInt(r.text(),10)||0,(r.hasClass("hour_am")||r.hasClass("hour_pm"))&&(12==c&&r.hasClass("hour_am")?c=0:12!=c&&r.hasClass("hour_pm")&&(c+=12)),this.viewDate.setUTCHours(c),this.element.trigger({type:"changeHour",date:this.viewDate}),this.viewSelect>=1&&this._setDate(t(a,f,l,c,h,p,0))):r.is(".minute")&&(h=parseInt(r.text().substr(r.text().indexOf(":")+1),10)||0,this.viewDate.setUTCMinutes(h),this.element.trigger({type:"changeMinute",date:this.viewDate}),this.viewSelect>=0&&this._setDate(t(a,f,l,c,h,p,0))),0!=this.viewMode){var d=this.viewMode;this.showMode(-1),this.fill(),d==this.viewMode&&this.autoclose&&this.hide()}else this.fill(),this.autoclose&&this.hide()}break;case"td":if(r.is(".day")&&!r.is(".disabled")){var l=parseInt(r.text(),10)||1,a=this.viewDate.getUTCFullYear(),f=this.viewDate.getUTCMonth(),c=this.viewDate.getUTCHours(),h=this.viewDate.getUTCMinutes(),p=this.viewDate.getUTCSeconds();r.is(".old")?0===f?(f=11,a-=1):f-=1:r.is(".new")&&(11==f?(f=0,a+=1):f+=1),this.viewDate.setUTCFullYear(a),this.viewDate.setUTCMonth(f),this.viewDate.setUTCDate(l),this.element.trigger({type:"changeDay",date:this.viewDate}),this.viewSelect>=2&&this._setDate(t(a,f,l,c,h,p,0))}var d=this.viewMode;this.showMode(-1),this.fill(),d==this.viewMode&&this.autoclose&&this.hide()}}},_setDate:function(e,t){t&&"date"!=t||(this.date=e),t&&"view"!=t||(this.viewDate=e),this.fill(),this.setValue();var n;this.isInput?n=this.element:this.component&&(n=this.element.find("input")),n&&(n.change(),this.autoclose&&(!t||"date"==t)),this.element.trigger({type:"changeDate",date:this.date})},moveMinute:function(e,t){if(!t)return e;var n=new Date(e.valueOf());return n.setUTCMinutes(n.getUTCMinutes()+t*this.minuteStep),n},moveHour:function(e,t){if(!t)return e;var n=new Date(e.valueOf());return n.setUTCHours(n.getUTCHours()+t),n},moveDate:function(e,t){if(!t)return e;var n=new Date(e.valueOf());return n.setUTCDate(n.getUTCDate()+t),n},moveMonth:function(e,t){if(!t)return e;var n,r,i=new Date(e.valueOf()),s=i.getUTCDate(),o=i.getUTCMonth(),u=Math.abs(t);if(t=t>0?1:-1,1==u)r=-1==t?function(){return i.getUTCMonth()==o}:function(){return i.getUTCMonth()!=n},n=o+t,i.setUTCMonth(n),(0>n||n>11)&&(n=(n+12)%12);else{for(var a=0;u>a;a++)i=this.moveMonth(i,t);n=i.getUTCMonth(),i.setUTCDate(s),r=function(){return n!=i.getUTCMonth()}}for(;r();)i.setUTCDate(--s),i.setUTCMonth(n);return i},moveYear:function(e,t){return this.moveMonth(e,12*t)},dateWithinRange:function(e){return e>=this.startDate&&e<=this.endDate},keydown:function(e){if(this.picker.is(":not(:visible)"))return 27==e.keyCode&&this.show(),void 0;var t,n,r,i=!1;switch(e.keyCode){case 27:this.hide(),e.preventDefault();break;case 37:case 39:if(!this.keyboardNavigation)break;t=37==e.keyCode?-1:1,viewMode=this.viewMode,e.ctrlKey?viewMode+=2:e.shiftKey&&(viewMode+=1),4==viewMode?(n=this.moveYear(this.date,t),r=this.moveYear(this.viewDate,t)):3==viewMode?(n=this.moveMonth(this.date,t),r=this.moveMonth(this.viewDate,t)):2==viewMode?(n=this.moveDate(this.date,t),r=this.moveDate(this.viewDate,t)):1==viewMode?(n=this.moveHour(this.date,t),r=this.moveHour(this.viewDate,t)):0==viewMode&&(n=this.moveMinute(this.date,t),r=this.moveMinute(this.viewDate,t)),this.dateWithinRange(n)&&(this.date=n,this.viewDate=r,this.setValue(),this.update(),e.preventDefault(),i=!0);break;case 38:case 40:if(!this.keyboardNavigation)break;t=38==e.keyCode?-1:1,viewMode=this.viewMode,e.ctrlKey?viewMode+=2:e.shiftKey&&(viewMode+=1),4==viewMode?(n=this.moveYear(this.date,t),r=this.moveYear(this.viewDate,t)):3==viewMode?(n=this.moveMonth(this.date,t),r=this.moveMonth(this.viewDate,t)):2==viewMode?(n=this.moveDate(this.date,7*t),r=this.moveDate(this.viewDate,7*t)):1==viewMode?this.showMeridian?(n=this.moveHour(this.date,6*t),r=this.moveHour(this.viewDate,6*t)):(n=this.moveHour(this.date,4*t),r=this.moveHour(this.viewDate,4*t)):0==viewMode&&(n=this.moveMinute(this.date,4*t),r=this.moveMinute(this.viewDate,4*t)),this.dateWithinRange(n)&&(this.date=n,this.viewDate=r,this.setValue(),this.update(),e.preventDefault(),i=!0);break;case 13:if(0!=this.viewMode){var s=this.viewMode;this.showMode(-1),this.fill(),s==this.viewMode&&this.autoclose&&this.hide()}else this.fill(),this.autoclose&&this.hide();e.preventDefault();break;case 9:this.hide()}if(i){var o;this.isInput?o=this.element:this.component&&(o=this.element.find("input")),o&&o.change(),this.element.trigger({type:"changeDate",date:this.date})}},showMode:function(e){if(e){var t=Math.max(0,Math.min(i.modes.length-1,this.viewMode+e));t>=this.minView&&t<=this.maxView&&(this.element.trigger({type:"changeMode",date:this.viewDate,oldViewMode:this.viewMode,newViewMode:t}),this.viewMode=t)}this.picker.find(">div").hide().filter(".datetimepicker-"+i.modes[this.viewMode].clsName).css("display","block"),this.updateNavArrows()},reset:function(){this._setDate(null,"date")}},e.fn.datetimepicker=function(t){var r=Array.apply(null,arguments);return r.shift(),this.each(function(){var i=e(this),s=i.data("datetimepicker"),o="object"==typeof t&&t;s||i.data("datetimepicker",s=new n(this,e.extend({},e.fn.datetimepicker.defaults,o))),"string"==typeof t&&"function"==typeof s[t]&&s[t].apply(s,r)})},e.fn.datetimepicker.defaults={},e.fn.datetimepicker.Constructor=n;var r=e.fn.datetimepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],meridiem:["am","pm"],suffix:["st","nd","rd","th"],today:"Today"}},i={modes:[{clsName:"minutes",navFnc:"Hours",navStep:1},{clsName:"hours",navFnc:"Date",navStep:1},{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(e){return 0===e%4&&0!==e%100||0===e%400},getDaysInMonth:function(e,t){return[31,i.isLeapYear(e)?29:28,31,30,31,30,31,31,30,31,30,31][t]},getDefaultFormat:function(e,t){if("standard"==e)return"input"==t?"yyyy-mm-dd hh:ii":"yyyy-mm-dd hh:ii:ss";if("php"==e)return"input"==t?"Y-m-d H:i":"Y-m-d H:i:s";throw new Error("Invalid format type.")},validParts:function(e){if("standard"==e)return/hh?|HH?|p|P|ii?|ss?|dd?|DD?|mm?|MM?|yy(?:yy)?/g;if("php"==e)return/[dDjlNwzFmMnStyYaABgGhHis]/g;throw new Error("Invalid format type.")},nonpunctuation:/[^ -\/:-@\[-`{-~\t\n\rTZ]+/g,parseFormat:function(e,t){var n=e.replace(this.validParts(t),"\0").split("\0"),r=e.match(this.validParts(t));if(!n||!n.length||!r||0==r.length)throw new Error("Invalid date format.");return{separators:n,parts:r}},parseDate:function(i,s,o,u){if(i instanceof Date){var a=new Date(i.valueOf()-6e4*i.getTimezoneOffset());return a.setMilliseconds(0),a}if(/^\d{4}\-\d{1,2}\-\d{1,2}$/.test(i)&&(s=this.parseFormat("yyyy-mm-dd",u)),/^\d{4}\-\d{1,2}\-\d{1,2}[T ]\d{1,2}\:\d{1,2}$/.test(i)&&(s=this.parseFormat("yyyy-mm-dd hh:ii",u)),/^\d{4}\-\d{1,2}\-\d{1,2}[T ]\d{1,2}\:\d{1,2}\:\d{1,2}[Z]{0,1}$/.test(i)&&(s=this.parseFormat("yyyy-mm-dd hh:ii:ss",u)),/^[-+]\d+[dmwy]([\s,]+[-+]\d+[dmwy])*$/.test(i)){var f,l,c=/([-+]\d+)([dmwy])/,h=i.match(/([-+]\d+)([dmwy])/g);i=new Date;for(var p=0;p<h.length;p++)switch(f=c.exec(h[p]),l=parseInt(f[1]),f[2]){case"d":i.setUTCDate(i.getUTCDate()+l);break;case"m":i=n.prototype.moveMonth.call(n.prototype,i,l);break;case"w":i.setUTCDate(i.getUTCDate()+7*l);break;case"y":i=n.prototype.moveYear.call(n.prototype,i,l)}return t(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate(),i.getUTCHours(),i.getUTCMinutes(),i.getUTCSeconds(),0)}var d,v,f,h=i&&i.match(this.nonpunctuation)||[],i=new Date(0,0,0,0,0,0,0),m={},g=["hh","h","ii","i","ss","s","yyyy","yy","M","MM","m","mm","D","DD","d","dd","H","HH","p","P"],y={hh:function(e,t){return e.setUTCHours(t)},h:function(e,t){return e.setUTCHours(t)},HH:function(e,t){return e.setUTCHours(12==t?0:t)},H:function(e,t){return e.setUTCHours(12==t?0:t)},ii:function(e,t){return e.setUTCMinutes(t)},i:function(e,t){return e.setUTCMinutes(t)},ss:function(e,t){return e.setUTCSeconds(t)},s:function(e,t){return e.setUTCSeconds(t)},yyyy:function(e,t){return e.setUTCFullYear(t)},yy:function(e,t){return e.setUTCFullYear(2e3+t)},m:function(e,t){for(t-=1;0>t;)t+=12;for(t%=12,e.setUTCMonth(t);e.getUTCMonth()!=t;)e.setUTCDate(e.getUTCDate()-1);return e},d:function(e,t){return e.setUTCDate(t)},p:function(e,t){return e.setUTCHours(1==t?e.getUTCHours()+12:e.getUTCHours())}};if(y.M=y.MM=y.mm=y.m,y.dd=y.d,y.P=y.p,i=t(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds()),h.length==s.parts.length){for(var p=0,b=s.parts.length;b>p;p++){if(d=parseInt(h[p],10),f=s.parts[p],isNaN(d))switch(f){case"MM":v=e(r[o].months).filter(function(){var e=this.slice(0,h[p].length),t=h[p].slice(0,e.length);return e==t}),d=e.inArray(v[0],r[o].months)+1;break;case"M":v=e(r[o].monthsShort).filter(function(){var e=this.slice(0,h[p].length),t=h[p].slice(0,e.length);return e==t}),d=e.inArray(v[0],r[o].monthsShort)+1;break;case"p":case"P":d=e.inArray(h[p].toLowerCase(),r[o].meridiem)}m[f]=d}for(var w,p=0;p<g.length;p++)w=g[p],w in m&&!isNaN(m[w])&&y[w](i,m[w])}return i},formatDate:function(t,n,o,u){if(null==t)return"";var a;if("standard"==u)a={yy:t.getUTCFullYear().toString().substring(2),yyyy:t.getUTCFullYear(),m:t.getUTCMonth()+1,M:r[o].monthsShort[t.getUTCMonth()],MM:r[o].months[t.getUTCMonth()],d:t.getUTCDate(),D:r[o].daysShort[t.getUTCDay()],DD:r[o].days[t.getUTCDay()],p:2==r[o].meridiem.length?r[o].meridiem[t.getUTCHours()<12?0:1]:"",h:t.getUTCHours(),i:t.getUTCMinutes(),s:t.getUTCSeconds()},a.H=0==a.h%12?12:a.h%12,a.HH=(a.H<10?"0":"")+a.H,a.P=a.p.toUpperCase(),a.hh=(a.h<10?"0":"")+a.h,a.ii=(a.i<10?"0":"")+a.i,a.ss=(a.s<10?"0":"")+a.s,a.dd=(a.d<10?"0":"")+a.d,a.mm=(a.m<10?"0":"")+a.m;else{if("php"!=u)throw new Error("Invalid format type.");a={y:t.getUTCFullYear().toString().substring(2),Y:t.getUTCFullYear(),F:r[o].months[t.getUTCMonth()],M:r[o].monthsShort[t.getUTCMonth()],n:t.getUTCMonth()+1,t:i.getDaysInMonth(t.getUTCFullYear(),t.getUTCMonth()),j:t.getUTCDate(),l:r[o].days[t.getUTCDay()],D:r[o].daysShort[t.getUTCDay()],w:t.getUTCDay(),N:0==t.getUTCDay()?7:t.getUTCDay(),S:t.getUTCDate()%10<=r[o].suffix.length?r[o].suffix[t.getUTCDate()%10-1]:"",a:2==r[o].meridiem.length?r[o].meridiem[t.getUTCHours()<12?0:1]:"",g:0==t.getUTCHours()%12?12:t.getUTCHours()%12,G:t.getUTCHours(),i:t.getUTCMinutes(),s:t.getUTCSeconds()},a.m=(a.n<10?"0":"")+a.n,a.d=(a.j<10?"0":"")+a.j,a.A=a.a.toString().toUpperCase(),a.h=(a.g<10?"0":"")+a.g,a.H=(a.G<10?"0":"")+a.G,a.i=(a.i<10?"0":"")+a.i,a.s=(a.s<10?"0":"")+a.s}for(var t=[],f=e.extend([],n.separators),l=0,c=n.parts.length;c>l;l++)f.length&&t.push(f.shift()),t.push(a[n.parts[l]]);return t.join("")},convertViewMode:function(e){switch(e){case 4:case"decade":e=4;break;case 3:case"year":e=3;break;case 2:case"month":e=2;break;case 1:case"day":e=1;break;case 0:case"hour":e=0}return e},headTemplate:'<thead><tr><th class="prev"><i class="fa fa-angle-left"/></th><th colspan="5" class="switch"></th><th class="next"><i class="fa fa-angle-right"/></th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr></tfoot>'};i.template='<div class="datetimepicker"><div class="datetimepicker-minutes"><table class=" table-condensed">'+i.headTemplate+i.contTemplate+i.footTemplate+"</table>"+"</div>"+'<div class="datetimepicker-hours">'+'<table class=" table-condensed">'+i.headTemplate+i.contTemplate+i.footTemplate+"</table>"+"</div>"+'<div class="datetimepicker-days">'+'<table class=" table-condensed">'+i.headTemplate+"<tbody></tbody>"+i.footTemplate+"</table>"+"</div>"+'<div class="datetimepicker-months">'+'<table class="table-condensed">'+i.headTemplate+i.contTemplate+i.footTemplate+"</table>"+"</div>"+'<div class="datetimepicker-years">'+'<table class="table-condensed">'+i.headTemplate+i.contTemplate+i.footTemplate+"</table>"+"</div>"+"</div>",e.fn.datetimepicker.DPGlobal=i,e.fn.datetimepicker.noConflict=function(){return e.fn.datetimepicker=old,this},e(document).on("focus.datetimepicker.data-api click.datetimepicker.data-api",'[data-provide="datetimepicker"]',function(t){var n=e(this);n.data("datetimepicker")||(t.preventDefault(),n.datetimepicker("show"))}),e(function(){e('[data-provide="datetimepicker-inline"]').datetimepicker()})}(window.jQuery),!function(e,t){if("function"==typeof define&&define.amd)define(["moment","jquery","exports"],function(n,r,i){e.daterangepicker=t(e,i,n,r)});else if("undefined"!=typeof exports){var n=require("moment"),r="undefined"!=typeof window?window.jQuery:void 0;if(!r)try{r=require("jquery"),r.fn||(r.fn={})}catch(i){if(!r)throw new Error("jQuery dependency not found")}t(e,exports,n,r)}else e.daterangepicker=t(e,{},e.moment||moment,e.jQuery||e.Zepto||e.ender||e.$)}(this||{},function(e,t,n,r){var i=function(e,t,i){if(this.parentEl="body",this.element=r(e),this.startDate=n().startOf("day"),this.endDate=n().endOf("day"),this.minDate=!1,this.maxDate=!1,this.dateLimit=!1,this.autoApply=!1,this.singleDatePicker=!1,this.showDropdowns=!1,this.showWeekNumbers=!1,this.timePicker=!1,this.timePicker24Hour=!1,this.timePickerIncrement=1,this.timePickerSeconds=!1,this.linkedCalendars=!0,this.autoUpdateInput=!0,this.ranges={},this.opens="right",this.element.hasClass("pull-right")&&(this.opens="left"),this.drops="down",this.element.hasClass("dropup")&&(this.drops="up"),this.buttonClasses="btn btn-sm",this.applyClass="btn-success",this.cancelClass="btn-default",this.locale={format:"MM/DD/YYYY",separator:" - ",applyLabel:"Apply",cancelLabel:"Cancel",weekLabel:"W",customRangeLabel:"Custom Range",daysOfWeek:n.weekdaysMin(),monthNames:n.monthsShort(),firstDay:n.localeData().firstDayOfWeek()},this.callback=function(){},this.isShowing=!1,this.leftCalendar={},this.rightCalendar={},("object"!=typeof t||null===t)&&(t={}),t=r.extend(this.element.data(),t),"string"!=typeof t.template&&(t.template='<div class="daterangepicker dropdown-menu"><div class="calendar left"><div class="daterangepicker_input"><input class="input-mini" type="text" name="daterangepicker_start" value="" /><i class="fa fa-calendar"></i><div class="calendar-time"><div></div><i class="fa fa-clock-o"></i></div></div><div class="calendar-table"></div></div><div class="calendar right"><div class="daterangepicker_input"><input class="input-mini" type="text" name="daterangepicker_end" value="" /><i class="fa fa-calendar"></i><div class="calendar-time"><div></div><i class="fa fa-clock-o"></i></div></div><div class="calendar-table"></div></div><div class="ranges"><div class="range_inputs"><button class="applyBtn" disabled="disabled" type="button"></button> <button class="cancelBtn" type="button"></button></div></div></div>'),this.parentEl=r(t.parentEl&&r(t.parentEl).length?t.parentEl:this.parentEl),this.container=r(t.template).appendTo(this.parentEl),"object"==typeof t.locale&&("string"==typeof t.locale.format&&(this.locale.format=t.locale.format),"string"==typeof t.locale.separator&&(this.locale.separator=t.locale.separator),"object"==typeof t.locale.daysOfWeek&&(this.locale.daysOfWeek=t.locale.daysOfWeek.slice()),"object"==typeof t.locale.monthNames&&(this.locale.monthNames=t.locale.monthNames.slice()),"number"==typeof t.locale.firstDay&&(this.locale.firstDay=t.locale.firstDay),"string"==typeof t.locale.applyLabel&&(this.locale.applyLabel=t.locale.applyLabel),"string"==typeof t.locale.cancelLabel&&(this.locale.cancelLabel=t.locale.cancelLabel),"string"==typeof t.locale.weekLabel&&(this.locale.weekLabel=t.locale.weekLabel),"string"==typeof t.locale.customRangeLabel&&(this.locale.customRangeLabel=t.locale.customRangeLabel)),"string"==typeof t.startDate&&(this.startDate=n(t.startDate,this.locale.format)),"string"==typeof t.endDate&&(this.endDate=n(t.endDate,this.locale.format)),"string"==typeof t.minDate&&(this.minDate=n(t.minDate,this.locale.format)),"string"==typeof t.maxDate&&(this.maxDate=n(t.maxDate,this.locale.format)),"object"==typeof t.startDate&&(this.startDate=n(t.startDate)),"object"==typeof t.endDate&&(this.endDate=n(t.endDate)),"object"==typeof t.minDate&&(this.minDate=n(t.minDate)),"object"==typeof t.maxDate&&(this.maxDate=n(t.maxDate)),this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate.clone()),this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate.clone()),"string"==typeof t.applyClass&&(this.applyClass=t.applyClass),"string"==typeof t.cancelClass&&(this.cancelClass=t.cancelClass),"object"==typeof t.dateLimit&&(this.dateLimit=t.dateLimit),"string"==typeof t.opens&&(this.opens=t.opens),"string"==typeof t.drops&&(this.drops=t.drops),"boolean"==typeof t.showWeekNumbers&&(this.showWeekNumbers=t.showWeekNumbers),"string"==typeof t.buttonClasses&&(this.buttonClasses=t.buttonClasses),"object"==typeof t.buttonClasses&&(this.buttonClasses=t.buttonClasses.join(" ")),"boolean"==typeof t.showDropdowns&&(this.showDropdowns=t.showDropdowns),"boolean"==typeof t.singleDatePicker&&(this.singleDatePicker=t.singleDatePicker,this.singleDatePicker&&(this.endDate=this.startDate.clone())),"boolean"==typeof t.timePicker&&(this.timePicker=t.timePicker),"boolean"==typeof t.timePickerSeconds&&(this.timePickerSeconds=t.timePickerSeconds),"number"==typeof t.timePickerIncrement&&(this.timePickerIncrement=t.timePickerIncrement),"boolean"==typeof t.timePicker24Hour&&(this.timePicker24Hour=t.timePicker24Hour),"boolean"==typeof t.autoApply&&(this.autoApply=t.autoApply),"boolean"==typeof t.autoUpdateInput&&(this.autoUpdateInput=t.autoUpdateInput),"boolean"==typeof t.linkedCalendars&&(this.linkedCalendars=t.linkedCalendars),"function"==typeof t.isInvalidDate&&(this.isInvalidDate=t.isInvalidDate),0!=this.locale.firstDay)for(var s=this.locale.firstDay;s>0;)this.locale.daysOfWeek.push(this.locale.daysOfWeek.shift()),s--;var o,u,f;if("undefined"==typeof t.startDate&&"undefined"==typeof t.endDate&&r(this.element).is("input[type=text]")){var l=r(this.element).val(),c=l.split(this.locale.separator);o=u=null,2==c.length?(o=n(c[0],this.locale.format),u=n(c[1],this.locale.format)):this.singleDatePicker&&""!==l&&(o=n(l,this.locale.format),u=n(l,this.locale.format)),null!==o&&null!==u&&(this.setStartDate(o),this.setEndDate(u))}if("object"==typeof t.ranges){for(f in t.ranges){o="string"==typeof t.ranges[f][0]?n(t.ranges[f][0],this.locale.format):n(t.ranges[f][0]),u="string"==typeof t.ranges[f][1]?n(t.ranges[f][1],this.locale.format):n(t.ranges[f][1]),this.minDate&&o.isBefore(this.minDate)&&(o=this.minDate.clone());var h=this.maxDate;if(this.dateLimit&&o.clone().add(this.dateLimit).isAfter(h)&&(h=o.clone().add(this.dateLimit)),h&&u.isAfter(h)&&(u=h.clone()),!(this.minDate&&u.isBefore(this.minDate)||h&&o.isAfter(h))){var p=document.createElement("textarea");p.innerHTML=f,rangeHtml=p.value,this.ranges[rangeHtml]=[o,u]}}var d="<ul>";for(f in this.ranges)d+="<li>"+f+"</li>";d+="<li>"+this.locale.customRangeLabel+"</li>",d+="</ul>",this.container.find(".ranges").prepend(d)}if("function"==typeof i&&(this.callback=i),this.timePicker||(this.startDate=this.startDate.startOf("day"),this.endDate=this.endDate.endOf("day"),this.container.find(".calendar-time").hide()),this.timePicker&&this.autoApply&&(this.autoApply=!1),this.autoApply&&"object"!=typeof t.ranges?this.container.find(".ranges").hide():this.autoApply&&this.container.find(".applyBtn, .cancelBtn").addClass("hide"),this.singleDatePicker&&(this.container.addClass("single"),this.container.find(".calendar.left").addClass("single"),this.container.find(".calendar.left").show(),this.container.find(".calendar.right").hide(),this.container.find(".daterangepicker_input input, .daterangepicker_input i").hide(),this.timePicker||this.container.find(".ranges").hide()),"undefined"!=typeof t.ranges||this.singleDatePicker||this.container.addClass("show-calendar"),this.container.addClass("opens"+this.opens),"undefined"!=typeof t.ranges&&"right"==this.opens){var v=this.container.find(".ranges"),m=v.clone();v.remove(),this.container.find(".calendar.left").parent().prepend(m)}this.container.find(".applyBtn, .cancelBtn").addClass(this.buttonClasses),this.applyClass.length&&this.container.find(".applyBtn").addClass(this.applyClass),this.cancelClass.length&&this.container.find(".cancelBtn").addClass(this.cancelClass),this.container.find(".applyBtn").html(this.locale.applyLabel),this.container.find(".cancelBtn").html(this.locale.cancelLabel),this.container.find(".calendar").on("click.daterangepicker",".prev",r.proxy(this.clickPrev,this)).on("click.daterangepicker",".next",r.proxy(this.clickNext,this)).on("click.daterangepicker","td.available",r.proxy(this.clickDate,this)).on("mouseenter.daterangepicker","td.available",r.proxy(this.hoverDate,this)).on("mouseleave.daterangepicker","td.available",r.proxy(this.updateFormInputs,this)).on("change.daterangepicker","select.yearselect",r.proxy(this.monthOrYearChanged,this)).on("change.daterangepicker","select.monthselect",r.proxy(this.monthOrYearChanged,this)).on("change.daterangepicker","select.hourselect,select.minuteselect,select.secondselect,select.ampmselect",r.proxy(this.timeChanged,this)).on("click.daterangepicker",".daterangepicker_input input",r.proxy(this.showCalendars,this)).on("change.daterangepicker",".daterangepicker_input input",r.proxy(this.formInputsChanged,this)),this.container.find(".ranges").on("click.daterangepicker","button.applyBtn",r.proxy(this.clickApply,this)).on("click.daterangepicker","button.cancelBtn",r.proxy(this.clickCancel,this)).on("click.daterangepicker","li",r.proxy(this.clickRange,this)).on("mouseenter.daterangepicker","li",r.proxy(this.hoverRange,this)).on("mouseleave.daterangepicker","li",r.proxy(this.updateFormInputs,this)),this.element.is("input")?this.element.on({"click.daterangepicker":r.proxy(this.show,this),"focus.daterangepicker":r.proxy(this.show,this),"keyup.daterangepicker":r.proxy(this.elementChanged,this),"keydown.daterangepicker":r.proxy(this.keydown,this)}):this.element.on("click.daterangepicker",r.proxy(this.toggle,this)),this.element.is("input")&&!this.singleDatePicker&&this.autoUpdateInput?(this.element.val(this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format)),this.element.trigger("change")):this.element.is("input")&&this.autoUpdateInput&&(this.element.val(this.startDate.format(this.locale.format)),this.element.trigger("change"))};i.prototype={constructor:i,setStartDate:function(e){"string"==typeof e&&(this.startDate=n(e,this.locale.format)),"object"==typeof e&&(this.startDate=n(e)),this.timePicker||(this.startDate=this.startDate.startOf("day")),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.round(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement),this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate),this.maxDate&&this.startDate.isAfter(this.maxDate)&&(this.startDate=this.maxDate),this.isShowing||this.updateElement(),this.updateMonthsInView()},setEndDate:function(e){"string"==typeof e&&(this.endDate=n(e,this.locale.format)),"object"==typeof e&&(this.endDate=n(e)),this.timePicker||(this.endDate=this.endDate.endOf("day")),this.timePicker&&this.timePickerIncrement&&this.endDate.minute(Math.round(this.endDate.minute()/this.timePickerIncrement)*this.timePickerIncrement),this.endDate.isBefore(this.startDate)&&(this.endDate=this.startDate.clone()),this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate),this.dateLimit&&this.startDate.clone().add(this.dateLimit).isBefore(this.endDate)&&(this.endDate=this.startDate.clone().add(this.dateLimit)),this.isShowing||this.updateElement(),this.updateMonthsInView()},isInvalidDate:function(){return!1},updateView:function(){this.timePicker&&(this.renderTimePicker("left"),this.renderTimePicker("right"),this.endDate?this.container.find(".right .calendar-time select").removeAttr("disabled").removeClass("disabled"):this.container.find(".right .calendar-time select").attr("disabled","disabled").addClass("disabled")),this.endDate?(this.container.find('input[name="daterangepicker_end"]').removeClass("active"),this.container.find('input[name="daterangepicker_start"]').addClass("active")):(this.container.find('input[name="daterangepicker_end"]').addClass("active"),this.container.find('input[name="daterangepicker_start"]').removeClass("active")),this.updateMonthsInView(),this.updateCalendars(),this.updateFormInputs()},updateMonthsInView:function(){if(this.endDate){if(!(!(!this.singleDatePicker&&this.leftCalendar.month&&this.rightCalendar.month)||this.startDate.format("YYYY-MM")!=this.leftCalendar.month.format("YYYY-MM")&&this.startDate.format("YYYY-MM")!=this.rightCalendar.month.format("YYYY-MM")||this.endDate.format("YYYY-MM")!=this.leftCalendar.month.format("YYYY-MM")&&this.endDate.format("YYYY-MM")!=this.rightCalendar.month.format("YYYY-MM")))return;this.leftCalendar.month=this.startDate.clone().date(2),this.linkedCalendars||this.endDate.month()==this.startDate.month()&&this.endDate.year()==this.startDate.year()?this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month"):this.rightCalendar.month=this.endDate.clone().date(2)}else this.leftCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")&&this.rightCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")&&(this.leftCalendar.month=this.startDate.clone().date(2),this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month"))},updateCalendars:function(){if(this.timePicker){var e,t,n;if(this.endDate){if(e=parseInt(this.container.find(".left .hourselect").val(),10),t=parseInt(this.container.find(".left .minuteselect").val(),10),n=this.timePickerSeconds?parseInt(this.container.find(".left .secondselect").val(),10):0,!this.timePicker24Hour){var r=this.container.find(".left .ampmselect").val();"PM"===r&&12>e&&(e+=12),"AM"===r&&12===e&&(e=0)}}else if(e=parseInt(this.container.find(".right .hourselect").val(),10),t=parseInt(this.container.find(".right .minuteselect").val(),10),n=this.timePickerSeconds?parseInt(this.container.find(".right .secondselect").val(),10):0,!this.timePicker24Hour){var r=this.container.find(".right .ampmselect").val();"PM"===r&&12>e&&(e+=12),"AM"===r&&12===e&&(e=0)}this.leftCalendar.month.hour(e).minute(t).second(n),this.rightCalendar.month.hour(e).minute(t).second(n)}if(this.renderCalendar("left"),this.renderCalendar("right"),this.container.find(".ranges li").removeClass("active"),null!=this.endDate){var i=!0,s=0;for(var o in this.ranges){if(this.timePicker){if(this.startDate.isSame(this.ranges[o][0])&&this.endDate.isSame(this.ranges[o][1])){i=!1,this.chosenLabel=this.container.find(".ranges li:eq("+s+")").addClass("active").html();break}}else if(this.startDate.format("YYYY-MM-DD")==this.ranges[o][0].format("YYYY-MM-DD")&&this.endDate.format("YYYY-MM-DD")==this.ranges[o][1].format("YYYY-MM-DD")){i=!1,this.chosenLabel=this.container.find(".ranges li:eq("+s+")").addClass("active").html();break}s++}i&&(this.chosenLabel=this.container.find(".ranges li:last").addClass("active").html(),this.showCalendars())}},renderCalendar:function(e){var t="left"==e?this.leftCalendar:this.rightCalendar,i=t.month.month(),s=t.month.year(),o=t.month.hour(),u=t.month.minute(),f=t.month.second(),l=n([s,i]).daysInMonth(),c=n([s,i,1]),h=n([s,i,l]),p=n(c).subtract(1,"month").month(),d=n(c).subtract(1,"month").year(),v=n([d,p]).daysInMonth(),m=c.day(),t=[];t.firstDay=c,t.lastDay=h;for(var g=0;6>g;g++)t[g]=[];var y=v-m+this.locale.firstDay+1;y>v&&(y-=7),m==this.locale.firstDay&&(y=v-6);for(var b,w,E=n([d,p,y,12,u,f]),g=0,b=0,w=0;42>g;g++,b++,E=n(E).add(24,"hour"))g>0&&b%7===0&&(b=0,w++),t[w][b]=E.clone().hour(o).minute(u).second(f),E.hour(12),this.minDate&&t[w][b].format("YYYY-MM-DD")==this.minDate.format("YYYY-MM-DD")&&t[w][b].isBefore(this.minDate)&&"left"==e&&(t[w][b]=this.minDate.clone()),this.maxDate&&t[w][b].format("YYYY-MM-DD")==this.maxDate.format("YYYY-MM-DD")&&t[w][b].isAfter(this.maxDate)&&"right"==e&&(t[w][b]=this.maxDate.clone());"left"==e?this.leftCalendar.calendar=t:this.rightCalendar.calendar=t;var S="left"==e?this.minDate:this.startDate,x=this.maxDate,T=("left"==e?this.startDate:this.endDate,'<table class="table-condensed">');T+="<thead>",T+="<tr>",this.showWeekNumbers&&(T+="<th></th>"),T+=S&&!S.isBefore(t.firstDay)||this.linkedCalendars&&"left"!=e?"<th></th>":'<th class="prev available"><i class="fa fa-angle-left"></i></th>';var N=this.locale.monthNames[t[1][1].month()]+t[1][1].format(" YYYY");if(this.showDropdowns){for(var C=t[1][1].month(),k=t[1][1].year(),L=x&&x.year()||k+5,A=S&&S.year()||k-50,O=k==A,M=k==L,_='<select class="monthselect">',D=0;12>D;D++)_+=(!O||D>=S.month())&&(!M||D<=x.month())?"<option value='"+D+"'"+(D===C?" selected='selected'":"")+">"+this.locale.monthNames[D]+"</option>":"<option value='"+D+"'"+(D===C?" selected='selected'":"")+" disabled='disabled'>"+this.locale.monthNames[D]+"</option>";_+="</select>";for(var P='<select class="yearselect">',H=A;L>=H;H++)P+='<option value="'+H+'"'+(H===k?' selected="selected"':"")+">"+H+"</option>";P+="</select>",N=_+P}if(T+='<th colspan="5" class="month">'+N+"</th>",T+=x&&!x.isAfter(t.lastDay)||this.linkedCalendars&&"right"!=e&&!this.singleDatePicker?"<th></th>":'<th class="next available"><i class="fa fa-angle-right"></i></th>',T+="</tr>",T+="<tr>",this.showWeekNumbers&&(T+='<th class="week">'+this.locale.weekLabel+"</th>"),r.each(this.locale.daysOfWeek,function(e,t){T+="<th>"+t+"</th>"}),T+="</tr>",T+="</thead>",T+="<tbody>",null==this.endDate&&this.dateLimit){var B=this.startDate.clone().add(this.dateLimit).endOf("day");(!x||B.isBefore(x))&&(x=B)}for(var w=0;6>w;w++){T+="<tr>",this.showWeekNumbers&&(T+='<td class="week">'+t[w][0].week()+"</td>");for(var b=0;7>b;b++){var j=[];t[w][b].isSame(new Date,"day")&&j.push("today"),t[w][b].isoWeekday()>5&&j.push("weekend"),t[w][b].month()!=t[1][1].month()&&j.push("off"),this.minDate&&t[w][b].isBefore(this.minDate,"day")&&j.push("off","disabled"),x&&t[w][b].isAfter(x,"day")&&j.push("off","disabled"),this.isInvalidDate(t[w][b])&&j.push("off","disabled"),t[w][b].format("YYYY-MM-DD")==this.startDate.format("YYYY-MM-DD")&&j.push("active","start-date"),null!=this.endDate&&t[w][b].format("YYYY-MM-DD")==this.endDate.format("YYYY-MM-DD")&&j.push("active","end-date"),null!=this.endDate&&t[w][b]>this.startDate&&t[w][b]<this.endDate&&j.push("in-range");for(var F="",I=!1,g=0;g<j.length;g++)F+=j[g]+" ","disabled"==j[g]&&(I=!0);I||(F+="available"),T+='<td class="'+F.replace(/^\s+|\s+$/g,"")+'" data-title="r'+w+"c"+b+'">'+t[w][b].date()+"</td>"}T+="</tr>"}T+="</tbody>",T+="</table>",this.container.find(".calendar."+e+" .calendar-table").html(T)},renderTimePicker:function(e){var t,n,r,i=this.maxDate;!this.dateLimit||this.maxDate&&!this.startDate.clone().add(this.dateLimit).isAfter(this.maxDate)||(i=this.startDate.clone().add(this.dateLimit)),"left"==e?(n=this.startDate.clone(),r=this.minDate):"right"==e&&(n=this.endDate?this.endDate.clone():this.startDate.clone(),r=this.startDate),t='<select class="hourselect">';for(var s=this.timePicker24Hour?0:1,o=this.timePicker24Hour?23:12,u=s;o>=u;u++){var a=u;this.timePicker24Hour||(a=n.hour()>=12?12==u?12:u+12:12==u?0:u);var f=n.clone().hour(a),l=!1;r&&f.minute(59).isBefore(r)&&(l=!0),i&&f.minute(0).isAfter(i)&&(l=!0),t+=a!=n.hour()||l?l?'<option value="'+u+'" disabled="disabled" class="disabled">'+u+"</option>":'<option value="'+u+'">'+u+"</option>":'<option value="'+u+'" selected="selected">'+u+"</option>"}t+="</select> ",t+=': <select class="minuteselect">';for(var u=0;60>u;u+=this.timePickerIncrement){var c=10>u?"0"+u:u,f=n.clone().minute(u),l=!1;r&&f.second(59).isBefore(r)&&(l=!0),i&&f.second(0).isAfter(i)&&(l=!0),t+=n.minute()!=u||l?l?'<option value="'+u+'" disabled="disabled" class="disabled">'+c+"</option>":'<option value="'+u+'">'+c+"</option>":'<option value="'+u+'" selected="selected">'+c+"</option>"}if(t+="</select> ",this.timePickerSeconds){t+=': <select class="secondselect">';for(var u=0;60>u;u++){var c=10>u?"0"+u:u,f=n.clone().second(u),l=!1;r&&f.isBefore(r)&&(l=!0),i&&f.isAfter(i)&&(l=!0),t+=n.second()!=u||l?l?'<option value="'+u+'" disabled="disabled" class="disabled">'+c+"</option>":'<option value="'+u+'">'+c+"</option>":'<option value="'+u+'" selected="selected">'+c+"</option>"}t+="</select> "}if(!this.timePicker24Hour){t+='<select class="ampmselect">';var h="",p="";r&&n.clone().hour(12).minute(0).second(0).isBefore(r)&&(h=' disabled="disabled" class="disabled"'),i&&n.clone().hour(0).minute(0).second(0).isAfter(i)&&(p=' disabled="disabled" class="disabled"'),t+=n.hour()>=12?'<option value="AM"'+h+'>AM</option><option value="PM" selected="selected"'+p+">PM</option>":'<option value="AM" selected="selected"'+h+'>AM</option><option value="PM"'+p+">PM</option>",t+="</select>"}this.container.find(".calendar."+e+" .calendar-time div").html(t)},updateFormInputs:function(){this.container.find("input[name=daterangepicker_start]").is(":focus")||this.container.find("input[name=daterangepicker_end]").is(":focus")||(this.container.find("input[name=daterangepicker_start]").val(this.startDate.format(this.locale.format)),this.endDate&&this.container.find("input[name=daterangepicker_end]").val(this.endDate.format(this.locale.format)),this.singleDatePicker||this.endDate&&(this.startDate.isBefore(this.endDate)||this.startDate.isSame(this.endDate))?this.container.find("button.applyBtn").removeAttr("disabled"):this.container.find("button.applyBtn").attr("disabled","disabled"))},move:function(){var e,t={top:0,left:0},n=r(window).width();this.parentEl.is("body")||(t={top:this.parentEl.offset().top-this.parentEl.scrollTop(),left:this.parentEl.offset().left-this.parentEl.scrollLeft()},n=this.parentEl[0].clientWidth+this.parentEl.offset().left),e="up"==this.drops?this.element.offset().top-this.container.outerHeight()-t.top:this.element.offset().top+this.element.outerHeight()-t.top,this.container["up"==this.drops?"addClass":"removeClass"]("dropup"),"left"==this.opens?(this.container.css({top:e,right:n-this.element.offset().left-this.element.outerWidth(),left:"auto"}),this.container.offset().left<0&&this.container.css({right:"auto",left:9})):"center"==this.opens?(this.container.css({top:e,left:this.element.offset().left-t.left+this.element.outerWidth()/2-this.container.outerWidth()/2,right:"auto"}),this.container.offset().left<0&&this.container.css({right:"auto",left:9})):(this.container.css({top:e,left:this.element.offset().left-t.left,right:"auto"}),this.container.offset().left+this.container.outerWidth()>r(window).width()&&this.container.css({left:"auto",right:0}))},show:function(e){this.isShowing||(this._outsideClickProxy=r.proxy(function(e){this.outsideClick(e)},this),r(document).on("mousedown.daterangepicker",this._outsideClickProxy).on("touchend.daterangepicker",this._outsideClickProxy).on("click.daterangepicker","[data-toggle=dropdown]",this._outsideClickProxy).on("focusin.daterangepicker",this._outsideClickProxy),r(window).on("resize.daterangepicker",r.proxy(function(e){this.move(e)},this)),this.oldStartDate=this.startDate.clone(),this.oldEndDate=this.endDate.clone(),this.updateView(),this.container.show(),this.move(),this.element.trigger("show.daterangepicker",this),this.isShowing=!0)},hide:function(e){this.isShowing&&(this.endDate||(this.startDate=this.oldStartDate.clone(),this.endDate=this.oldEndDate.clone()),this.startDate.isSame(this.oldStartDate)&&this.endDate.isSame(this.oldEndDate)||this.callback(this.startDate,this.endDate,this.chosenLabel),this.updateElement(),r(document).off(".daterangepicker"),r(window).off(".daterangepicker"),this.container.hide(),this.element.trigger("hide.daterangepicker",this),this.isShowing=!1)},toggle:function(e){this.isShowing?this.hide():this.show()},outsideClick:function(e){var t=r(e.target);"focusin"==e.type||t.closest(this.element).length||t.closest(this.container).length||t.closest(".calendar-table").length||this.hide()},showCalendars:function(){this.container.addClass("show-calendar"),this.move(),this.element.trigger("showCalendar.daterangepicker",this)},hideCalendars:function(){this.container.removeClass("show-calendar"),this.element.trigger("hideCalendar.daterangepicker",this)},hoverRange:function(e){if(!this.container.find("input[name=daterangepicker_start]").is(":focus")&&!this.container.find("input[name=daterangepicker_end]").is(":focus")){var t=e.target.innerHTML;if(t==this.locale.customRangeLabel)this.updateView();else{var n=this.ranges[t];this.container.find("input[name=daterangepicker_start]").val(n[0].format(this.locale.format)),this.container.find("input[name=daterangepicker_end]").val(n[1].format(this.locale.format))}}},clickRange:function(e){var t=e.target.innerHTML;if(this.chosenLabel=t,t==this.locale.customRangeLabel)this.showCalendars();else{var n=this.ranges[t];this.startDate=n[0],this.endDate=n[1],this.timePicker||(this.startDate.startOf("day"),this.endDate.endOf("day")),this.hideCalendars(),this.clickApply()}},clickPrev:function(e){var t=r(e.target).parents(".calendar");t.hasClass("left")?(this.leftCalendar.month.subtract(1,"month"),this.linkedCalendars&&this.rightCalendar.month.subtract(1,"month")):this.rightCalendar.month.subtract(1,"month"),this.updateCalendars()},clickNext:function(e){var t=r(e.target).parents(".calendar");t.hasClass("left")?this.leftCalendar.month.add(1,"month"):(this.rightCalendar.month.add(1,"month"),this.linkedCalendars&&this.leftCalendar.month.add(1,"month")),this.updateCalendars()},hoverDate:function(e){if(!this.container.find("input[name=daterangepicker_start]").is(":focus")&&!this.container.find("input[name=daterangepicker_end]").is(":focus")&&r(e.target).hasClass("available")){var t=r(e.target).attr("data-title"),n=t.substr(1,1),i=t.substr(3,1),s=r(e.target).parents(".calendar"),o=s.hasClass("left")?this.leftCalendar.calendar[n][i]:this.rightCalendar.calendar[n][i];this.endDate?this.container.find("input[name=daterangepicker_start]").val(o.format(this.locale.format)):this.container.find("input[name=daterangepicker_end]").val(o.format(this.locale.format));var u=this.leftCalendar,a=this.rightCalendar,f=this.startDate;this.endDate||this.container.find(".calendar td").each(function(e,t){if(!r(t).hasClass("week")){var n=r(t).attr("data-title"),i=n.substr(1,1),s=n.substr(3,1),c=r(t).parents(".calendar"),p=c.hasClass("left")?u.calendar[i][s]:a.calendar[i][s];p.isAfter(f)&&p.isBefore(o)?r(t).addClass("in-range"):r(t).removeClass("in-range")}})}},clickDate:function(e){if(r(e.target).hasClass("available")){var t=r(e.target).attr("data-title"),n=t.substr(1,1),i=t.substr(3,1),s=r(e.target).parents(".calendar"),o=s.hasClass("left")?this.leftCalendar.calendar[n][i]:this.rightCalendar.calendar[n][i];if(this.endDate||o.isBefore(this.startDate)){if(this.timePicker){var u=parseInt(this.container.find(".left .hourselect").val(),10);if(!this.timePicker24Hour){var a=s.find(".ampmselect").val();"PM"===a&&12>u&&(u+=12),"AM"===a&&12===u&&(u=0)}var f=parseInt(this.container.find(".left .minuteselect").val(),10),l=this.timePickerSeconds?parseInt(this.container.find(".left .secondselect").val(),10):0;o=o.clone().hour(u).minute(f).second(l)}this.endDate=null,this.setStartDate(o.clone())}else{if(this.timePicker){var u=parseInt(this.container.find(".right .hourselect").val(),10);if(!this.timePicker24Hour){var a=this.container.find(".right .ampmselect").val();"PM"===a&&12>u&&(u+=12),"AM"===a&&12===u&&(u=0)}var f=parseInt(this.container.find(".right .minuteselect").val(),10),l=this.timePickerSeconds?parseInt(this.container.find(".right .secondselect").val(),10):0;o=o.clone().hour(u).minute(f).second(l)}this.setEndDate(o.clone()),this.autoApply&&this.clickApply()}this.singleDatePicker&&(this.setEndDate(this.startDate),this.timePicker||this.clickApply()),this.updateView()}},clickApply:function(e){this.hide(),this.element.trigger("apply.daterangepicker",this)},clickCancel:function(e){this.startDate=this.oldStartDate,this.endDate=this.oldEndDate,this.hide(),this.element.trigger("cancel.daterangepicker",this)},monthOrYearChanged:function(e){var t=r(e.target).closest(".calendar").hasClass("left"),n=t?"left":"right",i=this.container.find(".calendar."+n),s=parseInt(i.find(".monthselect").val(),10),o=i.find(".yearselect").val();t||(o<this.startDate.year()||o==this.startDate.year()&&s<this.startDate.month())&&(s=this.startDate.month(),o=this.startDate.year()),this.minDate&&(o<this.minDate.year()||o==this.minDate.year()&&s<this.minDate.month())&&(s=this.minDate.month(),o=this.minDate.year()),this.maxDate&&(o>this.maxDate.year()||o==this.maxDate.year()&&s>this.maxDate.month())&&(s=this.maxDate.month(),o=this.maxDate.year()),t?(this.leftCalendar.month.month(s).year(o),this.linkedCalendars&&(this.rightCalendar.month=this.leftCalendar.month.clone().add(1,"month"))):(this.rightCalendar.month.month(s).year(o),this.linkedCalendars&&(this.leftCalendar.month=this.rightCalendar.month.clone().subtract(1,"month"))),this.updateCalendars()},timeChanged:function(e){var t=r(e.target).closest(".calendar"),n=t.hasClass("left"),i=parseInt(t.find(".hourselect").val(),10),s=parseInt(t.find(".minuteselect").val(),10),o=this.timePickerSeconds?parseInt(t.find(".secondselect").val(),10):0;if(!this.timePicker24Hour){var u=t.find(".ampmselect").val();"PM"===u&&12>i&&(i+=12),"AM"===u&&12===i&&(i=0)}if(n){var a=this.startDate.clone();a.hour(i),a.minute(s),a.second(o),this.setStartDate(a),this.singleDatePicker?this.endDate=this.startDate.clone():this.endDate&&this.endDate.format("YYYY-MM-DD")==a.format("YYYY-MM-DD")&&this.endDate.isBefore(a)&&this.setEndDate(a.clone())}else if(this.endDate){var f=this.endDate.clone();f.hour(i),f.minute(s),f.second(o),this.setEndDate(f)}this.updateCalendars(),this.updateFormInputs(),this.renderTimePicker("left"),this.renderTimePicker("right")},formInputsChanged:function(e){var t=r(e.target).closest(".calendar").hasClass("right"),i=n(this.container.find('input[name="daterangepicker_start"]').val(),this.locale.format),s=n(this.container.find('input[name="daterangepicker_end"]').val(),this.locale.format);i.isValid()&&s.isValid()&&(t&&s.isBefore(i)&&(i=s.clone()),this.setStartDate(i),this.setEndDate(s),t?this.container.find('input[name="daterangepicker_start"]').val(this.startDate.format(this.locale.format)):this.container.find('input[name="daterangepicker_end"]').val(this.endDate.format(this.locale.format))),this.updateCalendars(),this.timePicker&&(this.renderTimePicker("left"),this.renderTimePicker("right"))},elementChanged:function(){if(this.element.is("input")&&this.element.val().length&&!(this.element.val().length<this.locale.format.length)){var e=this.element.val().split(this.locale.separator),t=null,r=null;2===e.length&&(t=n(e[0],this.locale.format),r=n(e[1],this.locale.format)),(this.singleDatePicker||null===t||null===r)&&(t=n(this.element.val(),this.locale.format),r=t),t.isValid()&&r.isValid()&&(this.setStartDate(t),this.setEndDate(r),this.updateView())}},keydown:function(e){(9===e.keyCode||13===e.keyCode)&&this.hide()},updateElement:function(){this.element.is("input")&&!this.singleDatePicker&&this.autoUpdateInput?(this.element.val(this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format)),this.element.trigger("change")):this.element.is("input")&&this.autoUpdateInput&&(this.element.val(this.startDate.format(this.locale.format)),this.element.trigger("change"))},remove:function(){this.container.remove(),this.element.off(".daterangepicker"),this.element.removeData()}},r.fn.daterangepicker=function(e,t){return this.each(function(){var n=r(this);n.data("daterangepicker")&&n.data("daterangepicker").remove(),n.data("daterangepicker",new i(n,e,t))}),this}}),$.extend(!0,$.fn.dataTable.defaults,{dom:"<'row'<'col-md-6 col-sm-6'l><'col-md-6 col-sm-6'f>r><'table-scrollable't><'row'<'col-md-5 col-sm-5'i><'col-md-7 col-sm-7'p>>",language:{lengthMenu:" _MENU_ records ",paginate:{previous:"Prev",next:"Next",page:"Page",pageOf:"of"}},pagingType:"bootstrap_number"}),$.extend($.fn.dataTableExt.oStdClasses,{sWrapper:"dataTables_wrapper",sFilterInput:"form-control input-sm input-small input-inline",sLengthSelect:"form-control input-sm input-xsmall input-inline"}),$.fn.dataTable.defaults.renderer="bootstrap",$.fn.dataTable.ext.renderer.pageButton.bootstrap=function(e,t,n,r,i,s){var o=new $.fn.dataTable.Api(e),u=e.oClasses,a=e.oLanguage.oPaginate,f,l,c=function(t,r){var h,p,d,v,m=function(e){e.preventDefault(),e.data.action!=="ellipsis"&&o.page(e.data.action).draw(!1)};for(h=0,p=r.length;h<p;h++){v=r[h];if($.isArray(v))c(t,v);else{f="",l="";switch(v){case"ellipsis":f="&hellip;",l="disabled";break;case"first":f=a.sFirst,l=v+(i>0?"":" disabled");break;case"previous":f=a.sPrevious,l=v+(i>0?"":" disabled");break;case"next":f=a.sNext,l=v+(i<s-1?"":" disabled");break;case"last":f=a.sLast,l=v+(i<s-1?"":" disabled");break;default:f=v+1,l=i===v?"active":""}f&&(d=$("<li>",{"class":u.sPageButton+" "+l,"aria-controls":e.sTableId,tabindex:e.iTabIndex,id:n===0&&typeof v=="string"?e.sTableId+"_"+v:null}).append($("<a>",{href:"#"}).html(f)).appendTo(t),e.oApi._fnBindAction(d,{action:v},m))}}};c($(t).empty().html('<ul class="pagination"/>').children("ul"),r)},$.fn.dataTableExt.oApi.fnPagingInfo=function(e){return{iStart:e._iDisplayStart,iEnd:e.fnDisplayEnd(),iLength:e._iDisplayLength,iTotal:e.fnRecordsTotal(),iFilteredTotal:e.fnRecordsDisplay(),iPage:e._iDisplayLength===-1?0:Math.ceil(e._iDisplayStart/e._iDisplayLength),iTotalPages:e._iDisplayLength===-1?0:Math.ceil(e.fnRecordsDisplay()/e._iDisplayLength)}},$.extend($.fn.dataTableExt.oPagination,{bootstrap_full_number:{fnInit:function(e,t,n){var r=e.oLanguage.oPaginate,i=function(t){t.preventDefault(),e.oApi._fnPageChange(e,t.data.action)&&n(e)};$(t).append('<ul class="pagination"><li class="prev disabled"><a href="#" title="'+r.sFirst+'"><i class="fas fa-angle-double-left"></i></a></li>'+'<li class="prev disabled"><a href="#" title="'+r.sPrevious+'"><i class="fas fa-angle-left"></i></a></li>'+'<li class="next disabled"><a href="#" title="'+r.sNext+'"><i class="fas fa-angle-right"></i></a></li>'+'<li class="next disabled"><a href="#" title="'+r.sLast+'"><i class="fas fa-angle-double-right"></i></a></li>'+"</ul>");var s=$("a",t);$(s[0]).bind("click.DT",{action:"first"},i),$(s[1]).bind("click.DT",{action:"previous"},i),$(s[2]).bind("click.DT",{action:"next"},i),$(s[3]).bind("click.DT",{action:"last"},i)},fnUpdate:function(e,t){var n=5,r=e.oInstance.fnPagingInfo(),i=e.aanFeatures.p,s,o,u,a,f,l=Math.floor(n/2);r.iTotalPages<n?(a=1,f=r.iTotalPages):r.iPage<=l?(a=1,f=n):r.iPage>=r.iTotalPages-l?(a=r.iTotalPages-n+1,f=r.iTotalPages):(a=r.iPage-l+1,f=a+n-1);for(s=0,iLen=i.length;s<iLen;s++){r.iTotalPages<=0?$(".pagination",i[s]).css("visibility","hidden"):$(".pagination",i[s]).css("visibility","visible"),$("li:gt(1)",i[s]).filter(":not(.next)").remove();for(o=a;o<=f;o++)u=o==r.iPage+1?'class="active"':"",$("<li "+u+'><a href="#">'+o+"</a></li>").insertBefore($("li.next:first",i[s])[0]).bind("click",function(n){n.preventDefault(),e._iDisplayStart=(parseInt($("a",this).text(),10)-1)*r.iLength,t(e)});r.iPage===0?$("li.prev",i[s]).addClass("disabled"):$("li.prev",i[s]).removeClass("disabled"),r.iPage===r.iTotalPages-1||r.iTotalPages===0?$("li.next",i[s]).addClass("disabled"):$("li.next",i[s]).removeClass("disabled")}}}}),$.extend($.fn.dataTableExt.oPagination,{bootstrap_number:{fnInit:function(e,t,n){var r=e.oLanguage.oPaginate,i=function(t){t.preventDefault(),e.oApi._fnPageChange(e,t.data.action)&&n(e)};$(t).append('<ul class="pagination"><li class="prev disabled"><a href="#" title="'+r.sPrevious+'"><i class="fas fa-angle-left"></i></a></li>'+'<li class="next disabled"><a href="#" title="'+r.sNext+'"><i class="fas fa-angle-right"></i></a></li>'+"</ul>");var s=$("a",t);$(s[0]).bind("click.DT",{action:"previous"},i),$(s[1]).bind("click.DT",{action:"next"},i)},fnUpdate:function(e,t){var n=5,r=e.oInstance.fnPagingInfo(),i=e.aanFeatures.p,s,o,u,a,f,l=Math.floor(n/2);r.iTotalPages<n?(a=1,f=r.iTotalPages):r.iPage<=l?(a=1,f=n):r.iPage>=r.iTotalPages-l?(a=r.iTotalPages-n+1,f=r.iTotalPages):(a=r.iPage-l+1,f=a+n-1);for(s=0,iLen=i.length;s<iLen;s++){r.iTotalPages<=0?$(".pagination",i[s]).css("visibility","hidden"):$(".pagination",i[s]).css("visibility","visible"),$("li:gt(0)",i[s]).filter(":not(.next)").remove();for(o=a;o<=f;o++)u=o==r.iPage+1?'class="active"':"",$("<li "+u+'><a href="#">'+o+"</a></li>").insertBefore($("li.next:first",i[s])[0]).bind("click",function(n){n.preventDefault(),e._iDisplayStart=(parseInt($("a",this).text(),10)-1)*r.iLength,t(e)});r.iPage===0?$("li.prev",i[s]).addClass("disabled"):$("li.prev",i[s]).removeClass("disabled"),r.iPage===r.iTotalPages-1||r.iTotalPages===0?$("li.next",i[s]).addClass("disabled"):$("li.next",i[s]).removeClass("disabled")}}}}),$.extend($.fn.dataTableExt.oPagination,{bootstrap_extended:{fnInit:function(e,t,n){var r=e.oLanguage.oPaginate,i=e.oInstance.fnPagingInfo(),s=function(t){t.preventDefault(),e.oApi._fnPageChange(e,t.data.action)&&n(e)};$(t).append('<div class="pagination-panel"> '+(r.page?r.page:"")+" "+'<a href="#" class="btn btn-sm default prev disabled"><i class="fas fa-angle-left"></i></a>'+'<input type="text" class="pagination-panel-input form-control input-sm input-inline input-mini" maxlenght="5" style="text-align:center; margin: 0 5px;">'+'<a href="#" class="btn btn-sm default next disabled"><i class="fas fa-angle-right"></i></a> '+(r.pageOf?r.pageOf+' <span class="pagination-panel-total"></span>':"")+"</div>");var o=$("a",t);$(o[0]).bind("click.DT",{action:"previous"},s),$(o[1]).bind("click.DT",{action:"next"},s),$(".pagination-panel-input",t).bind("change.DT",function(t){var r=e.oInstance.fnPagingInfo();t.preventDefault();var i=parseInt($(this).val());i>0&&i<=r.iTotalPages?e.oApi._fnPageChange(e,i-1)&&n(e):$(this).val(r.iPage+1)}),$(".pagination-panel-input",t).bind("keypress.DT",function(t){var r=e.oInstance.fnPagingInfo();if(t.which==13){var i=parseInt($(this).val());i>0&&i<=e.oInstance.fnPagingInfo().iTotalPages?e.oApi._fnPageChange(e,i-1)&&n(e):$(this).val(r.iPage+1),t.preventDefault()}})},fnUpdate:function(e,t){var n=5,r=e.oInstance.fnPagingInfo(),i=e.aanFeatures.p,s,o,u,a,f,l=Math.floor(n/2);r.iTotalPages<n?(a=1,f=r.iTotalPages):r.iPage<=l?(a=1,f=n):r.iPage>=r.iTotalPages-l?(a=r.iTotalPages-n+1,f=r.iTotalPages):(a=r.iPage-l+1,f=a+n-1);for(s=0,iLen=i.length;s<iLen;s++){var c=$(i[s]).parents(".dataTables_wrapper");r.iTotal<=0?$(".dataTables_paginate, .dataTables_length",c).hide():$(".dataTables_paginate, .dataTables_length",c).show(),r.iTotalPages<=0?$(".dataTables_paginate, .dataTables_length .seperator",c).hide():$(".dataTables_paginate, .dataTables_length .seperator",c).show(),$(".pagination-panel-total",i[s]).html(r.iTotalPages),$(".pagination-panel-input",i[s]).val(r.iPage+1),$("li:gt(1)",i[s]).filter(":not(.next)").remove();for(o=a;o<=f;o++)u=o==r.iPage+1?'class="active"':"",$("<li "+u+'><a href="#">'+o+"</a></li>").insertBefore($("li.next:first",i[s])[0]).bind("click",function(n){n.preventDefault(),e._iDisplayStart=(parseInt($("a",this).text(),10)-1)*r.iLength,t(e)});r.iPage===0?$("a.prev",i[s]).addClass("disabled"):$("a.prev",i[s]).removeClass("disabled"),r.iPage===r.iTotalPages-1||r.iTotalPages===0?$("a.next",i[s]).addClass("disabled"):$("a.next",i[s]).removeClass("disabled")}}}}),function(e,t,n,r){function u(t,n){this.element=e(t),this.settings=e.extend({},s,n),this._defaults=s,this._name=i,this.init()}function a(e){e.element.trigger("change")}function f(t){t.element.find("option").each(function(n,r){var i=e(r);typeof i.data("original-index")=="undefined"&&i.data("original-index",t.elementCount++),typeof i.data("_selected")=="undefined"&&i.data("_selected",!1)})}function l(t,n,r){t.element.find("option").each(function(i,s){var o=e(s);o.data("original-index")===n&&(o.prop("selected",r),r?(o.attr("data-sortindex",t.sortIndex),t.sortIndex++):o.removeAttr("data-sortindex"))})}function c(e,t){return e.replace(/\{(\d+)\}/g,function(e,n){return typeof t[n]!="undefined"?t[n]:e})}function h(e){if(!e.settings.infoText)return;var t=e.elements.select1.find("option").length,n=e.elements.select2.find("option").length,r=e.element.find("option").length-e.selectedElements,i=e.selectedElements,s="";r===0?s=e.settings.infoTextEmpty:t===r?s=c(e.settings.infoText,[t,r]):s=c(e.settings.infoTextFiltered,[t,r]),e.elements.info1.html(s),e.elements.box1.toggleClass("filtered",t!==r&&r!==0),i===0?s=e.settings.infoTextEmpty:n===i?s=c(e.settings.infoText,[n,i]):s=c(e.settings.infoTextFiltered,[n,i]),e.elements.info2.html(s),e.elements.box2.toggleClass("filtered",n!==i&&i!==0)}function p(t){t.selectedElements=0,t.elements.select1.empty(),t.elements.select2.empty(),t.element.find("option").each(function(n,r){var i=e(r);i.prop("selected")?(t.selectedElements++,t.settings.sortByInputOrder&&t.sortIndex++,t.elements.select2.append(i.clone(!0).prop("selected",i.data("_selected")))):t.elements.select1.append(i.clone(!0).prop("selected",i.data("_selected")))}),t.settings.showFilterInputs&&(d(t,1),d(t,2)),h(t)}function d(t,n){if(!t.settings.showFilterInputs)return;v(t,n),t.elements["select"+n].empty().scrollTop(0);var r=new RegExp(e.trim(t.elements["filterInput"+n].val()),"gi"),i=t.element.find("option"),s=t.element;n===1?s=i.not(":selected"):s=s.find("option:selected"),s.each(function(s,o){var u=e(o),a=!0;if(o.text.match(r)||t.settings.filterOnValues&&u.attr("value").match(r))a=!1,t.elements["select"+n].append(u.clone(!0).prop("selected",u.data("_selected")));i.eq(u.data("original-index")).data("filtered"+n,a)}),h(t)}function v(t,n){var r=t.element.find("option");t.elements["select"+n].find("option").each(function(t,n){var i=e(n);r.eq(i.data("original-index")).data("_selected",i.prop("selected"))})}function m(e){var t=e.children("option");t.sort(function(e,t){var n=parseInt(e.getAttribute("data-sortindex")),r=parseInt(t.getAttribute("data-sortindex"));return n>r?1:n<r?-1:0}),t.detach().appendTo(e)}function g(t){t.find("option").sort(function(t,n){return e(t).data("original-index")>e(n).data("original-index")?1:-1}).appendTo(t)}function y(e){e.elements.select1.find("option").each(function(){e.element.find("option").data("_selected",!1)})}function b(t){t.settings.preserveSelectionOnMove==="all"&&!t.settings.moveOnSelect?(v(t,1),v(t,2)):t.settings.preserveSelectionOnMove==="moved"&&!t.settings.moveOnSelect&&v(t,1),t.elements.select1.find("option:selected").each(function(n,r){var i=e(r);i.data("filtered1")||l(t,i.data("original-index"),!0)}),p(t),a(t),t.settings.sortByInputOrder?m(t.elements.select2):g(t.elements.select2)}function w(t){t.settings.preserveSelectionOnMove==="all"&&!t.settings.moveOnSelect?(v(t,1),v(t,2)):t.settings.preserveSelectionOnMove==="moved"&&!t.settings.moveOnSelect&&v(t,2),t.elements.select2.find("option:selected").each(function(n,r){var i=e(r);i.data("filtered2")||l(t,i.data("original-index"),!1)}),p(t),a(t),g(t.elements.select1),t.settings.sortByInputOrder&&m(t.elements.select2)}function E(t){t.settings.preserveSelectionOnMove==="all"&&!t.settings.moveOnSelect?(v(t,1),v(t,2)):t.settings.preserveSelectionOnMove==="moved"&&!t.settings.moveOnSelect&&v(t,1),t.element.find("option").each(function(n,r){var i=e(r);i.data("filtered1")||(i.prop("selected",!0),i.attr("data-sortindex",t.sortIndex),t.sortIndex++)}),p(t),a(t)}function S(t){t.settings.preserveSelectionOnMove==="all"&&!t.settings.moveOnSelect?(v(t,1),v(t,2)):t.settings.preserveSelectionOnMove==="moved"&&!t.settings.moveOnSelect&&v(t,2),t.element.find("option").each(function(t,n){var r=e(n);r.data("filtered2")||(r.prop("selected",!1),r.removeAttr("data-sortindex"))}),p(t),a(t)}function x(e){e.elements.form.submit(function(t){e.elements.filterInput1.is(":focus")?(t.preventDefault(),e.elements.filterInput1.focusout()):e.elements.filterInput2.is(":focus")&&(t.preventDefault(),e.elements.filterInput2.focusout())}),e.element.on("bootstrapDualListbox.refresh",function(t,n){e.refresh(n)}),e.elements.filterClear1.on("click",function(){e.setNonSelectedFilter("",!0)}),e.elements.filterClear2.on("click",function(){e.setSelectedFilter("",!0)}),e.settings.eventMoveOverride===!1&&e.elements.moveButton.on("click",function(){b(e)}),e.settings.eventMoveAllOverride===!1&&e.elements.moveAllButton.on("click",function(){E(e)}),e.settings.eventRemoveOverride===!1&&e.elements.removeButton.on("click",function(){w(e)}),e.settings.eventRemoveAllOverride===!1&&e.elements.removeAllButton.on("click",function(){S(e)}),e.elements.filterInput1.on("change keyup",function(){d(e,1)}),e.elements.filterInput2.on("change keyup",function(){d(e,2)})}var i="bootstrapDualListbox",s={bootstrap2Compatible:!1,filterTextClear:"show all",filterPlaceHolder:"Filter",moveSelectedLabel:"Move selected",moveAllLabel:"Move all",removeSelectedLabel:"Remove selected",removeAllLabel:"Remove all",moveOnSelect:!0,preserveSelectionOnMove:!1,selectedListLabel:!1,nonSelectedListLabel:!1,helperSelectNamePostfix:"_helper",selectorMinimalHeight:100,showFilterInputs:!0,nonSelectedFilter:"",selectedFilter:"",infoText:"Showing all {0}",infoTextFiltered:'<span class="label label-warning">Filtered</span> {0} from {1}',infoTextEmpty:"Empty list",filterOnValues:!1,sortByInputOrder:!1,eventMoveOverride:!1,eventMoveAllOverride:!1,eventRemoveOverride:!1,eventRemoveAllOverride:!1},o=/android/i.test(navigator.userAgent.toLowerCase());u.prototype={init:function(){this.container=e('<div class="bootstrap-duallistbox-container"> <div class="box1">   <label></label>   <span class="info-container">     <span class="info"></span>     <button type="button" class="btn clear1 pull-right"></button>   </span>   <input class="filter" type="text">   <div class="btn-group buttons">     <button type="button" class="btn moveall">       <i></i>       <i></i>     </button>     <button type="button" class="btn move">       <i></i>     </button>   </div>   <select multiple="multiple"></select> </div> <div class="box2">   <label></label>   <span class="info-container">     <span class="info"></span>     <button type="button" class="btn clear2 pull-right"></button>   </span>   <input class="filter" type="text">   <div class="btn-group buttons">     <button type="button" class="btn remove">       <i></i>     </button>     <button type="button" class="btn removeall">       <i></i>       <i></i>     </button>   </div>   <select multiple="multiple"></select> </div></div>').insertBefore(this.element),this.elements={originalSelect:this.element,box1:e(".box1",this.container),box2:e(".box2",this.container),filterInput1:e(".box1 .filter",this.container),filterInput2:e(".box2 .filter",this.container),filterClear1:e(".box1 .clear1",this.container),filterClear2:e(".box2 .clear2",this.container),label1:e(".box1 > label",this.container),label2:e(".box2 > label",this.container),info1:e(".box1 .info",this.container),info2:e(".box2 .info",this.container),select1:e(".box1 select",this.container),select2:e(".box2 select",this.container),moveButton:e(".box1 .move",this.container),removeButton:e(".box2 .remove",this.container),moveAllButton:e(".box1 .moveall",this.container),removeAllButton:e(".box2 .removeall",this.container),form:e(e(".box1 .filter",this.container)[0].form)},this.originalSelectName=this.element.attr("name")||"";var t="bootstrap-duallistbox-nonselected-list_"+this.originalSelectName,n="bootstrap-duallistbox-selected-list_"+this.originalSelectName;return this.elements.select1.attr("id",t),this.elements.select2.attr("id",n),this.elements.label1.attr("for",t),this.elements.label2.attr("for",n),this.selectedElements=0,this.sortIndex=0,this.elementCount=0,this.setBootstrap2Compatible(this.settings.bootstrap2Compatible),this.setFilterTextClear(this.settings.filterTextClear),this.setFilterPlaceHolder(this.settings.filterPlaceHolder),this.setMoveSelectedLabel(this.settings.moveSelectedLabel),this.setMoveAllLabel(this.settings.moveAllLabel),this.setRemoveSelectedLabel(this.settings.removeSelectedLabel),this.setRemoveAllLabel(this.settings.removeAllLabel),this.setMoveOnSelect(this.settings.moveOnSelect),this.setPreserveSelectionOnMove(this.settings.preserveSelectionOnMove),this.setSelectedListLabel(this.settings.selectedListLabel),this.setNonSelectedListLabel(this.settings.nonSelectedListLabel),this.setHelperSelectNamePostfix(this.settings.helperSelectNamePostfix),this.setSelectOrMinimalHeight(this.settings.selectorMinimalHeight),f(this),this.setShowFilterInputs(this.settings.showFilterInputs),this.setNonSelectedFilter(this.settings.nonSelectedFilter),this.setSelectedFilter(this.settings.selectedFilter),this.setInfoText(this.settings.infoText),this.setInfoTextFiltered(this.settings.infoTextFiltered),this.setInfoTextEmpty(this.settings.infoTextEmpty),this.setFilterOnValues(this.settings.filterOnValues),this.setSortByInputOrder(this.settings.sortByInputOrder),this.setEventMoveOverride(this.settings.eventMoveOverride),this.setEventMoveAllOverride(this.settings.eventMoveAllOverride),this.setEventRemoveOverride(this.settings.eventRemoveOverride),this.setEventRemoveAllOverride(this.settings.eventRemoveAllOverride),this.element.hide(),x(this),p(this),this.element},setBootstrap2Compatible:function(e,t){return this.settings.bootstrap2Compatible=e,e?(this.container.removeClass("row").addClass("row-fluid bs2compatible"),this.container.find(".box1, .box2").removeClass("col-md-6").addClass("span6"),this.container.find(".clear1, .clear2").removeClass("btn-default btn-xs").addClass("btn-mini"),this.container.find("input, select").removeClass("form-control"),this.container.find(".btn").removeClass("btn-default"),this.container.find(".moveall > i, .move > i").removeClass("glyphicon glyphicon-arrow-right").addClass("icon-arrow-right"),this.container.find(".removeall > i, .remove > i").removeClass("glyphicon glyphicon-arrow-left").addClass("icon-arrow-left")):(this.container.removeClass("row-fluid bs2compatible").addClass("row"),this.container.find(".box1, .box2").removeClass("span6").addClass("col-md-6"),this.container.find(".clear1, .clear2").removeClass("btn-mini").addClass("btn-default btn-xs"),this.container.find("input, select").addClass("form-control"),this.container.find(".btn").addClass("btn-default"),this.container.find(".moveall > i, .move > i").removeClass("icon-arrow-right").addClass("glyphicon glyphicon-arrow-right"),this.container.find(".removeall > i, .remove > i").removeClass("icon-arrow-left").addClass("glyphicon glyphicon-arrow-left")),t&&p(this),this.element},setFilterTextClear:function(e,t){return this.settings.filterTextClear=e,this.elements.filterClear1.html(e),this.elements.filterClear2.html(e),t&&p(this),this.element},setFilterPlaceHolder:function(e,t){return this.settings.filterPlaceHolder=e,this.elements.filterInput1.attr("placeholder",e),this.elements.filterInput2.attr("placeholder",e),t&&p(this),this.element},setMoveSelectedLabel:function(e,t){return this.settings.moveSelectedLabel=e,this.elements.moveButton.attr("title",e),t&&p(this),this.element},setMoveAllLabel:function(e,t){return this.settings.moveAllLabel=e,this.elements.moveAllButton.attr("title",e),t&&p(this),this.element},setRemoveSelectedLabel:function(e,t){return this.settings.removeSelectedLabel=e,this.elements.removeButton.attr("title",e),t&&p(this),this.element},setRemoveAllLabel:function(e,t){return this.settings.removeAllLabel=e,this.elements.removeAllButton.attr("title",e),t&&p(this),this.element},setMoveOnSelect:function(e,t){o&&(e=!0),this.settings.moveOnSelect=e;if(this.settings.moveOnSelect){this.container.addClass("moveonselect");var n=this;this.elements.select1.on("change",function(){b(n)}),this.elements.select2.on("change",function(){w(n)})}else this.container.removeClass("moveonselect"),this.elements.select1.off("change"),this.elements.select2.off("change");return t&&p(this),this.element},setPreserveSelectionOnMove:function(e,t){return o&&(e=!1),this.settings.preserveSelectionOnMove=e,t&&p(this),this.element},setSelectedListLabel:function(e,t){return this.settings.selectedListLabel=e,e?this.elements.label2.show().html(e):this.elements.label2.hide().html(e),t&&p(this),this.element},setNonSelectedListLabel:function(e,t){return this.settings.nonSelectedListLabel=e,e?this.elements.label1.show().html(e):this.elements.label1.hide().html(e),t&&p(this),this.element},setHelperSelectNamePostfix:function(e,t){return this.settings.helperSelectNamePostfix=e,e?(this.elements.select1.attr("name",this.originalSelectName+e+"1"),this.elements.select2.attr("name",this.originalSelectName+e+"2")):(this.elements.select1.removeAttr("name"),this.elements.select2.removeAttr("name")),t&&p(this),this.element},setSelectOrMinimalHeight:function(e,t){this.settings.selectorMinimalHeight=e;var n=this.element.height();return this.element.height()<e&&(n=e),this.elements.select1.height(n),this.elements.select2.height(n),t&&p(this),this.element},setShowFilterInputs:function(e,t){return e?(this.elements.filterInput1.show(),this.elements.filterInput2.show()):(this.setNonSelectedFilter(""),this.setSelectedFilter(""),p(this),this.elements.filterInput1.hide(),this.elements.filterInput2.hide()),this.settings.showFilterInputs=e,t&&p(this),this.element},setNonSelectedFilter:function(e,t){if(this.settings.showFilterInputs)return this.settings.nonSelectedFilter=e,this.elements.filterInput1.val(e),t&&p(this),this.element},setSelectedFilter:function(e,t){if(this.settings.showFilterInputs)return this.settings.selectedFilter=e,this.elements.filterInput2.val(e),t&&p(this),this.element},setInfoText:function(e,t){return this.settings.infoText=e,t&&p(this),this.element},setInfoTextFiltered:function(e,t){return this.settings.infoTextFiltered=e,t&&p(this),this.element},setInfoTextEmpty:function(e,t){return this.settings.infoTextEmpty=e,t&&p(this),this.element},setFilterOnValues:function(e,t){return this.settings.filterOnValues=e,t&&p(this),this.element},setSortByInputOrder:function(e,t){return this.settings.sortByInputOrder=e,t&&p(this),this.element},setEventMoveOverride:function(e,t){return this.settings.eventMoveOverride=e,t&&p(this),this.element},setEventMoveAllOverride:function(e,t){return this.settings.eventMoveAllOverride=e,t&&p(this),this.element},setEventRemoveOverride:function(e,t){return this.settings.eventRemoveOverride=e,t&&p(this),this.element},setEventRemoveAllOverride:function(e,t){return this.settings.eventRemoveAllOverride=e,t&&p(this),this.element},getContainer:function(){return this.container},refresh:function(e){f(this),e?y(this):(v(this,1),v(this,2)),p(this)},destroy:function(){return this.container.remove(),this.element.show(),e.data(this,"plugin_"+i,null),this.element}},e.fn[i]=function(t){var n=arguments;if(t===r||typeof t=="object")return this.each(function(){e(this).is("select")?e.data(this,"plugin_"+i)||e.data(this,"plugin_"+i,new u(this,t)):e(this).find("select").each(function(n,r){e(r).bootstrapDualListbox(t)})});if(typeof t=="string"&&t[0]!=="_"&&t!=="init"){var s;return this.each(function(){var r=e.data(this,"plugin_"+i);r instanceof u&&typeof r[t]=="function"&&(s=r[t].apply(r,Array.prototype.slice.call(n,1)))}),s!==r?s:this}}}(jQuery,window,document),function(e,t){typeof define=="function"&&define.amd&&typeof require=="function"&&typeof require.specified=="function"&&require.specified("knockout")?define(["jquery","knockout"],t):t(e.jQuery,e.ko)}(this,function(e,t){"use strict";function n(e,t){for(var n=0;n<e.length;++n)t(e[n],n)}function r(t,n){this.$select=e(t),this.options=this.mergeOptions(e.extend({},n,this.$select.data())),this.$select.attr("data-placeholder")&&(this.options.nonSelectedText=this.$select.data("placeholder")),this.originalOptions=this.$select.clone()[0].options,this.query="",this.searchTimeout=null,this.lastToggledInput=null,this.options.multiple=this.$select.attr("multiple")==="multiple",this.options.onChange=e.proxy(this.options.onChange,this),this.options.onSelectAll=e.proxy(this.options.onSelectAll,this),this.options.onDeselectAll=e.proxy(this.options.onDeselectAll,this),this.options.onDropdownShow=e.proxy(this.options.onDropdownShow,this),this.options.onDropdownHide=e.proxy(this.options.onDropdownHide,this),this.options.onDropdownShown=e.proxy(this.options.onDropdownShown,this),this.options.onDropdownHidden=e.proxy(this.options.onDropdownHidden,this),this.options.onInitialized=e.proxy(this.options.onInitialized,this),this.options.onFiltering=e.proxy(this.options.onFiltering,this),this.buildContainer(),this.buildButton(),this.buildDropdown(),this.buildReset(),this.buildSelectAll(),this.buildDropdownOptions(),this.buildFilter(),this.updateButtonText(),this.updateSelectAll(!0),this.options.enableClickableOptGroups&&this.options.multiple&&this.updateOptGroups(),this.options.wasDisabled=this.$select.prop("disabled"),this.options.disableIfEmpty&&e("option",this.$select).length<=0&&this.disable(),this.$select.wrap('<span class="multiselect-native-select" />').after(this.$container),this.options.onInitialized(this.$select,this.$container)}typeof t!="undefined"&&t.bindingHandlers&&!t.bindingHandlers.multiselect&&(t.bindingHandlers.multiselect={after:["options","value","selectedOptions","enable","disable"],init:function(n,r,i,s,o){var u=e(n),a=t.toJS(r());u.multiselect(a);if(i.has("options")){var f=i.get("options");t.isObservable(f)&&t.computed({read:function(){f(),setTimeout(function(){var e=u.data("multiselect");e&&e.updateOriginalOptions(),u.multiselect("rebuild")},1)},disposeWhenNodeIsRemoved:n})}if(i.has("value")){var l=i.get("value");t.isObservable(l)&&t.computed({read:function(){l(),setTimeout(function(){u.multiselect("refresh")},1)},disposeWhenNodeIsRemoved:n}).extend({rateLimit:100,notifyWhenChangesStop:!0})}if(i.has("selectedOptions")){var c=i.get("selectedOptions");t.isObservable(c)&&t.computed({read:function(){c(),setTimeout(function(){u.multiselect("refresh")},1)},disposeWhenNodeIsRemoved:n}).extend({rateLimit:100,notifyWhenChangesStop:!0})}var h=function(e){setTimeout(function(){e?u.multiselect("enable"):u.multiselect("disable")})};if(i.has("enable")){var p=i.get("enable");t.isObservable(p)?t.computed({read:function(){h(p())},disposeWhenNodeIsRemoved:n}).extend({rateLimit:100,notifyWhenChangesStop:!0}):h(p)}if(i.has("disable")){var d=i.get("disable");t.isObservable(d)?t.computed({read:function(){h(!d())},disposeWhenNodeIsRemoved:n}).extend({rateLimit:100,notifyWhenChangesStop:!0}):h(!d)}t.utils.domNodeDisposal.addDisposeCallback(n,function(){u.multiselect("destroy")})},update:function(n,r,i,s,o){var u=e(n),a=t.toJS(r());u.multiselect("setOptions",a),u.multiselect("rebuild")}}),r.prototype={defaults:{buttonText:function(t,n){if(this.disabledText.length>0&&(n.prop("disabled")||t.length==0&&this.disableIfEmpty))return this.disabledText;if(t.length===0)return this.nonSelectedText;if(this.allSelectedText&&t.length===e("option",e(n)).length&&e("option",e(n)).length!==1&&this.multiple)return this.selectAllNumber?this.allSelectedText+" ("+t.length+")":this.allSelectedText;if(this.numberDisplayed!=0&&t.length>this.numberDisplayed)return t.length+" "+this.nSelectedText;var r="",i=this.delimiterText;return t.each(function(){var t=e(this).attr("label")!==undefined?e(this).attr("label"):e(this).text();r+=t+i}),r.substr(0,r.length-this.delimiterText.length)},buttonTitle:function(t,n){if(t.length===0)return this.nonSelectedText;var r="",i=this.delimiterText;return t.each(function(){var t=e(this).attr("label")!==undefined?e(this).attr("label"):e(this).text();r+=t+i}),r.substr(0,r.length-this.delimiterText.length)},checkboxName:function(e){return!1},optionLabel:function(t){return e(t).attr("label")||e(t).text()},optionClass:function(t){return e(t).attr("class")||""},onChange:function(e,t){},onDropdownShow:function(e){},onDropdownHide:function(e){},onDropdownShown:function(e){},onDropdownHidden:function(e){},onSelectAll:function(){},onDeselectAll:function(){},onInitialized:function(e,t){},onFiltering:function(e){},enableHTML:!1,buttonClass:"btn btn-default",inheritClass:!1,buttonWidth:"auto",buttonContainer:'<div class="btn-group" />',dropRight:!1,dropUp:!1,selectedClass:"active",maxHeight:!1,includeSelectAllOption:!1,includeSelectAllIfMoreThan:0,selectAllText:" Select all",selectAllValue:"multiselect-all",selectAllName:!1,selectAllNumber:!0,selectAllJustVisible:!0,enableFiltering:!1,enableCaseInsensitiveFiltering:!1,enableFullValueFiltering:!1,enableClickableOptGroups:!1,enableCollapsibleOptGroups:!1,collapseOptGroupsByDefault:!1,filterPlaceholder:"Search",filterBehavior:"text",includeFilterClearBtn:!0,preventInputChangeEvent:!1,nonSelectedText:"None selected",nSelectedText:"selected",allSelectedText:"All selected",numberDisplayed:3,disableIfEmpty:!1,disabledText:"",delimiterText:", ",includeResetOption:!1,includeResetDivider:!1,resetText:"Reset",templates:{button:'<button type="button" class="multiselect dropdown-toggle" data-toggle="dropdown"><span class="multiselect-selected-text"></span> <b class="caret"></b></button>',ul:'<ul class="multiselect-container dropdown-menu"></ul>',filter:'<li class="multiselect-item multiselect-filter"><div class="input-group"><span class="input-group-addon"><i class="glyphicon glyphicon-search"></i></span><input class="form-control multiselect-search" type="text" /></div></li>',filterClearBtn:'<span class="input-group-btn"><button class="btn btn-default multiselect-clear-filter" type="button"><i class="glyphicon glyphicon-remove-circle"></i></button></span>',li:'<li><a tabindex="0"><label></label></a></li>',divider:'<li class="multiselect-item divider"></li>',liGroup:'<li class="multiselect-item multiselect-group"><label></label></li>',resetButton:'<li class="multiselect-reset text-center"><div class="input-group"><a class="btn btn-default btn-block"></a></div></li>'}},constructor:r,buildContainer:function(){this.$container=e(this.options.buttonContainer),this.$container.on("show.bs.dropdown",this.options.onDropdownShow),this.$container.on("hide.bs.dropdown",this.options.onDropdownHide),this.$container.on("shown.bs.dropdown",this.options.onDropdownShown),this.$container.on("hidden.bs.dropdown",this.options.onDropdownHidden)},buildButton:function(){this.$button=e(this.options.templates.button).addClass(this.options.buttonClass),this.$select.attr("class")&&this.options.inheritClass&&this.$button.addClass(this.$select.attr("class")),this.$select.prop("disabled")?this.disable():this.enable(),this.options.buttonWidth&&this.options.buttonWidth!=="auto"&&(this.$button.css({width:"100%",overflow:"hidden","text-overflow":"ellipsis"}),this.$container.css({width:this.options.buttonWidth}));var t=this.$select.attr("tabindex");t&&this.$button.attr("tabindex",t),this.$container.prepend(this.$button)},buildDropdown:function(){this.$ul=e(this.options.templates.ul),this.options.dropRight&&this.$ul.addClass("pull-right"),this.options.maxHeight&&this.$ul.css({"max-height":this.options.maxHeight+"px","overflow-y":"auto","overflow-x":"hidden"});if(this.options.dropUp){var t=Math.min(this.options.maxHeight,e('option[data-role!="divider"]',this.$select).length*26+e('option[data-role="divider"]',this.$select).length*19+(this.options.includeSelectAllOption?26:0)+(this.options.enableFiltering||this.options.enableCaseInsensitiveFiltering?44:0)),n=t+34;this.$ul.css({"max-height":t+"px","overflow-y":"auto","overflow-x":"hidden","margin-top":"-"+n+"px"})}this.$container.append(this.$ul)},buildDropdownOptions:function(){this.$select.children().each(e.proxy(function(t,n){var r=e(n),i=r.prop("tagName").toLowerCase();if(r.prop("value")===this.options.selectAllValue)return;i==="optgroup"?this.createOptgroup(n):i==="option"&&(r.data("role")==="divider"?this.createDivider():this.createOptionValue(n))},this)),e(this.$ul).off("change",'li:not(.multiselect-group) input[type="checkbox"], li:not(.multiselect-group) input[type="radio"]'),e(this.$ul).on("change",'li:not(.multiselect-group) input[type="checkbox"], li:not(.multiselect-group) input[type="radio"]',e.proxy(function(t){var n=e(t.target),r=n.prop("checked")||!1,i=n.val()===this.options.selectAllValue;this.options.selectedClass&&(r?n.closest("li").addClass(this.options.selectedClass):n.closest("li").removeClass(this.options.selectedClass));var s=n.val(),o=this.getOptionByValue(s),u=e("option",this.$select).not(o),a=e("input",this.$container).not(n);i?r?this.selectAll(this.options.selectAllJustVisible,!0):this.deselectAll(this.options.selectAllJustVisible,!0):(r?(o.prop("selected",!0),this.options.multiple?o.prop("selected",!0):(this.options.selectedClass&&e(a).closest("li").removeClass(this.options.selectedClass),e(a).prop("checked",!1),u.prop("selected",!1),this.$button.click()),this.options.selectedClass==="active"&&u.closest("a").css("outline","")):o.prop("selected",!1),this.options.onChange(o,r),this.updateSelectAll(),this.options.enableClickableOptGroups&&this.options.multiple&&this.updateOptGroups()),this.$select.change(),this.updateButtonText();if(this.options.preventInputChangeEvent)return!1},this)),e("li a",this.$ul).on("mousedown",function(e){if(e.shiftKey)return!1}),e(this.$ul).on("touchstart click","li a",e.proxy(function(t){t.stopPropagation();var n=e(t.target);if(t.shiftKey&&this.options.multiple){n.is("label")&&(t.preventDefault(),n=n.find("input"),n.prop("checked",!n.prop("checked")));var r=n.prop("checked")||!1;if(this.lastToggledInput!==null&&this.lastToggledInput!==n){var i=this.$ul.find("li:visible").index(n.parents("li")),s=this.$ul.find("li:visible").index(this.lastToggledInput.parents("li"));if(i>s){var o=s;s=i,i=o}++s;var u=this.$ul.find("li").not(".multiselect-filter-hidden").slice(i,s).find("input");u.prop("checked",r),this.options.selectedClass&&u.closest("li").toggleClass(this.options.selectedClass,r);for(var a=0,f=u.length;a<f;a++){var l=e(u[a]),c=this.getOptionByValue(l.val());c.prop("selected",r)}}n.trigger("change")}n.is("input")&&!n.closest("li").is(".multiselect-item")&&(this.lastToggledInput=n),n.blur()},this)),this.$container.off("keydown.multiselect").on("keydown.multiselect",e.proxy(function(t){if(e('input[type="text"]',this.$container).is(":focus"))return;if(t.keyCode===9&&this.$container.hasClass("open"))this.$button.click();else{var n=e(this.$container).find("li:not(.divider):not(.disabled) a").filter(":visible");if(!n.length)return;var r=n.index(n.filter(":focus"));t.keyCode===38&&r>0?r--:t.keyCode===40&&r<n.length-1?r++:~r||(r=0);var i=n.eq(r);i.focus();if(t.keyCode===32||t.keyCode===13){var s=i.find("input");s.prop("checked",!s.prop("checked")),s.change()}t.stopPropagation(),t.preventDefault()}},this)),this.options.enableClickableOptGroups&&this.options.multiple&&e("li.multiselect-group input",this.$ul).on("change",e.proxy(function(t){t.stopPropagation();var n=e(t.target),r=n.prop("checked")||!1,i=e(t.target).closest("li"),s=i.nextUntil("li.multiselect-group").not(".multiselect-filter-hidden").not(".disabled"),o=s.find("input"),u=[],a=[];this.options.selectedClass&&(r?i.addClass(this.options.selectedClass):i.removeClass(this.options.selectedClass)),e.each(o,e.proxy(function(t,n){var i=e(n).val(),s=this.getOptionByValue(i);r?(e(n).prop("checked",!0),e(n).closest("li").addClass(this.options.selectedClass),s.prop("selected",!0)):(e(n).prop("checked",!1),e(n).closest("li").removeClass(this.options.selectedClass),s.prop("selected",!1)),a.push(this.getOptionByValue(i))},this)),this.options.onChange(a,r),this.$select.change(),this.updateButtonText(),this.updateSelectAll()},this)),this.options.enableCollapsibleOptGroups&&this.options.multiple&&(e("li.multiselect-group .caret-container",this.$ul).on("click",e.proxy(function(t){var n=e(t.target).closest("li"),r=n.nextUntil("li.multiselect-group").not(".multiselect-filter-hidden"),i=!0;r.each(function(){i=i&&!e(this).hasClass("multiselect-collapsible-hidden")}),i?r.hide().addClass("multiselect-collapsible-hidden"):r.show().removeClass("multiselect-collapsible-hidden")},this)),e("li.multiselect-all",this.$ul).css("background","#f3f3f3").css("border-bottom","1px solid #eaeaea"),e("li.multiselect-all > a > label.checkbox",this.$ul).css("padding","3px 20px 3px 35px"),e("li.multiselect-group > a > input",this.$ul).css("margin","4px 0px 5px -20px"))},createOptionValue:function(t){var n=e(t);n.is(":selected")&&n.prop("selected",!0);var r=this.options.optionLabel(t),i=this.options.optionClass(t),s=n.val(),o=this.options.multiple?"checkbox":"radio",u=e(this.options.templates.li),a=e("label",u);a.addClass(o),a.attr("title",r),u.addClass(i),this.options.collapseOptGroupsByDefault&&e(t).parent().prop("tagName").toLowerCase()==="optgroup"&&(u.addClass("multiselect-collapsible-hidden"),u.hide()),this.options.enableHTML?a.html(" "+r):a.text(" "+r);var f=e("<input/>").attr("type",o),l=this.options.checkboxName(n);l&&f.attr("name",l),a.prepend(f);var c=n.prop("selected")||!1;f.val(s),s===this.options.selectAllValue&&(u.addClass("multiselect-item multiselect-all"),f.parent().parent().addClass("multiselect-all")),a.attr("title",n.attr("title")),this.$ul.append(u),n.is(":disabled")&&f.attr("disabled","disabled").prop("disabled",!0).closest("a").attr("tabindex","-1").closest("li").addClass("disabled"),f.prop("checked",c),c&&this.options.selectedClass&&f.closest("li").addClass(this.options.selectedClass)},createDivider:function(t){var n=e(this.options.templates.divider);this.$ul.append(n)},createOptgroup:function(t){var n=e(t).attr("label"),r=e(t).attr("value"),i=e('<li class="multiselect-item multiselect-group"><a href="javascript:void(0);"><label><b></b></label></a></li>'),s=this.options.optionClass(t);i.addClass(s),this.options.enableHTML?e("label b",i).html(" "+n):e("label b",i).text(" "+n),this.options.enableCollapsibleOptGroups&&this.options.multiple&&e("a",i).append('<span class="caret-container"><b class="caret"></b></span>'),this.options.enableClickableOptGroups&&this.options.multiple&&e("a label",i).prepend('<input type="checkbox" value="'+r+'"/>'),e(t).is(":disabled")&&i.addClass("disabled"),this.$ul.append(i),e("option",t).each(e.proxy(function(e,t){this.createOptionValue(t)},this))},buildReset:function(){if(this.options.includeResetOption){this.options.includeResetDivider&&this.$ul.prepend(e(this.options.templates.divider));var t=e(this.options.templates.resetButton);this.options.enableHTML?e("a",t).html(this.options.resetText):e("a",t).text(this.options.resetText),e("a",t).click(e.proxy(function(){this.clearSelection()},this)),this.$ul.prepend(t)}},buildSelectAll:function(){typeof this.options.selectAllValue=="number"&&(this.options.selectAllValue=this.options.selectAllValue.toString());var t=this.hasSelectAll();if(!t&&this.options.includeSelectAllOption&&this.options.multiple&&e("option",this.$select).length>this.options.includeSelectAllIfMoreThan){this.options.includeSelectAllDivider&&this.$ul.prepend(e(this.options.templates.divider));var n=e(this.options.templates.li);e("label",n).addClass("checkbox"),this.options.enableHTML?e("label",n).html(" "+this.options.selectAllText):e("label",n).text(" "+this.options.selectAllText),this.options.selectAllName?e("label",n).prepend('<input type="checkbox" name="'+this.options.selectAllName+'" />'):e("label",n).prepend('<input type="checkbox" />');var r=e("input",n);r.val(this.options.selectAllValue),n.addClass("multiselect-item multiselect-all"),r.parent().parent().addClass("multiselect-all"),this.$ul.prepend(n),r.prop("checked",!1)}},buildFilter:function(){if(this.options.enableFiltering||this.options.enableCaseInsensitiveFiltering){var t=Math.max(this.options.enableFiltering,this.options.enableCaseInsensitiveFiltering);if(this.$select.find("option").length>=t){this.$filter=e(this.options.templates.filter),e("input",this.$filter).attr("placeholder",this.options.filterPlaceholder);if(this.options.includeFilterClearBtn){var n=e(this.options.templates.filterClearBtn);n.on("click",e.proxy(function(t){clearTimeout(this.searchTimeout),this.query="",this.$filter.find(".multiselect-search").val(""),e("li",this.$ul).show().removeClass("multiselect-filter-hidden"),this.updateSelectAll(),this.options.enableClickableOptGroups&&this.options.multiple&&this.updateOptGroups()},this)),this.$filter.find(".input-group").append(n)}this.$ul.prepend(this.$filter),this.$filter.val(this.query).on("click",function(e){e.stopPropagation()}).on("input keydown",e.proxy(function(t){t.which===13&&t.preventDefault(),clearTimeout(this.searchTimeout),this.searchTimeout=this.asyncFunction(e.proxy(function(){if(this.query!==t.target.value){this.query=t.target.value;var n,r;e.each(e("li",this.$ul),e.proxy(function(t,i){var s=e("input",i).length>0?e("input",i).val():"",o=e("label",i).text(),u="";this.options.filterBehavior==="text"?u=o:this.options.filterBehavior==="value"?u=s:this.options.filterBehavior==="both"&&(u=o+"\n"+s);if(s!==this.options.selectAllValue&&o){var a=!1;this.options.enableCaseInsensitiveFiltering&&(u=u.toLowerCase(),this.query=this.query.toLowerCase());if(this.options.enableFullValueFiltering&&this.options.filterBehavior!=="both"){var f=u.trim().substring(0,this.query.length);this.query.indexOf(f)>-1&&(a=!0)}else u.indexOf(this.query)>-1&&(a=!0);a||(e(i).css("display","none"),e(i).addClass("multiselect-filter-hidden")),a&&(e(i).css("display","block"),e(i).removeClass("multiselect-filter-hidden")),e(i).hasClass("multiselect-group")?(n=i,r=a):(a&&e(n).show().removeClass("multiselect-filter-hidden"),!a&&r&&e(i).show().removeClass("multiselect-filter-hidden"))}},this))}this.updateSelectAll(),this.options.enableClickableOptGroups&&this.options.multiple&&this.updateOptGroups(),this.options.onFiltering(t.target)},this),300,this)},this))}}},destroy:function(){this.$container.remove(),this.$select.show(),this.$select.prop("disabled",this.options.wasDisabled),this.$select.data("multiselect",null)},refresh:function(){var t={};e("li input",this.$ul).each(function(){t[e(this).val()]=e(this)}),e("option",this.$select).each(e.proxy(function(n,r){var i=e(r),s=t[e(r).val()];i.is(":selected")?(s.prop("checked",!0),this.options.selectedClass&&s.closest("li").addClass(this.options.selectedClass)):(s.prop("checked",!1),this.options.selectedClass&&s.closest("li").removeClass(this.options.selectedClass)),i.is(":disabled")?s.attr("disabled","disabled").prop("disabled",!0).closest("li").addClass("disabled"):s.prop("disabled",!1).closest("li").removeClass("disabled")},this)),this.updateButtonText(),this.updateSelectAll(),this.options.enableClickableOptGroups&&this.options.multiple&&this.updateOptGroups()},select:function(t,n){e.isArray(t)||(t=[t]);for(var r=0;r<t.length;r++){var i=t[r];if(i===null||i===undefined)continue;var s=this.getOptionByValue(i),o=this.getInputByValue(i);if(s===undefined||o===undefined)continue;this.options.multiple||this.deselectAll(!1),this.options.selectedClass&&o.closest("li").addClass(this.options.selectedClass),o.prop("checked",!0),s.prop("selected",!0),n&&this.options.onChange(s,!0)}this.updateButtonText(),this.updateSelectAll(),this.options.enableClickableOptGroups&&this.options.multiple&&this.updateOptGroups()},clearSelection:function(){this.deselectAll(!1),this.updateButtonText(),this.updateSelectAll(),this.options.enableClickableOptGroups&&this.options.multiple&&this.updateOptGroups()},deselect:function(t,n){e.isArray(t)||(t=[t]);for(var r=0;r<t.length;r++){var i=t[r];if(i===null||i===undefined)continue;var s=this.getOptionByValue(i),o=this.getInputByValue(i);if(s===undefined||o===undefined)continue;this.options.selectedClass&&o.closest("li").removeClass(this.options.selectedClass),o.prop("checked",!1),s.prop("selected",!1),n&&this.options.onChange(s,!1)}this.updateButtonText(),this.updateSelectAll(),this.options.enableClickableOptGroups&&this.options.multiple&&this.updateOptGroups()},selectAll:function(t,n){var t=typeof t=="undefined"?!0:t,r=e("li:not(.divider):not(.disabled):not(.multiselect-group)",this.$ul),i=e("li:not(.divider):not(.disabled):not(.multiselect-group):not(.multiselect-filter-hidden):not(.multiselect-collapisble-hidden)",this.$ul).filter(":visible");t?(e("input:enabled",i).prop("checked",!0),i.addClass(this.options.selectedClass),e("input:enabled",i).each(e.proxy(function(t,n){var r=e(n).val(),i=this.getOptionByValue(r);e(i).prop("selected",!0)},this))):(e("input:enabled",r).prop("checked",!0),r.addClass(this.options.selectedClass),e("input:enabled",r).each(e.proxy(function(t,n){var r=e(n).val(),i=this.getOptionByValue(r);e(i).prop("selected",!0)},this))),e('li input[value="'+this.options.selectAllValue+'"]',this.$ul).prop("checked",!0),this.options.enableClickableOptGroups&&this.options.multiple&&this.updateOptGroups(),n&&this.options.onSelectAll()},deselectAll:function(t,n){var t=typeof t=="undefined"?!0:t,r=e("li:not(.divider):not(.disabled):not(.multiselect-group)",this.$ul),i=e("li:not(.divider):not(.disabled):not(.multiselect-group):not(.multiselect-filter-hidden):not(.multiselect-collapisble-hidden)",this.$ul).filter(":visible");t?(e('input[type="checkbox"]:enabled',i).prop("checked",!1),i.removeClass(this.options.selectedClass),e('input[type="checkbox"]:enabled',i).each(e.proxy(function(t,n){var r=e(n).val(),i=this.getOptionByValue(r);e(i).prop("selected",!1)},this))):(e('input[type="checkbox"]:enabled',r).prop("checked",!1),r.removeClass(this.options.selectedClass),e('input[type="checkbox"]:enabled',r).each(e.proxy(function(t,n){var r=e(n).val(),i=this.getOptionByValue(r);e(i).prop("selected",!1)},this))),e('li input[value="'+this.options.selectAllValue+'"]',this.$ul).prop("checked",!1),this.options.enableClickableOptGroups&&this.options.multiple&&this.updateOptGroups(),n&&this.options.onDeselectAll()},rebuild:function(){this.$ul.html(""),this.options.multiple=this.$select.attr("multiple")==="multiple",this.buildSelectAll(),this.buildDropdownOptions(),this.buildFilter(),this.updateButtonText(),this.updateSelectAll(!0),this.options.enableClickableOptGroups&&this.options.multiple&&this.updateOptGroups(),this.options.disableIfEmpty&&e("option",this.$select).length<=0?this.disable():this.enable(),this.options.dropRight&&this.$ul.addClass("pull-right")},dataprovider:function(t){var r=0,i=this.$select.empty();e.each(t,function(t,s){var o;if(e.isArray(s.children))r++,o=e("<optgroup/>").attr({label:s.label||"Group "+r,disabled:!!s.disabled,value:s.value}),n(s.children,function(t){var n={value:t.value,label:t.label||t.value,title:t.title,selected:!!t.selected,disabled:!!t.disabled};for(var r in t.attributes)n["data-"+r]=t.attributes[r];o.append(e("<option/>").attr(n))});else{var u={value:s.value,label:s.label||s.value,title:s.title,"class":s["class"],selected:!!s.selected,disabled:!!s.disabled};for(var a in s.attributes)u["data-"+a]=s.attributes[a];o=e("<option/>").attr(u),o.text(s.label||s.value)}i.append(o)}),this.rebuild()},enable:function(){this.$select.prop("disabled",!1),this.$button.prop("disabled",!1).removeClass("disabled")},disable:function(){this.$select.prop("disabled",!0),this.$button.prop("disabled",!0).addClass("disabled")},setOptions:function(e){this.options=this.mergeOptions(e)},mergeOptions:function(t){return e.extend(!0,{},this.defaults,this.options,t)},hasSelectAll:function(){return e("li.multiselect-all",this.$ul).length>0},updateOptGroups:function(){var t=e("li.multiselect-group",this.$ul),n=this.options.selectedClass;t.each(function(){var t=e(this).nextUntil("li.multiselect-group").not(".multiselect-filter-hidden").not(".disabled"),r=!0;t.each(function(){var t=e("input",this);t.prop("checked")||(r=!1)}),n&&(r?e(this).addClass(n):e(this).removeClass(n)),e("input",this).prop("checked",r)})},updateSelectAll:function(t){if(this.hasSelectAll()){var n=e("li:not(.multiselect-item):not(.multiselect-filter-hidden):not(.multiselect-group):not(.disabled) input:enabled",this.$ul),r=n.length,i=n.filter(":checked").length,s=e("li.multiselect-all",this.$ul),o=s.find("input");i>0&&i===r?(o.prop("checked",!0),s.addClass(this.options.selectedClass)):(o.prop("checked",!1),s.removeClass(this.options.selectedClass))}},updateButtonText:function(){var t=this.getSelected();this.options.enableHTML?e(".multiselect .multiselect-selected-text",this.$container).html(this.options.buttonText(t,this.$select)):e(".multiselect .multiselect-selected-text",this.$container).text(this.options.buttonText(t,this.$select)),e(".multiselect",this.$container).attr("title",this.options.buttonTitle(t,this.$select))},getSelected:function(){return e("option",this.$select).filter(":selected")},getOptionByValue:function(t){var n=e("option",this.$select),r=t.toString();for(var i=0;i<n.length;i+=1){var s=n[i];if(s.value===r)return e(s)}},getInputByValue:function(t){var n=e("li input:not(.multiselect-search)",this.$ul),r=t.toString();for(var i=0;i<n.length;i+=1){var s=n[i];if(s.value===r)return e(s)}},updateOriginalOptions:function(){this.originalOptions=this.$select.clone()[0].options},asyncFunction:function(e,t,n){var r=Array.prototype.slice.call(arguments,3);return setTimeout(function(){e.apply(n||window,r)},t)},setAllSelectedText:function(e){this.options.allSelectedText=e,this.updateButtonText()}},e.fn.multiselect=function(t,n,i){return this.each(function(){var s=e(this).data("multiselect"),o=typeof t=="object"&&t;s||(s=new r(this,o),e(this).data("multiselect",s)),typeof t=="string"&&(s[t](n,i),t==="destroy"&&e(this).data("multiselect",!1))})},e.fn.multiselect.Constructor=r,e(function(){e("select[data-role=multiselect]").multiselect()})}),+function(e){"use strict";var t=window.navigator.appName=="Microsoft Internet Explorer",n=function(t,n){this.$element=e(t),this.$input=this.$element.find(":file");if(this.$input.length===0)return;this.name=this.$input.attr("name")||n.name,this.$hidden=this.$element.find('input[type=hidden][name="'+this.name+'"]'),this.$hidden.length===0&&(this.$hidden=e('<input type="hidden">').insertBefore(this.$input)),this.$preview=this.$element.find(".fileinput-preview");var r=this.$preview.css("height");this.$preview.css("display")!=="inline"&&r!=="0px"&&r!=="none"&&this.$preview.css("line-height",r),this.original={exists:this.$element.hasClass("fileinput-exists"),preview:this.$preview.html(),hiddenVal:this.$hidden.val()},this.listen()};n.prototype.listen=function(){this.$input.on("change.bs.fileinput",e.proxy(this.change,this)),e(this.$input[0].form).on("reset.bs.fileinput",e.proxy(this.reset,this)),this.$element.find('[data-trigger="fileinput"]').on("click.bs.fileinput",e.proxy(this.trigger,this)),this.$element.find('[data-dismiss="fileinput"]').on("click.bs.fileinput",e.proxy(this.clear,this))},n.prototype.change=function(t){var n=t.target.files===undefined?t.target&&t.target.value?[{name:t.target.value.replace(/^.+\\/,"")}]:[]:t.target.files;t.stopPropagation();if(n.length===0){this.clear();return}this.$hidden.val(""),this.$hidden.attr("name",""),this.$input.attr("name",this.name);var r=n[0];if(this.$preview.length>0&&(typeof r.type!="undefined"?r.type.match(/^image\/(gif|png|jpeg)$/):r.name.match(/\.(gif|png|jpe?g)$/i))&&typeof FileReader!="undefined"){var i=new FileReader,s=this.$preview,o=this.$element;i.onload=function(t){var i=e("<img>");i[0].src=t.target.result,n[0].result=t.target.result,o.find(".fileinput-filename").text(r.name),s.css("max-height")!="none"&&i.css("max-height",parseInt(s.css("max-height"),10)-parseInt(s.css("padding-top"),10)-parseInt(s.css("padding-bottom"),10)-parseInt(s.css("border-top"),10)-parseInt(s.css("border-bottom"),10)),s.html(i),o.addClass("fileinput-exists").removeClass("fileinput-new"),o.trigger("change.bs.fileinput",n)},i.readAsDataURL(r)}else this.$element.find(".fileinput-filename").text(r.name),this.$preview.text(r.name),this.$element.addClass("fileinput-exists").removeClass("fileinput-new"),this.$element.trigger("change.bs.fileinput")},n.prototype.clear=function(e){e&&e.preventDefault(),this.$hidden.val(""),this.$hidden.attr("name",this.name),this.$input.attr("name","");if(t){var n=this.$input.clone(!0);this.$input.after(n),this.$input.remove(),this.$input=n}else this.$input.val("");this.$preview.html(""),this.$element.find(".fileinput-filename").text(""),this.$element.addClass("fileinput-new").removeClass("fileinput-exists"),e!==undefined&&(this.$input.trigger("change"),this.$element.trigger("clear.bs.fileinput"))},n.prototype.reset=function(){this.clear(),this.$hidden.val(this.original.hiddenVal),this.$preview.html(this.original.preview),this.$element.find(".fileinput-filename").text(""),this.original.exists?this.$element.addClass("fileinput-exists").removeClass("fileinput-new"):this.$element.addClass("fileinput-new").removeClass("fileinput-exists"),this.$element.trigger("reset.bs.fileinput")},n.prototype.trigger=function(e){this.$input.trigger("click"),e.preventDefault()};var r=e.fn.fileinput;e.fn.fileinput=function(t){return this.each(function(){var r=e(this),i=r.data("bs.fileinput");i||r.data("bs.fileinput",i=new n(this,t)),typeof t=="string"&&i[t]()})},e.fn.fileinput.Constructor=n,e.fn.fileinput.noConflict=function(){return e.fn.fileinput=r,this},e(document).on("click.fileinput.data-api",'[data-provides="fileinput"]',function(t){var n=e(this);if(n.data("bs.fileinput"))return;n.fileinput(n.data());var r=e(t.target).closest('[data-dismiss="fileinput"],[data-trigger="fileinput"]');r.length>0&&(t.preventDefault(),r.trigger("click.bs.fileinput"))})}(window.jQuery),function(e){typeof define=="function"&&define.amd?define(["jquery"],e):e(window.jQuery)}(function(e){"function"!=typeof Array.prototype.reduce&&(Array.prototype.reduce=function(e,t){var n,r,i=this.length>>>0,s=!1;1<arguments.length&&(r=t,s=!0);for(n=0;i>n;++n)this.hasOwnProperty(n)&&(s?r=e(r,this[n],n,this):(r=this[n],s=!0));if(!s)throw new TypeError("Reduce of empty array with no initial value");return r}),"function"!=typeof Array.prototype.filter&&(Array.prototype.filter=function(e){if(this===void 0||this===null)throw new TypeError;var t=Object(this),n=t.length>>>0;if(typeof e!="function")throw new TypeError;var r=[],i=arguments.length>=2?arguments[1]:void 0;for(var s=0;s<n;s++)if(s in t){var o=t[s];e.call(i,o,s,t)&&r.push(o)}return r});var t=typeof define=="function"&&define.amd,n=function(t){var n=t==="Comic Sans MS"?"Courier New":"Comic Sans MS",r=e("<div>").css({position:"absolute",left:"-9999px",top:"-9999px",fontSize:"200px"}).text("mmmmmmmmmwwwwwww").appendTo(document.body),i=r.css("fontFamily",n).width(),s=r.css("fontFamily",t+","+n).width();return r.remove(),i!==s},r={isMac:navigator.appVersion.indexOf("Mac")>-1,isMSIE:navigator.userAgent.indexOf("MSIE")>-1||navigator.userAgent.indexOf("Trident")>-1,isFF:navigator.userAgent.indexOf("Firefox")>-1,jqueryVersion:parseFloat(e.fn.jquery),isSupportAmd:t,hasCodeMirror:t?require.specified("CodeMirror"):!!window.CodeMirror,isFontInstalled:n,isW3CRangeSupport:!!document.createRange},i=function(){var t=function(e){return function(t){return e===t}},n=function(e,t){return e===t},r=function(e){return function(t,n){return t[e]===n[e]}},i=function(){return!0},s=function(){return!1},o=function(e){return function(){return!e.apply(e,arguments)}},u=function(e,t){return function(n){return e(n)&&t(n)}},a=function(e){return e},f=0,l=function(e){var t=++f+"";return e?e+t:t},c=function(t){var n=e(document);return{top:t.top+n.scrollTop(),left:t.left+n.scrollLeft(),width:t.right-t.left,height:t.bottom-t.top}},h=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t};return{eq:t,eq2:n,peq2:r,ok:i,fail:s,self:a,not:o,and:u,uniqueId:l,rect2bnd:c,invertObject:h}}(),s=function(){var t=function(e){return e[0]},n=function(e){return e[e.length-1]},r=function(e){return e.slice(0,e.length-1)},s=function(e){return e.slice(1)},o=function(e,t){for(var n=0,r=e.length;n<r;n++){var i=e[n];if(t(i))return i}},u=function(e,t){for(var n=0,r=e.length;n<r;n++)if(!t(e[n]))return!1;return!0},a=function(t,n){return e.inArray(n,t)!==-1},f=function(e,t){return t=t||i.self,e.reduce(function(e,n){return e+t(n)},0)},l=function(e){var t=[],n=-1,r=e.length;while(++n<r)t[n]=e[n];return t},c=function(e,r){if(!e.length)return[];var i=s(e);return i.reduce(function(e,t){var i=n(e);return r(n(i),t)?i[i.length]=t:e[e.length]=[t],e},[[t(e)]])},h=function(e){var t=[];for(var n=0,r=e.length;n<r;n++)e[n]&&t.push(e[n]);return t},p=function(e){var t=[];for(var n=0,r=e.length;n<r;n++)a(t,e[n])||t.push(e[n]);return t};return{head:t,last:n,initial:r,tail:s,find:o,contains:a,all:u,sum:f,from:l,clusterBy:c,compact:h,unique:p}}(),o=String.fromCharCode(160),u="",a=function(){var t=function(t){return t&&e(t).hasClass("note-editable")},n=function(t){return t&&e(t).hasClass("note-control-sizing")},f=function(t){var n;if(t.hasClass("note-air-editor")){var r=s.last(t.attr("id").split("-"));return n=function(t){return function(){return e(t+r)}},{editor:function(){return t},editable:function(){return t},popover:n("#note-popover-"),handle:n("#note-handle-"),dialog:n("#note-dialog-")}}return n=function(e){return function(){return t.find(e)}},{editor:function(){return t},dropzone:n(".note-dropzone"),toolbar:n(".note-toolbar"),editable:n(".note-editable"),codable:n(".note-codable"),statusbar:n(".note-statusbar"),popover:n(".note-popover"),handle:n(".note-handle"),dialog:n(".note-dialog")}},l=function(e){return e=e.toUpperCase(),function(t){return t&&t.nodeName.toUpperCase()===e}},c=function(e){return e&&e.nodeType===3},h=function(e){return e&&/^BR|^IMG|^HR/.test(e.nodeName.toUpperCase())},p=function(e){return t(e)?!1:e&&/^DIV|^P|^LI|^H[1-7]/.test(e.nodeName.toUpperCase())},d=l("LI"),v=function(e){return p(e)&&!d(e)},m=function(e){return!w(e)&&!g(e)&&!p(e)},g=function(e){return e&&/^UL|^OL/.test(e.nodeName.toUpperCase())},y=function(e){return e&&/^TD|^TH/.test(e.nodeName.toUpperCase())},b=l("BLOCKQUOTE"),w=function(e){return y(e)||b(e)||t(e)},E=l("A"),S=function(e){return m(e)&&!!A(e,p)},x=function(e){return m(e)&&!A(e,p)},T=l("BODY"),N=r.isMSIE?"&nbsp;":"<br>",C=function(e){return c(e)?e.nodeValue.length:e.childNodes.length},k=function(e){var t=C(e);return t===0?!0:!a.isText(e)&&t===1&&e.innerHTML===N?!0:!1},L=function(e){!h(e)&&!C(e)&&(e.innerHTML=N)},A=function(e,n){while(e){if(n(e))return e;if(t(e))break;e=e.parentNode}return null},O=function(e,n){n=n||i.fail;var r=[];return A(e,function(e){return t(e)||r.push(e),n(e)}),r},M=function(e,t){var n=O(e);return s.last(n.filter(t))},_=function(t,n){var r=O(t);for(var i=n;i;i=i.parentNode)if(e.inArray(i,r)>-1)return i;return null},D=function(e,t){t=t||i.fail;var n=[];while(e){if(t(e))break;n.push(e),e=e.previousSibling}return n},P=function(e,t){t=t||i.fail;var n=[];while(e){if(t(e))break;n.push(e),e=e.nextSibling}return n},H=function(e,t){var n=[];return t=t||i.ok,function r(i){e!==i&&t(i)&&n.push(i);for(var s=0,o=i.childNodes.length;s<o;s++)r(i.childNodes[s])}(e),n},B=function(t,n){var r=t.parentNode,i=e("<"+n+">")[0];return r.insertBefore(i,t),i.appendChild(t),i},j=function(e,t){var n=t.nextSibling,r=t.parentNode;return n?r.insertBefore(e,n):r.appendChild(e),e},F=function(t,n){return e.each(n,function(e,n){t.appendChild(n)}),t},I=function(e){return e.offset===0},q=function(e){return e.offset===C(e.node)},R=function(e){return I(e)||q(e)},U=function(e,t){while(e&&e!==t){if(W(e)!==0)return!1;e=e.parentNode}return!0},z=function(e,t){while(e&&e!==t){if(W(e)!==C(e.parentNode)-1)return!1;e=e.parentNode}return!0},W=function(e){var t=0;while(e=e.previousSibling)t+=1;return t},X=function(e){return!!(e&&e.childNodes&&e.childNodes.length)},V=function(e,n){var r,i;if(e.offset===0){if(t(e.node))return null;r=e.node.parentNode,i=W(e.node)}else X(e.node)?(r=e.node.childNodes[e.offset-1],i=C(r)):(r=e.node,i=n?0:e.offset-1);return{node:r,offset:i}},J=function(e,n){var r,i;if(C(e.node)===e.offset){if(t(e.node))return null;r=e.node.parentNode,i=W(e.node)+1}else X(e.node)?(r=e.node.childNodes[e.offset],i=0):(r=e.node,i=n?C(e.node):e.offset+1);return{node:r,offset:i}},K=function(e,t){return e.node===t.node&&e.offset===t.offset},Q=function(e){if(c(e.node)||!X(e.node)||k(e.node))return!0;var t=e.node.childNodes[e.offset-1],n=e.node.childNodes[e.offset];return(!t||h(t))&&(!n||h(n))?!0:!1},G=function(e,t){while(e){if(t(e))return e;e=V(e)}return null},Y=function(e,t){while(e){if(t(e))return e;e=J(e)}return null},Z=function(e,t,n,r){var i=e;while(i){n(i);if(K(i,t))break;var s=r&&e.node!==i.node&&t.node!==i.node;i=J(i,s)}},et=function(t,n){var r=O(n,i.eq(t));return e.map(r,W).reverse()},tt=function(e,t){var n=e;for(var r=0,i=t.length;r<i;r++)n.childNodes.length<=t[r]?n=n.childNodes[n.childNodes.length-1]:n=n.childNodes[t[r]];return n},nt=function(e,t){if(c(e.node))return I(e)?e.node:q(e)?e.node.nextSibling:e.node.splitText(e.offset);var n=e.node.childNodes[e.offset],r=j(e.node.cloneNode(!1),e.node);return F(r,P(n)),t||(L(e.node),L(r)),r},rt=function(e,t,n){var r=O(t.node,i.eq(e));return r.length?r.length===1?nt(t,n):r.reduce(function(e,r){var i=j(r.cloneNode(!1),r);return e===t.node&&(e=nt(t,n)),F(i,P(e)),n||(L(r),L(i)),i}):null},it=function(e){return document.createElement(e)},st=function(e){return document.createTextNode(e)},ot=function(e,t){if(!e||!e.parentNode)return;if(e.removeNode)return e.removeNode(t);var n=e.parentNode;if(!t){var r=[],i,s;for(i=0,s=e.childNodes.length;i<s;i++)r.push(e.childNodes[i]);for(i=0,s=r.length;i<s;i++)n.insertBefore(r[i],e)}n.removeChild(e)},ut=function(e,n){while(e){if(t(e)||!n(e))break;var r=e.parentNode;ot(e),e=r}},at=function(e,t){if(e.nodeName.toUpperCase()===t.toUpperCase())return e;var n=it(t);return e.style.cssText&&(n.style.cssText=e.style.cssText),F(n,s.from(e.childNodes)),j(n,e),ot(e),n},ft=l("TEXTAREA"),lt=function(t,n){var r=ft(t[0])?t.val():t.html();if(n){var i=/<(\/?)(\b(?!!)[^>\s]*)(.*?)(\s*\/?>)/g;r=r.replace(i,function(e,t,n){n=n.toUpperCase();var r=/^DIV|^TD|^TH|^P|^LI|^H[1-7]/.test(n)&&!!t,i=/^BLOCKQUOTE|^TABLE|^TBODY|^TR|^HR|^UL|^OL/.test(n);return e+(r||i?"\n":"")}),r=e.trim(r)}return r},ct=function(e){var t=e.val();return t.replace(/[\n\r]/g,"")};return{NBSP_CHAR:o,ZERO_WIDTH_NBSP_CHAR:u,blank:N,emptyPara:"<p>"+N+"</p>",isEditable:t,isControlSizing:n,buildLayoutInfo:f,isText:c,isPara:p,isPurePara:v,isInline:m,isBodyInline:x,isBody:T,isParaInline:S,isList:g,isTable:l("TABLE"),isCell:y,isBlockquote:b,isBodyContainer:w,isAnchor:E,isDiv:l("DIV"),isLi:d,isSpan:l("SPAN"),isB:l("B"),isU:l("U"),isS:l("S"),isI:l("I"),isImg:l("IMG"),isTextarea:ft,isEmpty:k,isEmptyAnchor:i.and(E,k),nodeLength:C,isLeftEdgePoint:I,isRightEdgePoint:q,isEdgePoint:R,isLeftEdgeOf:U,isRightEdgeOf:z,prevPoint:V,nextPoint:J,isSamePoint:K,isVisiblePoint:Q,prevPointUntil:G,nextPointUntil:Y,walkPoint:Z,ancestor:A,listAncestor:O,lastAncestor:M,listNext:P,listPrev:D,listDescendant:H,commonAncestor:_,wrap:B,insertAfter:j,appendChildNodes:F,position:W,hasChildren:X,makeOffsetPath:et,fromOffsetPath:tt,splitTree:rt,create:it,createText:st,remove:ot,removeWhile:ut,replace:at,html:lt,value:ct}}(),f={version:"0.5.10",options:{width:null,height:null,minHeight:null,maxHeight:null,focus:!1,tabsize:4,styleWithSpan:!0,disableLinkTarget:!1,disableDragAndDrop:!1,disableResizeEditor:!1,codemirror:{mode:"text/html",htmlMode:!0,lineNumbers:!0},lang:"en-US",direction:null,toolbar:[["style",["style"]],["font",["bold","italic","underline","superscript","subscript","strikethrough","clear"]],["fontname",["fontname"]],["color",["color"]],["para",["ul","ol","paragraph"]],["height",["height"]],["table",["table"]],["insert",["link","picture","video","hr"]],["view",["fullscreen","codeview"]],["help",["help"]]],airMode:!1,airPopover:[["color",["color"]],["font",["bold","underline","clear"]],["para",["ul","paragraph"]],["table",["table"]],["insert",["link","picture"]]],styleTags:["p","blockquote","pre","h1","h2","h3","h4","h5","h6"],defaultFontName:"Helvetica Neue",fontNames:["Arial","Arial Black","Comic Sans MS","Courier New","Helvetica Neue","Impact","Lucida Grande","Tahoma","Times New Roman","Verdana"],colors:[["#000000","#424242","#636363","#9C9C94","#CEC6CE","#EFEFEF","#F7F7F7","#FFFFFF"],["#FF0000","#FF9C00","#FFFF00","#00FF00","#00FFFF","#0000FF","#9C00FF","#FF00FF"],["#F7C6CE","#FFE7CE","#FFEFC6","#D6EFD6","#CEDEE7","#CEE7F7","#D6D6E7","#E7D6DE"],["#E79C9C","#FFC69C","#FFE79C","#B5D6A5","#A5C6CE","#9CC6EF","#B5A5D6","#D6A5BD"],["#E76363","#F7AD6B","#FFD663","#94BD7B","#73A5AD","#6BADDE","#8C7BC6","#C67BA5"],["#CE0000","#E79439","#EFC631","#6BA54A","#4A7B8C","#3984C6","#634AA5","#A54A7B"],["#9C0000","#B56308","#BD9400","#397B21","#104A5A","#085294","#311873","#731842"],["#630000","#7B3900","#846300","#295218","#083139","#003163","#21104A","#4A1031"]],fontSizes:["8","9","10","11","12","14","18","24","36"],lineHeights:["1.0","1.2","1.4","1.5","1.6","1.8","2.0","3.0"],insertTableMaxSize:{col:10,row:10},oninit:null,onfocus:null,onblur:null,onenter:null,onkeyup:null,onkeydown:null,onImageUpload:null,onImageUploadError:null,onToolbarClick:null,onCreateLink:function(e){return e.indexOf("@")!==-1&&e.indexOf(":")===-1?e="mailto:"+e:e.indexOf("://")===-1&&(e="http://"+e),e},keyMap:{pc:{ENTER:"insertParagraph","CTRL+Z":"undo","CTRL+Y":"redo",TAB:"tab","SHIFT+TAB":"untab","CTRL+B":"bold","CTRL+I":"italic","CTRL+U":"underline","CTRL+SHIFT+S":"strikethrough","CTRL+BACKSLASH":"removeFormat","CTRL+SHIFT+L":"justifyLeft","CTRL+SHIFT+E":"justifyCenter","CTRL+SHIFT+R":"justifyRight","CTRL+SHIFT+J":"justifyFull","CTRL+SHIFT+NUM7":"insertUnorderedList","CTRL+SHIFT+NUM8":"insertOrderedList","CTRL+LEFTBRACKET":"outdent","CTRL+RIGHTBRACKET":"indent","CTRL+NUM0":"formatPara","CTRL+NUM1":"formatH1","CTRL+NUM2":"formatH2","CTRL+NUM3":"formatH3","CTRL+NUM4":"formatH4","CTRL+NUM5":"formatH5","CTRL+NUM6":"formatH6","CTRL+ENTER":"insertHorizontalRule","CTRL+K":"showLinkDialog"},mac:{ENTER:"insertParagraph","CMD+Z":"undo","CMD+SHIFT+Z":"redo",TAB:"tab","SHIFT+TAB":"untab","CMD+B":"bold","CMD+I":"italic","CMD+U":"underline","CMD+SHIFT+S":"strikethrough","CMD+BACKSLASH":"removeFormat","CMD+SHIFT+L":"justifyLeft","CMD+SHIFT+E":"justifyCenter","CMD+SHIFT+R":"justifyRight","CMD+SHIFT+J":"justifyFull","CMD+SHIFT+NUM7":"insertUnorderedList","CMD+SHIFT+NUM8":"insertOrderedList","CMD+LEFTBRACKET":"outdent","CMD+RIGHTBRACKET":"indent","CMD+NUM0":"formatPara","CMD+NUM1":"formatH1","CMD+NUM2":"formatH2","CMD+NUM3":"formatH3","CMD+NUM4":"formatH4","CMD+NUM5":"formatH5","CMD+NUM6":"formatH6","CMD+ENTER":"insertHorizontalRule","CMD+K":"showLinkDialog"}}},lang:{"en-US":{font:{bold:"Bold",italic:"Italic",underline:"Underline",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript",clear:"Remove Font Style",height:"Line Height",name:"Font Family",size:"Font Size"},image:{image:"Picture",insert:"Insert Image",resizeFull:"Resize Full",resizeHalf:"Resize Half",resizeQuarter:"Resize Quarter",floatLeft:"Float Left",floatRight:"Float Right",floatNone:"Float None",shapeRounded:"Shape: Rounded",shapeCircle:"Shape: Circle",shapeThumbnail:"Shape: Thumbnail",shapeNone:"Shape: None",dragImageHere:"Drag an image here",selectFromFiles:"Select from files",url:"Image URL",remove:"Remove Image"},link:{link:"Link",insert:"Insert Link",unlink:"Unlink",edit:"Edit",textToDisplay:"Text to display",url:"To what URL should this link go?",openInNewWindow:"Open in new window"},video:{video:"Video",videoLink:"Video Link",insert:"Insert Video",url:"Video URL?",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion or Youku)"},table:{table:"Table"},hr:{insert:"Insert Horizontal Rule"},style:{style:"Style",normal:"Normal",blockquote:"Quote",pre:"Code",h1:"Header 1",h2:"Header 2",h3:"Header 3",h4:"Header 4",h5:"Header 5",h6:"Header 6"},lists:{unordered:"Unordered list",ordered:"Ordered list"},options:{help:"Help",fullscreen:"Full Screen",codeview:"Code View"},paragraph:{paragraph:"Paragraph",outdent:"Outdent",indent:"Indent",left:"Align left",center:"Align center",right:"Align right",justify:"Justify full"},color:{recent:"Recent Color",more:"More Color",background:"Background Color",foreground:"Foreground Color",transparent:"Transparent",setTransparent:"Set transparent",reset:"Reset",resetToDefault:"Reset to default"},shortcut:{shortcuts:"Keyboard shortcuts",close:"Close",textFormatting:"Text formatting",action:"Action",paragraphFormatting:"Paragraph formatting",documentStyle:"Document Style"},history:{undo:"Undo",redo:"Redo"}}}},l=function(){var t=function(t){return e.Deferred(function(n){e.extend(new FileReader,{onload:function(e){var t=e.target.result;n.resolve(t)},onerror:function(){n.reject(this)}}).readAsDataURL(t)}).promise()},n=function(t,n){return e.Deferred(function(r){e("<img>").one("load",function(){r.resolve(e(this))}).one("error abort",function(){r.reject(e(this))}).css({display:"none"}).appendTo(document.body).attr("src",t).attr("data-filename",n)}).promise()};return{readFileAsDataURL:t,createImage:n}}(),c={isEdit:function(e){return s.contains([8,9,13,32],e)},nameFromCode:{8:"BACKSPACE",9:"TAB",13:"ENTER",32:"SPACE",48:"NUM0",49:"NUM1",50:"NUM2",51:"NUM3",52:"NUM4",53:"NUM5",54:"NUM6",55:"NUM7",56:"NUM8",66:"B",69:"E",73:"I",74:"J",75:"K",76:"L",82:"R",83:"S",85:"U",89:"Y",90:"Z",191:"SLASH",219:"LEFTBRACKET",220:"BACKSLASH",221:"RIGHTBRACKET"}},h=function(){var t=function(t,n){if(r.jqueryVersion<1.9){var i={};return e.each(n,function(e,n){i[n]=t.css(n)}),i}return t.css.call(t,n)};this.stylePara=function(t,n){e.each(t.nodes(a.isPara,{includeAncestor:!0}),function(t,r){e(r).css(n)})},this.current=function(n,r){var i=e(a.isText(n.sc)?n.sc.parentNode:n.sc),s=["font-family","font-size","text-align","list-style-type","line-height"],o=t(i,s)||{};o["font-size"]=parseInt(o["font-size"],10),o["font-bold"]=document.queryCommandState("bold")?"bold":"normal",o["font-italic"]=document.queryCommandState("italic")?"italic":"normal",o["font-underline"]=document.queryCommandState("underline")?"underline":"normal",o["font-strikethrough"]=document.queryCommandState("strikeThrough")?"strikethrough":"normal",o["font-superscript"]=document.queryCommandState("superscript")?"superscript":"normal",o["font-subscript"]=document.queryCommandState("subscript")?"subscript":"normal";if(!n.isOnList())o["list-style"]="none";else{var u=["circle","disc","disc-leading-zero","square"],f=e.inArray(o["list-style-type"],u)>-1;o["list-style"]=f?"unordered":"ordered"}var l=a.ancestor(n.sc,a.isPara);if(l&&l.style["line-height"])o["line-height"]=l.style.lineHeight;else{var c=parseInt(o["line-height"],10)/parseInt(o["font-size"],10);o["line-height"]=c.toFixed(1)}return o.image=a.isImg(r)&&r,o.anchor=n.isOnAnchor()&&a.ancestor(n.sc,a.isAnchor),o.ancestors=a.listAncestor(n.sc,a.isEditable),o.range=n,o}},p=function(){var t=function(e,t){var n=e.parentElement(),r,i=document.body.createTextRange(),o,u=s.from(n.childNodes);for(r=0;r<u.length;r++){if(a.isText(u[r]))continue;i.moveToElementText(u[r]);if(i.compareEndPoints("StartToStart",e)>=0)break;o=u[r]}if(r!==0&&a.isText(u[r-1])){var f=document.body.createTextRange(),l=null;f.moveToElementText(o||n),f.collapse(!o),l=o?o.nextSibling:n.firstChild;var c=e.duplicate();c.setEndPoint("StartToStart",f);var h=c.text.replace(/[\r\n]/g,"").length;while(h>l.nodeValue.length&&l.nextSibling)h-=l.nodeValue.length,l=l.nextSibling;var p=l.nodeValue;t&&l.nextSibling&&a.isText(l.nextSibling)&&h===l.nodeValue.length&&(h-=l.nodeValue.length,l=l.nextSibling),n=l,r=h}return{cont:n,offset:r}},n=function(e){var t=function(e,n){var r,o;if(a.isText(e)){var u=a.listPrev(e,i.not(a.isText)),f=s.last(u).previousSibling;r=f||e.parentNode,n+=s.sum(s.tail(u),a.nodeLength),o=!f}else{r=e.childNodes[n]||e;if(a.isText(r))return t(r,0);n=0,o=!1}return{node:r,collapseToStart:o,offset:n}},n=document.body.createTextRange(),r=t(e.node,e.offset);return n.moveToElementText(r.node),n.collapse(r.collapseToStart),n.moveStart("character",r.offset),n},o=function(t,u,f,l){this.sc=t,this.so=u,this.ec=f,this.eo=l;var c=function(){if(r.isW3CRangeSupport){var e=document.createRange();return e.setStart(t,u),e.setEnd(f,l),e}var i=n({node:t,offset:u});return i.setEndPoint("EndToEnd",n({node:f,offset:l})),i};this.getPoints=function(){return{sc:t,so:u,ec:f,eo:l}},this.getStartPoint=function(){return{node:t,offset:u}},this.getEndPoint=function(){return{node:f,offset:l}},this.select=function(){var e=c();if(r.isW3CRangeSupport){var t=document.getSelection();t.rangeCount>0&&t.removeAllRanges(),t.addRange(e)}else e.select()},this.normalize=function(){var e=function(e){return a.isVisiblePoint(e)||(a.isLeftEdgePoint(e)?e=a.nextPointUntil(e,a.isVisiblePoint):a.isRightEdgePoint(e)&&(e=a.prevPointUntil(e,a.isVisiblePoint))),e},t=e(this.getStartPoint()),n=e(this.getStartPoint());return new o(t.node,t.offset,n.node,n.offset)},this.nodes=function(e,t){e=e||i.ok;var n=t&&t.includeAncestor,r=t&&t.fullyContains,o=this.getStartPoint(),u=this.getEndPoint(),f=[],l=[];return a.walkPoint(o,u,function(t){if(a.isEditable(t.node))return;var i;r?(a.isLeftEdgePoint(t)&&l.push(t.node),a.isRightEdgePoint(t)&&s.contains(l,t.node)&&(i=t.node)):n?i=a.ancestor(t.node,e):i=t.node,i&&e(i)&&f.push(i)},!0),s.unique(f)},this.commonAncestor=function(){return a.commonAncestor(t,f)},this.expand=function(e){var n=a.ancestor(t,e),r=a.ancestor(f,e);if(!n&&!r)return new o(t,u,f,l);var i=this.getPoints();return n&&(i.sc=n,i.so=0),r&&(i.ec=r,i.eo=a.nodeLength(r)),new o(i.sc,i.so,i.ec,i.eo)},this.collapse=function(e){return e?new o(t,u,t,u):new o(f,l,f,l)},this.splitText=function(){var e=t===f,n=this.getPoints();return a.isText(f)&&!a.isEdgePoint(this.getEndPoint())&&f.splitText(l),a.isText(t)&&!a.isEdgePoint(this.getStartPoint())&&(n.sc=t.splitText(u),n.so=0,e&&(n.ec=n.sc,n.eo=l-u)),new o(n.sc,n.so,n.ec,n.eo)},this.deleteContents=function(){if(this.isCollapsed())return this;var t=this.splitText(),n=t.nodes(null,{fullyContains:!0}),r=a.prevPointUntil(t.getStartPoint(),function(e){return!s.contains(n,e.node)}),i=[];return e.each(n,function(e,t){var n=t.parentNode;r.node!==n&&a.nodeLength(n)===1&&i.push(n),a.remove(t,!1)}),e.each(i,function(e,t){a.remove(t,!1)}),new o(r.node,r.offset,r.node,r.offset)};var h=function(e){return function(){var n=a.ancestor(t,e);return!!n&&n===a.ancestor(f,e)}};this.isOnEditable=h(a.isEditable),this.isOnList=h(a.isList),this.isOnAnchor=h(a.isAnchor),this.isOnCell=h(a.isCell),this.isLeftEdgeOf=function(e){if(!a.isLeftEdgePoint(this.getStartPoint()))return!1;var t=a.ancestor(this.sc,e);return t&&a.isLeftEdgeOf(this.sc,t)},this.isCollapsed=function(){return t===f&&u===l},this.wrapBodyInlineWithPara=function(){if(a.isBodyContainer(t)&&a.isEmpty(t))return t.innerHTML=a.emptyPara,new o(t.firstChild,0);if(!a.isInline(t)||a.isParaInline(t))return this;var e=a.listAncestor(t,i.not(a.isInline)),n=s.last(e);a.isInline(n)||(n=e[e.length-2]||t.childNodes[u]);var r=a.listPrev(n,a.isParaInline).reverse();r=r.concat(a.listNext(n.nextSibling,a.isParaInline));if(r.length){var f=a.wrap(s.head(r),"p");a.appendChildNodes(f,s.tail(r))}return this},this.insertNode=function(e,t){var n=this.wrapBodyInlineWithPara(),r=n.getStartPoint(),i,o,u;if(t)o=a.isPara(r.node)?r.node:r.node.parentNode,a.isPara(r.node)?u=r.node.childNodes[r.offset]:u=a.splitTree(r.node,r);else{var f=a.listAncestor(r.node,a.isBodyContainer),l=s.last(f)||r.node;a.isBodyContainer(l)?(i=f[f.length-2],o=l):(i=l,o=i.parentNode),u=i&&a.splitTree(i,r)}return u?u.parentNode.insertBefore(e,u):o.appendChild(e),e},this.toString=function(){var e=c();return r.isW3CRangeSupport?e.toString():e.text},this.bookmark=function(e){return{s:{path:a.makeOffsetPath(e,t),offset:u},e:{path:a.makeOffsetPath(e,f),offset:l}}},this.getClientRects=function(){var e=c();return e.getClientRects()}};return{create:function(e,n,i,s){if(!arguments.length)if(r.isW3CRangeSupport){var u=document.getSelection();if(u.rangeCount===0)return null;if(a.isBody(u.anchorNode))return null;var f=u.getRangeAt(0);e=f.startContainer,n=f.startOffset,i=f.endContainer,s=f.endOffset}else{var l=document.selection.createRange(),c=l.duplicate();c.collapse(!1);var h=l;h.collapse(!0);var p=t(h,!0),d=t(c,!1);a.isText(p.node)&&a.isLeftEdgePoint(p)&&a.isTextNode(d.node)&&a.isRightEdgePoint(d)&&d.node.nextSibling===p.node&&(p=d),e=p.cont,n=p.offset,i=d.cont,s=d.offset}else arguments.length===2&&(i=e,s=n);return new o(e,n,i,s)},createFromNode:function(e){return this.create(e,0,e,1)},createFromBookmark:function(e,t){var n=a.fromOffsetPath(e,t.s.path),r=t.s.offset,i=a.fromOffsetPath(e,t.e.path),s=t.e.offset;return new o(n,r,i,s)}}}(),d=function(){this.insertTab=function(e,t,n){var r=a.createText((new Array(n+1)).join(a.NBSP_CHAR));t=t.deleteContents(),t.insertNode(r,!0),t=p.create(r,n),t.select()},this.insertParagraph=function(){var t=p.create();t=t.deleteContents(),t=t.wrapBodyInlineWithPara();var n=a.ancestor(t.sc,a.isPara),r;if(n){r=a.splitTree(n,t.getStartPoint());var i=a.listDescendant(n,a.isEmptyAnchor);i=i.concat(a.listDescendant(r,a.isEmptyAnchor)),e.each(i,function(e,t){a.remove(t)})}else{var s=t.sc.childNodes[t.so];r=e(a.emptyPara)[0],s?t.sc.insertBefore(r,s):t.sc.appendChild(r)}p.create(r,0).normalize().select()}},v=function(){this.tab=function(e,t){var n=a.ancestor(e.commonAncestor(),a.isCell),r=a.ancestor(n,a.isTable),i=a.listDescendant(r,a.isCell),o=s[t?"prev":"next"](i,n);o&&p.create(o,0).select()},this.createTable=function(t,n){var r=[],i;for(var s=0;s<t;s++)r.push("<td>"+a.blank+"</td>");i=r.join("");var o=[],u;for(var f=0;f<n;f++)o.push("<tr>"+i+"</tr>");return u=o.join(""),e('<table class="table table-bordered">'+u+"</table>")[0]}},m=function(){this.insertOrderedList=function(){this.toggleList("OL")},this.insertUnorderedList=function(){this.toggleList("UL")},this.indent=function(){var t=this,n=p.create().wrapBodyInlineWithPara(),r=n.nodes(a.isPara,{includeAncestor:!0}),o=s.clusterBy(r,i.peq2("parentNode"));e.each(o,function(n,r){var i=s.head(r);a.isLi(i)?t.wrapList(r,i.parentNode.nodeName):e.each(r,function(t,n){e(n).css("marginLeft",function(e,t){return(parseInt(t,10)||0)+25})})}),n.select()},this.outdent=function(){var t=this,n=p.create().wrapBodyInlineWithPara(),r=n.nodes(a.isPara,{includeAncestor:!0}),o=s.clusterBy(r,i.peq2("parentNode"));e.each(o,function(n,r){var i=s.head(r);a.isLi(i)?t.releaseList([r]):e.each(r,function(t,n){e(n).css("marginLeft",function(e,t){return t=parseInt(t,10)||0,t>25?t-25:""})})}),n.select()},this.toggleList=function(t){var n=this,r=p.create().wrapBodyInlineWithPara(),o=r.nodes(a.isPara,{includeAncestor:!0}),u=s.clusterBy(o,i.peq2("parentNode"));if(s.find(o,a.isPurePara))e.each(u,function(e,r){n.wrapList(r,t)});else{var f=r.nodes(a.isList,{includeAncestor:!0}).filter(function(n){return!e.nodeName(n,t)});f.length?e.each(f,function(e,n){a.replace(n,t)}):this.releaseList(u,!0)}r.select()},this.wrapList=function(t,n){var r=s.head(t),i=s.last(t),o=a.isList(r.previousSibling)&&r.previousSibling,u=a.isList(i.nextSibling)&&i.nextSibling,f=o||a.insertAfter(a.create(n||"UL"),i);t=e.map(t,function(e){return a.isPurePara(e)?a.replace(e,"LI"):e}),a.appendChildNodes(f,t),u&&(a.appendChildNodes(f,s.from(u.childNodes)),a.remove(u))},this.releaseList=function(t,n){var r=[];return e.each(t,function(t,i){var o=s.head(i),u=s.last(i),f=n?a.lastAncestor(o,a.isList):o.parentNode,l=f.childNodes.length>1?a.splitTree(f,{node:u.parentNode,offset:a.position(u)+1},!0):null,c=a.splitTree(f,{node:o.parentNode,offset:a.position(o)},!0);i=n?a.listDescendant(c,a.isLi):s.from(c.childNodes).filter(a.isLi);if(n||!a.isList(f.parentNode))i=e.map(i,function(e){return a.replace(e,"P")});e.each(s.from(i).reverse(),function(e,t){a.insertAfter(t,f)});var h=s.compact([f,c,l]);e.each(h,function(t,n){var r=[n].concat(a.listDescendant(n,a.isList));e.each(r.reverse(),function(e,t){a.nodeLength(t)||a.remove(t,!0)})}),r=r.concat(i)}),r}},g=function(){var t=new h,n=new v,i=new d,o=new m;this.saveRange=function(e,t){e.focus(),e.data("range",p.create()),t&&p.create().collapse().select()},this.restoreRange=function(e){var t=e.data("range");t&&(t.select(),e.focus())},this.currentStyle=function(e){var n=p.create();return n?n.isOnEditable()&&t.current(n,e):!1};var u=this.triggerOnChange=function(e){var t=e.data("callbacks").onChange;t&&t(e.html(),e)};this.undo=function(e){e.data("NoteHistory").undo(),u(e)},this.redo=function(e){e.data("NoteHistory").redo(),u(e)};var f=this.afterCommand=function(e){e.data("NoteHistory").recordUndo(),u(e)},c=["bold","italic","underline","strikethrough","superscript","subscript","justifyLeft","justifyCenter","justifyRight","justifyFull","formatBlock","removeFormat","backColor","foreColor","insertHorizontalRule","fontName"];for(var g=0,y=c.length;g<y;g++)this[c[g]]=function(e){return function(t,n){document.execCommand(e,!1,n),f(t)}}(c[g]);this.tab=function(e,t){var r=p.create();r.isCollapsed()&&r.isOnCell()?n.tab(r):(i.insertTab(e,r,t.tabsize),f(e))},this.untab=function(){var e=p.create();e.isCollapsed()&&e.isOnCell()&&n.tab(e,!0)},this.insertParagraph=function(e){i.insertParagraph(e),f(e)},this.insertOrderedList=function(e){o.insertOrderedList(e),f(e)},this.insertUnorderedList=function(e){o.insertUnorderedList(e),f(e)},this.indent=function(e){o.indent(e),f(e)},this.outdent=function(e){o.outdent(e),f(e)},this.insertImage=function(e,t,n){l.createImage(t,n).then(function(t){t.css({display:"",width:Math.min(e.width(),t.width())}),p.create().insertNode(t[0]),f(e)}).fail(function(){var t=e.data("callbacks");t.onImageUploadError&&t.onImageUploadError()})},this.insertVideo=function(t,n){var r=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/,i=n.match(r),s=/\/\/instagram.com\/p\/(.[a-zA-Z0-9]*)/,o=n.match(s),u=/\/\/vine.co\/v\/(.[a-zA-Z0-9]*)/,a=n.match(u),l=/\/\/(player.)?vimeo.com\/([a-z]*\/)*([0-9]{6,11})[?]?.*/,c=n.match(l),h=/.+dailymotion.com\/(video|hub)\/([^_]+)[^#]*(#video=([^_&]+))?/,d=n.match(h),v=/\/\/v\.youku\.com\/v_show\/id_(\w+)\.html/,m=n.match(v),g;if(i&&i[2].length===11){var y=i[2];g=e("<iframe>").attr("src","//www.youtube.com/embed/"+y).attr("width","640").attr("height","360")}else o&&o[0].length?g=e("<iframe>").attr("src",o[0]+"/embed/").attr("width","612").attr("height","710").attr("scrolling","no").attr("allowtransparency","true"):a&&a[0].length?g=e("<iframe>").attr("src",a[0]+"/embed/simple").attr("width","600").attr("height","600").attr("class","vine-embed"):c&&c[3].length?g=e("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("src","//player.vimeo.com/video/"+c[3]).attr("width","640").attr("height","360"):d&&d[2].length?g=e("<iframe>").attr("src","//www.dailymotion.com/embed/video/"+d[2]).attr("width","640").attr("height","360"):m&&m[1].length&&(g=e("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("height","498").attr("width","510").attr("src","//player.youku.com/embed/"+m[1]));g&&(g.attr("frameborder",0),p.create().insertNode(g[0]),f(t))},this.formatBlock=function(e,t){t=r.isMSIE?"<"+t+">":t,document.execCommand("FormatBlock",!1,t),f(e)},this.formatPara=function(e){this.formatBlock(e,"P"),f(e)};for(var g=1;g<=6;g++)this["formatH"+g]=function(e){return function(t){this.formatBlock(t,"H"+e)}}(g);this.fontSize=function(e,t){document.execCommand("fontSize",!1,3),r.isFF?e.find("font[size=3]").removeAttr("size").css("font-size",t+"px"):e.find("span").filter(function(){return this.style.fontSize==="medium"}).css("font-size",t+"px"),f(e)},this.lineHeight=function(e,n){t.stylePara(p.create(),{lineHeight:n}),f(e)},this.unlink=function(e){var t=p.create();if(t.isOnAnchor()){var n=a.ancestor(t.sc,a.isAnchor);t=p.createFromNode(n),t.select(),document.execCommand("unlink"),f(e)}},this.createLink=function(t,n,r){var i=n.url,s=n.text,o=n.newWindow,u=n.range;r.onCreateLink&&(i=r.onCreateLink(i)),u=u.deleteContents();var a=u.insertNode(e("<A>"+s+"</A>")[0],!0);e(a).attr({href:i,target:o?"_blank":""}),p.createFromNode(a).select(),f(t)},this.getLinkInfo=function(t){t.focus();var n=p.create().expand(a.isAnchor),r=e(s.head(n.nodes(a.isAnchor)));return{range:n,text:n.toString(),isNewWindow:r.length?r.attr("target")==="_blank":!0,url:r.length?r.attr("href"):""}},this.getVideoInfo=function(e){e.focus();var t=p.create();if(t.isOnAnchor()){var n=a.ancestor(t.sc,a.isAnchor);t=p.createFromNode(n)}return{text:t.toString()}},this.color=function(e,t){var n=JSON.parse(t),r=n.foreColor,i=n.backColor;r&&document.execCommand("foreColor",!1,r),i&&document.execCommand("backColor",!1,i),f(e)},this.insertTable=function(e,t){var r=t.split("x"),i=p.create();i=i.deleteContents(),i.insertNode(n.createTable(r[0],r[1])),f(e)},this.floatMe=function(e,t,n){n.css("float",t),f(e)},this.imageShape=function(e,t,n){n.removeClass("img-rounded img-circle img-thumbnail"),t&&n.addClass(t)},this.resize=function(e,t,n){n.css({width:t*100+"%",height:""}),f(e)},this.resizeTo=function(e,t,n){var r;if(n){var i=e.y/e.x,s=t.data("ratio");r={width:s>i?e.x:e.y/s,height:s>i?e.x*s:e.y}}else r={width:e.x,height:e.y};t.css(r)},this.removeMedia=function(e,t,n){n.detach(),f(e)}},y=function(e){var t=[],n=-1,r=e[0],i=function(){var t=p.create(),n={s:{path:[0],offset:0},e:{path:[0],offset:0}};return{contents:e.html(),bookmark:t?t.bookmark(r):n}},s=function(t){t.contents!==null&&e.html(t.contents),t.bookmark!==null&&p.createFromBookmark(r,t.bookmark).select()};this.undo=function(){0<n&&(n--,s(t[n]))},this.redo=function(){t.length-1>n&&(n++,s(t[n]))},this.recordUndo=function(){n++,t.length>n&&(t=t.slice(0,n)),t.push(i())},this.recordUndo()},b=function(){this.update=function(t,n){var r=function(t,n){t.find(".dropdown-menu li a").each(function(){var t=e(this).data("value")+""==n+"";this.className=t?"checked":""})},i=function(e,n){var r=t.find(e);r.toggleClass("active",n())},o=t.find(".note-fontname");if(o.length){var u=n["font-family"];!u||(u=s.head(u.split(",")),u=u.replace(/\'/g,""),o.find(".note-current-fontname").text(u),r(o,u))}var a=t.find(".note-fontsize");a.find(".note-current-fontsize").text(n["font-size"]),r(a,parseFloat(n["font-size"]));var f=t.find(".note-height");r(f,parseFloat(n["line-height"])),i('button[data-event="bold"]',function(){return n["font-bold"]==="bold"}),i('button[data-event="italic"]',function(){return n["font-italic"]==="italic"}),i('button[data-event="underline"]',function(){return n["font-underline"]==="underline"}),i('button[data-event="strikethrough"]',function(){return n["font-strikethrough"]==="strikethrough"}),i('button[data-event="superscript"]',function(){return n["font-superscript"]==="superscript"}),i('button[data-event="subscript"]',function(){return n["font-subscript"]==="subscript"}),i('button[data-event="justifyLeft"]',function(){return n["text-align"]==="left"||n["text-align"]==="start"}),i('button[data-event="justifyCenter"]',function(){return n["text-align"]==="center"}),i('button[data-event="justifyRight"]',function(){return n["text-align"]==="right"}),i('button[data-event="justifyFull"]',function(){return n["text-align"]==="justify"}),i('button[data-event="insertUnorderedList"]',function(){return n["list-style"]==="unordered"}),i('button[data-event="insertOrderedList"]',function(){return n["list-style"]==="ordered"})},this.updateRecentColor=function(t,n,r){var i=e(t).closest(".note-color"),s=i.find(".note-recent-color"),o=JSON.parse(s.attr("data-value"));o[n]=r,s.attr("data-value",JSON.stringify(o));var u=n==="backColor"?"background-color":"color";s.find("i").css(u,r)}},w=function(){var e=new b;this.update=function(t,n){e.update(t,n)},this.updateRecentColor=function(t,n,r){e.updateRecentColor(t,n,r)},this.activate=function(e){e.find("button").not('button[data-event="codeview"]').removeClass("disabled")},this.deactivate=function(e){e.find("button").not('button[data-event="codeview"]').addClass("disabled")},this.updateFullscreen=function(e,t){var n=e.find('button[data-event="fullscreen"]');n.toggleClass("active",t)},this.updateCodeview=function(e,t){var n=e.find('button[data-event="codeview"]');n.toggleClass("active",t)}},E=function(){var t=new b,n=function(t,n){var r=e(t),i=n?r.offset():r.position(),s=r.outerHeight(!0);return{left:i.left,top:i.top+s}},r=function(e,t){e.css({display:"block",left:t.left,top:t.top})},o=20;this.update=function(u,a,f){t.update(u,a);var l=u.find(".note-link-popover");if(a.anchor){var c=l.find("a"),h=e(a.anchor).attr("href");c.attr("href",h).html(h),r(l,n(a.anchor,f))}else l.hide();var p=u.find(".note-image-popover");a.image?r(p,n(a.image,f)):p.hide();var d=u.find(".note-air-popover");if(f&&!a.range.isCollapsed()){var v=i.rect2bnd(s.last(a.range.getClientRects()));r(d,{left:Math.max(v.left+v.width/2-o,0),top:v.top+v.height})}else d.hide()},this.updateRecentColor=function(e,t,n){e.updateRecentColor(e,t,n)},this.hide=function(e){e.children().hide()}},S=function(){this.update=function(t,n,r){var i=t.find(".note-control-selection");if(n.image){var s=e(n.image),o=r?s.offset():s.position(),u={w:s.outerWidth(!0),h:s.outerHeight(!0)};i.css({display:"block",left:o.left,top:o.top,width:u.w,height:u.h}).data("target",n.image);var a=u.w+"x"+u.h;i.find(".note-control-selection-info").text(a)}else i.hide()},this.hide=function(e){e.children().hide()}},x=function(){var t=function(e,t){e.toggleClass("disabled",!t),e.attr("disabled",!t)};this.showImageDialog=function(n,r){return e.Deferred(function(e){var n=r.find(".note-image-dialog"),i=r.find(".note-image-input"),s=r.find(".note-image-url"),o=r.find(".note-image-btn");n.one("shown.bs.modal",function(){i.replaceWith(i.clone().on("change",function(){e.resolve(this.files),n.modal("hide")}).val("")),o.click(function(t){t.preventDefault(),e.resolve(s.val()),n.modal("hide")}),s.on("keyup paste",function(e){var n;e.type==="paste"?n=e.originalEvent.clipboardData.getData("text"):n=s.val(),t(o,n)}).val("").trigger("focus")}).one("hidden.bs.modal",function(){i.off("change"),s.off("keyup paste"),o.off("click"),e.state()==="pending"&&e.reject()}).modal("show")})},this.showVideoDialog=function(n,r,i){return e.Deferred(function(e){var n=r.find(".note-video-dialog"),s=n.find(".note-video-url"),o=n.find(".note-video-btn");n.one("shown.bs.modal",function(){s.val(i.text).keyup(function(){t(o,s.val())}).trigger("keyup").trigger("focus"),o.click(function(t){t.preventDefault(),e.resolve(s.val()),n.modal("hide")})}).one("hidden.bs.modal",function(){s.off("keyup"),o.off("click"),e.state()==="pending"&&e.reject()}).modal("show")})},this.showLinkDialog=function(n,r,i){return e.Deferred(function(e){var n=r.find(".note-link-dialog"),s=n.find(".note-link-text"),o=n.find(".note-link-url"),u=n.find(".note-link-btn"),a=n.find("input[type=checkbox]");n.one("shown.bs.modal",function(){s.val(i.text),s.keyup(function(){i.text=s.val()}),i.url||(i.url=i.text,t(u,i.text)),o.keyup(function(){t(u,o.val()),i.text||s.val(o.val())}).val(i.url).trigger("focus").trigger("select"),a.prop("checked",i.newWindow),u.one("click",function(t){t.preventDefault(),e.resolve({range:i.range,url:o.val(),text:s.val(),newWindow:a.is(":checked")}),n.modal("hide")})}).one("hidden.bs.modal",function(){s.off("keyup"),o.off("keyup"),u.off("click"),e.state()==="pending"&&e.reject()}).modal("show")}).promise()},this.showHelpDialog=function(t,n){return e.Deferred(function(e){var t=n.find(".note-help-dialog");t.one("hidden.bs.modal",function(){e.resolve()}).modal("show")}).promise()}},T;r.hasCodeMirror&&(r.isSupportAmd?require(["CodeMirror"],function(e){T=e}):T=window.CodeMirror);var N=function(){var t=e(window),n=e(document),i=e("html, body"),o=new g,u=new w,f=new E,h=new S,p=new x,d=function(t){var n=e(t).closest(".note-editor, .note-air-editor, .note-air-layout");if(!n.length)return null;var r;return n.is(".note-editor, .note-air-editor")?r=n:r=e("#note-editor-"+s.last(n.attr("id").split("-"))),a.buildLayoutInfo(r)},v=function(t,n){var r=t.data("callbacks");r.onImageUpload?r.onImageUpload(n,o,t):e.each(n,function(e,n){var i=n.name;l.readFileAsDataURL(n).then(function(e){o.insertImage(t,e,i)}).fail(function(){r.onImageUploadError&&r.onImageUploadError()})})},m={showLinkDialog:function(e){var t=e.editor(),n=e.dialog(),r=e.editable(),i=o.getLinkInfo(r),s=t.data("options");o.saveRange(r),p.showLinkDialog(r,n,i).then(function(t){o.restoreRange(r),o.createLink(r,t,s),f.hide(e.popover())}).fail(function(){o.restoreRange(r)})},showImageDialog:function(e){var t=e.dialog(),n=e.editable();o.saveRange(n),p.showImageDialog(n,t).then(function(e){o.restoreRange(n),typeof e=="string"?o.insertImage(n,e):v(n,e)}).fail(function(){o.restoreRange(n)})},showVideoDialog:function(e){var t=e.dialog(),n=e.editable(),r=o.getVideoInfo(n);o.saveRange(n),p.showVideoDialog(n,t,r).then(function(e){o.restoreRange(n),o.insertVideo(n,e)}).fail(function(){o.restoreRange(n)})},showHelpDialog:function(e){var t=e.dialog(),n=e.editable();o.saveRange(n,!0),p.showHelpDialog(n,t).then(function(){o.restoreRange(n)})},fullscreen:function(e){var n=e.editor(),r=e.toolbar(),s=e.editable(),o=e.codable(),a=n.data("options"),f=function(e){n.css("width",e.w),s.css("height",e.h),o.css("height",e.h),o.data("cmeditor")&&o.data("cmeditor").setsize(null,e.h)};n.toggleClass("fullscreen");var l=n.hasClass("fullscreen");l?(s.data("orgheight",s.css("height")),t.on("resize",function(){f({w:t.width(),h:t.height()-r.outerHeight()})}).trigger("resize"),i.css("overflow","hidden")):(t.off("resize"),f({w:a.width||"",h:s.data("orgheight")}),i.css("overflow","visible")),u.updateFullscreen(r,l)},codeview:function(e){var t=e.editor(),n=e.toolbar(),i=e.editable(),s=e.codable(),o=e.popover(),l=t.data("options"),c,h;t.toggleClass("codeview");var p=t.hasClass("codeview");p?(s.val(a.html(i,!0)),s.height(i.height()),u.deactivate(n),f.hide(o),s.focus(),r.hasCodeMirror&&(c=T.fromTextArea(s[0],l.codemirror),l.codemirror.tern&&(h=new T.TernServer(l.codemirror.tern),c.ternServer=h,c.on("cursorActivity",function(e){h.updateArgHints(e)})),c.setSize(null,i.outerHeight()),s.data("cmEditor",c))):(r.hasCodeMirror&&(c=s.data("cmEditor"),s.val(c.getValue()),c.toTextArea()),i.html(a.value(s)||a.emptyPara),i.height(l.height?s.height():"auto"),u.activate(n),i.focus()),u.updateCodeview(e.toolbar(),p)}},b=function(e){a.isImg(e.target)&&e.preventDefault()},N=function(e){setTimeout(function(){var t=d(e.currentTarget||e.target),n=o.currentStyle(e.target);if(!n)return;var r=t.editor().data("options").airMode;r||u.update(t.toolbar(),n),f.update(t.popover(),n,r),h.update(t.handle(),n,r)},0)},C=function(e){var t=d(e.currentTarget||e.target);f.hide(t.popover()),h.hide(t.handle())},k=function(e){var t=e.originalEvent.clipboardData;if(!t||!t.items||!t.items.length)return;var n=d(e.currentTarget||e.target),r=n.editable(),i=s.head(t.items),u=i.kind==="file"&&i.type.indexOf("image/")!==-1;u&&v(r,[i.getAsFile()]),o.afterCommand(r)},L=function(t){if(a.isControlSizing(t.target)){t.preventDefault(),t.stopPropagation();var r=d(t.target),i=r.handle(),s=r.popover(),u=r.editable(),l=r.editor(),c=i.find(".note-control-selection").data("target"),p=e(c),v=p.offset(),m=n.scrollTop(),g=l.data("options").airMode;n.on("mousemove",function(e){o.resizeTo({x:e.clientX-v.left,y:e.clientY-(v.top-m)},p,!e.shiftKey),h.update(i,{image:c},g),f.update(s,{image:c},g)}).one("mouseup",function(){n.off("mousemove")}),p.data("ratio")||p.data("ratio",p.height()/p.width()),o.afterCommand(u)}},A=function(t){var n=e(t.target).closest("[data-event]");n.length&&t.preventDefault()},O=function(t){var n=e(t.target).closest("[data-event]");if(n.length){var r=n.attr("data-event"),i=n.attr("data-value"),a=n.attr("data-hide"),l=d(t.target);t.preventDefault();var c;if(e.inArray(r,["resize","floatMe","removeMedia","imageShape"])!==-1){var h=l.handle().find(".note-control-selection");c=e(h.data("target"))}a&&n.parents(".popover").hide();if(o[r]){var p=l.editable();p.trigger("focus"),o[r](p,i,c)}else m[r]&&m[r].call(this,l);if(e.inArray(r,["backColor","foreColor"])!==-1){var v=l.editor().data("options",v),g=v.airMode?f:u;g.updateRecentColor(s.head(n),r,i)}N(t)}},M=24,_=function(e){e.preventDefault(),e.stopPropagation();var t=d(e.target).editable(),r=t.offset().top-n.scrollTop(),i=d(e.currentTarget||e.target),s=i.editor().data("options");n.on("mousemove",function(e){var n=e.clientY-(r+M);n=s.minHeight>0?Math.max(n,s.minHeight):n,n=s.maxHeight>0?Math.min(n,s.maxHeight):n,t.height(n)}).one("mouseup",function(){n.off("mousemove")})},D=18,P=function(t,n){var r=e(t.target.parentNode),i=r.next(),s=r.find(".note-dimension-picker-mousecatcher"),o=r.find(".note-dimension-picker-highlighted"),u=r.find(".note-dimension-picker-unhighlighted"),a;if(t.offsetX===undefined){var f=e(t.target).offset();a={x:t.pageX-f.left,y:t.pageY-f.top}}else a={x:t.offsetX,y:t.offsetY};var l={c:Math.ceil(a.x/D)||1,r:Math.ceil(a.y/D)||1};o.css({width:l.c+"em",height:l.r+"em"}),s.attr("data-value",l.c+"x"+l.r),3<l.c&&l.c<n.insertTableMaxSize.col&&u.css({width:l.c+1+"em"}),3<l.r&&l.r<n.insertTableMaxSize.row&&u.css({height:l.r+1+"em"}),i.html(l.c+" x "+l.r)},H=function(e,t){t?n.on("drop",function(e){e.preventDefault()}):B(e)},B=function(t){var r=e(),i=t.dropzone,s=t.dropzone.find(".note-dropzone-message");n.on("dragenter",function(e){var n=t.editor.hasClass("codeview");!n&&!r.length&&(t.editor.addClass("dragover"),i.width(t.editor.width()),i.height(t.editor.height()),s.text("Drag Image Here")),r=r.add(e.target)}).on("dragleave",function(e){r=r.not(e.target),r.length||t.editor.removeClass("dragover")}).on("drop",function(){r=e(),t.editor.removeClass("dragover")}),i.on("dragenter",function(){i.addClass("hover"),s.text("Drop Image")}).on("dragleave",function(){i.removeClass("hover"),s.text("Drag Image Here")}),i.on("drop",function(e){e.preventDefault();var t=e.originalEvent.dataTransfer;if(t&&t.files){var n=d(e.currentTarget||e.target);n.editable().focus(),v(n.editable(),t.files)}}).on("dragover",!1)};this.bindKeyMap=function(e,t){var n=e.editor,r=e.editable;e=d(r),r.on("keydown",function(i){var s=[];i.metaKey&&s.push("CMD"),i.ctrlKey&&!i.altKey&&s.push("CTRL"),i.shiftKey&&s.push("SHIFT");var u=c.nameFromCode[i.keyCode];u&&s.push(u);var a=t[s.join("+")];a?(i.preventDefault(),o[a]?o[a](r,n.data("options")):m[a]&&m[a].call(this,e)):c.isEdit(i.keyCode)&&o.afterCommand(r)})},this.attach=function(e,t){this.bindKeyMap(e,t.keyMap[r.isMac?"mac":"pc"]),e.editable.on("mousedown",b),e.editable.on("keyup mouseup",N),e.editable.on("scroll",C),e.editable.on("paste",k),e.handle.on("mousedown",L),e.popover.on("click",O),e.popover.on("mousedown",A),t.airMode||(H(e,t.disableDragAndDrop),e.toolbar.on("click",O),e.toolbar.on("mousedown",A),t.disableResizeEditor||e.statusbar.on("mousedown",_));var n=t.airMode?e.popover:e.toolbar,i=n.find(".note-dimension-picker-mousecatcher");i.css({width:t.insertTableMaxSize.col+"em",height:t.insertTableMaxSize.row+"em"}).on("mousemove",function(e){P(e,t)}),e.editor.data("options",t),t.styleWithSpan&&!r.isMSIE&&setTimeout(function(){document.execCommand("styleWithCSS",0,!0)},0);var s=new y(e.editable);e.editable.data("NoteHistory",s),t.onenter&&e.editable.keypress(function(e){e.keyCode===c.ENTER&&t.onenter(e)}),t.onfocus&&e.editable.focus(t.onfocus),t.onblur&&e.editable.blur(t.onblur),t.onkeyup&&e.editable.keyup(t.onkeyup),t.onkeydown&&e.editable.keydown(t.onkeydown),t.onpaste&&e.editable.on("paste",t.onpaste),t.onToolbarClick&&e.toolbar.click(t.onToolbarClick);if(t.onChange){var u=function(){o.triggerOnChange(e.editable)};if(r.isMSIE){var a="DOMCharacterDataModified DOMSubtreeModified DOMNodeInserted";e.editable.on(a,u)}else e.editable.on("input",u)}e.editable.data("callbacks",{onChange:t.onChange,onAutoSave:t.onAutoSave,onImageUpload:t.onImageUpload,onImageUploadError:t.onImageUploadError,onFileUpload:t.onFileUpload,onFileUploadError:t.onFileUpload})},this.dettach=function(e,t){e.editable.off(),e.popover.off(),e.handle.off(),e.dialog.off(),t.airMode||(e.dropzone.off(),e.toolbar.off(),e.statusbar.off())}},C=function(){var t=function(e,t){var n=t.event,r=t.value,i=t.title,s=t.className,o=t.dropdown,u=t.hide;return'<button type="button" class="btn btn-default btn-sm btn-small'+(s?" "+s:"")+(o?" dropdown-toggle":"")+'"'+(o?' data-toggle="dropdown"':"")+(i?' title="'+i+'"':"")+(n?' data-event="'+n+'"':"")+(r?" data-value='"+r+"'":"")+(u?" data-hide='"+u+"'":"")+' tabindex="-1">'+e+(o?' <span class="caret"></span>':"")+"</button>"+(o||"")},n=function(e,n){var r='<i class="'+e+'"></i>';return t(r,n)},s=function(e,t){return'<div class="'+e+' popover bottom in" style="display: none;">'+'<div class="arrow"></div>'+'<div class="popover-content">'+t+"</div>"+"</div>"},o=function(e,t,n,r){return'<div class="'+e+' modal" aria-hidden="false">'+'<div class="modal-dialog">'+'<div class="modal-content">'+(t?'<div class="modal-header"><button type="button" class="close" aria-hidden="true" tabindex="-1">&times;</button><h4 class="modal-title">'+t+"</h4>"+"</div>":"")+'<form class="note-modal-form">'+'<div class="modal-body">'+'<div class="row-fluid">'+n+"</div>"+"</div>"+(r?'<div class="modal-footer">'+r+"</div>":"")+"</form>"+"</div>"+"</div>"+"</div>"},u={picture:function(e){return n("fa fa-picture-o icon-picture",{event:"showImageDialog",title:e.image.image,hide:!0})},link:function(e){return n("fa fa-link icon-link",{event:"showLinkDialog",title:e.link.link,hide:!0})},video:function(e){return n("fa fa-youtube-play icon-play",{event:"showVideoDialog",title:e.video.video,hide:!0})},table:function(e){var t='<ul class="note-table dropdown-menu"><div class="note-dimension-picker"><div class="note-dimension-picker-mousecatcher" data-event="insertTable" data-value="1x1"></div><div class="note-dimension-picker-highlighted"></div><div class="note-dimension-picker-unhighlighted"></div></div><div class="note-dimension-display"> 1 x 1 </div></ul>';return n("fa fa-table icon-table",{title:e.table.table,dropdown:t})},style:function(e,t){var r=t.styleTags.reduce(function(t,n){var r=e.style[n==="p"?"normal":n];return t+'<li><a data-event="formatBlock" href="#" data-value="'+n+'">'+(n==="p"||n==="pre"?r:"<"+n+">"+r+"</"+n+">")+"</a></li>"},"");return n("fa fa-magic icon-magic",{title:e.style.style,dropdown:'<ul class="dropdown-menu">'+r+"</ul>"})},fontname:function(e,n){var i=n.fontNames.reduce(function(e,t){return r.isFontInstalled(t)?e+'<li><a data-event="fontName" href="#" data-value="'+t+'">'+'<i class="fa fa-check icon-ok"></i> '+t+"</a></li>":e},""),s='<span class="note-current-fontname">'+n.defaultFontName+"</span>";return t(s,{title:e.font.name,dropdown:'<ul class="dropdown-menu">'+i+"</ul>"})},fontsize:function(e,n){var r=n.fontSizes.reduce(function(e,t){return e+'<li><a data-event="fontSize" href="#" data-value="'+t+'">'+'<i class="fa fa-check icon-ok"></i> '+t+"</a></li>"},""),i='<span class="note-current-fontsize">11</span>';return t(i,{title:e.font.size,dropdown:'<ul class="dropdown-menu">'+r+"</ul>"})},color:function(e){var n='<i class="fa fa-font icon-font" style="color:black;background-color:yellow;"></i>',r=t(n,{className:"note-recent-color",title:e.color.recent,event:"color",value:'{"backColor":"yellow"}'}),i='<ul class="dropdown-menu"><li><div class="btn-group"><div class="note-palette-title">'+e.color.background+"</div>"+'<div class="note-color-reset" data-event="backColor"'+' data-value="inherit" title="'+e.color.transparent+'">'+e.color.setTransparent+"</div>"+'<div class="note-color-palette" data-target-event="backColor"></div>'+"</div>"+'<div class="btn-group">'+'<div class="note-palette-title">'+e.color.foreground+"</div>"+'<div class="note-color-reset" data-event="foreColor" data-value="inherit" title="'+e.color.reset+'">'+e.color.resetToDefault+"</div>"+'<div class="note-color-palette" data-target-event="foreColor"></div>'+"</div>"+"</li>"+"</ul>",s=t("",{title:e.color.more,dropdown:i});return r+s},bold:function(e){return n("fa fa-bold icon-bold",{event:"bold",title:e.font.bold})},italic:function(e){return n("fa fa-italic icon-italic",{event:"italic",title:e.font.italic})},underline:function(e){return n("fa fa-underline icon-underline",{event:"underline",title:e.font.underline})},strikethrough:function(e){return n("fa fa-strikethrough icon-strikethrough",{event:"strikethrough",title:e.font.strikethrough})},superscript:function(e){return n("fa fa-superscript icon-superscript",{event:"superscript",title:e.font.superscript})},subscript:function(e){return n("fa fa-subscript icon-subscript",{event:"subscript",title:e.font.subscript})},clear:function(e){return n("fa fa-eraser icon-eraser",{event:"removeFormat",title:e.font.clear})},ul:function(e){return n("fa fa-list-ul icon-list-ul",{event:"insertUnorderedList",title:e.lists.unordered})},ol:function(e){return n("fa fa-list-ol icon-list-ol",{event:"insertOrderedList",title:e.lists.ordered})},paragraph:function(e){var t=n("fa fa-align-left icon-align-left",{title:e.paragraph.left,event:"justifyLeft"}),r=n("fa fa-align-center icon-align-center",{title:e.paragraph.center,event:"justifyCenter"}),i=n("fa fa-align-right icon-align-right",{title:e.paragraph.right,event:"justifyRight"}),s=n("fa fa-align-justify icon-align-justify",{title:e.paragraph.justify,event:"justifyFull"}),o=n("fa fa-outdent icon-indent-left",{title:e.paragraph.outdent,event:"outdent"}),u=n("fa fa-indent icon-indent-right",{title:e.paragraph.indent,event:"indent"}),a='<div class="dropdown-menu"><div class="note-align btn-group">'+t+r+i+s+"</div>"+'<div class="note-list btn-group">'+u+o+"</div>"+"</div>";return n("fa fa-align-left icon-align-left",{title:e.paragraph.paragraph,dropdown:a})},height:function(e,t){var r=t.lineHeights.reduce(function(e,t){return e+'<li><a data-event="lineHeight" href="#" data-value="'+parseFloat(t)+'">'+'<i class="fa fa-check icon-ok"></i> '+t+"</a></li>"},"");return n("fa fa-text-height icon-text-height",{title:e.font.height,dropdown:'<ul class="dropdown-menu">'+r+"</ul>"})},help:function(e){return n("fa fa-question icon-question",{event:"showHelpDialog",title:e.options.help,hide:!0})},fullscreen:function(e){return n("fa fa-arrows-alt icon-fullscreen",{event:"fullscreen",title:e.options.fullscreen})},codeview:function(e){return n("fa fa-code icon-code",{event:"codeview",title:e.options.codeview})},undo:function(e){return n("fa fa-undo icon-undo",{event:"undo",title:e.history.undo})},redo:function(e){return n("fa fa-repeat icon-repeat",{event:"redo",title:e.history.redo})},hr:function(e){return n("fa fa-minus icon-hr",{event:"insertHorizontalRule",title:e.hr.insert})}},f=function(e,r){var i=function(){var t=n("fa fa-edit icon-edit",{title:e.link.edit,event:"showLinkDialog",hide:!0}),r=n("fa fa-unlink icon-unlink",{title:e.link.unlink,event:"unlink"}),i='<a href="http://www.google.com" target="_blank">www.google.com</a>&nbsp;&nbsp;<div class="note-insert btn-group">'+t+r+"</div>";return s("note-link-popover",i)},o=function(){var r=t('<span class="note-fontsize-10">100%</span>',{title:e.image.resizeFull,event:"resize",value:"1"}),i=t('<span class="note-fontsize-10">50%</span>',{title:e.image.resizeHalf,event:"resize",value:"0.5"}),o=t('<span class="note-fontsize-10">25%</span>',{title:e.image.resizeQuarter,event:"resize",value:"0.25"}),u=n("fa fa-align-left icon-align-left",{title:e.image.floatLeft,event:"floatMe",value:"left"}),a=n("fa fa-align-right icon-align-right",{title:e.image.floatRight,event:"floatMe",value:"right"}),f=n("fa fa-align-justify icon-align-justify",{title:e.image.floatNone,event:"floatMe",value:"none"}),l=n("fa fa-square icon-unchecked",{title:e.image.shapeRounded,event:"imageShape",value:"img-rounded"}),c=n("fas fa-circle-o icon-circle-blank",{title:e.image.shapeCircle,event:"imageShape",value:"img-circle"}),h=n("fa fa-picture-o icon-picture",{title:e.image.shapeThumbnail,event:"imageShape",value:"img-thumbnail"}),p=n("fa fa-times icon-times",{title:e.image.shapeNone,event:"imageShape",value:""}),d=n("fa fa-trash-o icon-trash",{title:e.image.remove,event:"removeMedia",value:"none"}),v='<div class="btn-group">'+r+i+o+"</div>"+'<div class="btn-group">'+u+a+f+"</div>"+'<div class="btn-group">'+l+c+h+p+"</div>"+'<div class="btn-group">'+d+"</div>";return s("note-image-popover",v)},a=function(){var t="";for(var n=0,i=r.airPopover.length;n<i;n++){var o=r.airPopover[n];t+='<div class="note-'+o[0]+' btn-group">';for(var a=0,f=o[1].length;a<f;a++)t+=u[o[1][a]](e,r);t+="</div>"}return s("note-air-popover",t)};return'<div class="note-popover">'+i()+o()+(r.airMode?a():"")+"</div>"},l=function(){return'<div class="note-handle"><div class="note-control-selection"><div class="note-control-selection-bg"></div><div class="note-control-holder note-control-nw"></div><div class="note-control-holder note-control-ne"></div><div class="note-control-holder note-control-sw"></div><div class="note-control-sizing note-control-se"></div><div class="note-control-selection-info"></div></div></div>'},c=function(e,t){return'<table class="note-shortcut"><thead><tr><th></th><th>'+e+"</th></tr>"+"</thead>"+"<tbody>"+t+"</tbody>"+"</table>"},h=function(e){var t="<tr><td> + B</td><td>"+e.font.bold+"</td></tr>"+"<tr><td> + I</td><td>"+e.font.italic+"</td></tr>"+"<tr><td> + U</td><td>"+e.font.underline+"</td></tr>"+"<tr><td> +  + S</td><td>"+e.font.strikethrough+"</td></tr>"+"<tr><td> + \\</td><td>"+e.font.clear+"</td></tr>";return c(e.shortcut.textFormatting,t)},p=function(e){var t="<tr><td> + Z</td><td>"+e.history.undo+"</td></tr>"+"<tr><td> +  + Z</td><td>"+e.history.redo+"</td></tr>"+"<tr><td> + ]</td><td>"+e.paragraph.indent+"</td></tr>"+"<tr><td> + [</td><td>"+e.paragraph.outdent+"</td></tr>"+"<tr><td> + ENTER</td><td>"+e.hr.insert+"</td></tr>";return c(e.shortcut.action,t)},d=function(e){var t="<tr><td> +  + L</td><td>"+e.paragraph.left+"</td></tr>"+"<tr><td> +  + E</td><td>"+e.paragraph.center+"</td></tr>"+"<tr><td> +  + R</td><td>"+e.paragraph.right+"</td></tr>"+"<tr><td> +  + J</td><td>"+e.paragraph.justify+"</td></tr>"+"<tr><td> +  + NUM7</td><td>"+e.lists.ordered+"</td></tr>"+"<tr><td> +  + NUM8</td><td>"+e.lists.unordered+"</td></tr>";return c(e.shortcut.paragraphFormatting,t)},v=function(e){var t="<tr><td> + NUM0</td><td>"+e.style.normal+"</td></tr>"+"<tr><td> + NUM1</td><td>"+e.style.h1+"</td></tr>"+"<tr><td> + NUM2</td><td>"+e.style.h2+"</td></tr>"+"<tr><td> + NUM3</td><td>"+e.style.h3+"</td></tr>"+"<tr><td> + NUM4</td><td>"+e.style.h4+"</td></tr>"+"<tr><td> + NUM5</td><td>"+e.style.h5+"</td></tr>"+"<tr><td> + NUM6</td><td>"+e.style.h6+"</td></tr>";return c(e.shortcut.documentStyle,t)},m=function(e,t){var n=t.extraKeys,r="";for(var i in n)n.hasOwnProperty(i)&&(r+="<tr><td>"+i+"</td><td>"+n[i]+"</td></tr>");return c(e.shortcut.extraKeys,r)},g=function(e,t){var n='<table class="note-shortcut-layout"><tbody><tr><td>'+p(e,t)+"</td><td>"+h(e,t)+"</td></tr>"+"<tr><td>"+v(e,t)+"</td><td>"+d(e,t)+"</td></tr>";return t.extraKeys&&(n+='<tr><td colspan="2">'+m(e,t)+"</td></tr>"),n+="</tbody></table>",n},y=function(e){return e.replace(//g,"Ctrl").replace(//g,"Shift")},b=function(e,t){var n=function(){var t='<div class="note-group-select-from-files"><h5>'+e.image.selectFromFiles+"</h5>"+'<input class="note-image-input" type="file" name="files" accept="image/*" />'+"</div>"+"<h5>"+e.image.url+"</h5>"+'<input class="note-image-url form-control span12" type="text" />',n='<button href="#" class="btn btn-primary note-image-btn disabled" disabled>'+e.image.insert+"</button>";return o("note-image-dialog",e.image.insert,t,n)},i=function(){var n='<div class="form-group"><label>'+e.link.textToDisplay+"</label>"+'<input class="note-link-text form-control span12" type="text" />'+"</div>"+'<div class="form-group">'+"<label>"+e.link.url+"</label>"+'<input class="note-link-url form-control span12" type="text" />'+"</div>"+(t.disableLinkTarget?"":'<div class="checkbox"><label><input type="checkbox" checked> '+e.link.openInNewWindow+"</label>"+"</div>"),r='<button href="#" class="btn btn-primary note-link-btn disabled" disabled>'+e.link.insert+"</button>";return o("note-link-dialog",e.link.insert,n,r)},s=function(){var t='<div class="form-group"><label>'+e.video.url+'</label>&nbsp;<small class="text-muted">'+e.video.providers+"</small>"+'<input class="note-video-url form-control span12" type="text" />'+"</div>",n='<button href="#" class="btn btn-primary note-video-btn disabled" disabled>'+e.video.insert+"</button>";return o("note-video-dialog",e.video.insert,t,n)},u=function(){var n='<a class="modal-close pull-right" aria-hidden="true" tabindex="-1">'+e.shortcut.close+"</a>"+'<div class="title">'+e.shortcut.shortcuts+"</div>"+(r.isMac?g(e,t):y(g(e,t)))+'<p class="text-center">'+'<a href="//hackerwins.github.io/summernote/" target="_blank">Summernote 0.5.10</a>  '+'<a href="//github.com/HackerWins/summernote" target="_blank">Project</a>  '+'<a href="//github.com/HackerWins/summernote/issues" target="_blank">Issues</a>'+"</p>";return o("note-help-dialog","",n,"")};return'<div class="note-dialog">'+n()+i()+s()+u()+"</div>"},w=function(){return'<div class="note-resizebar"><div class="note-icon-bar"></div><div class="note-icon-bar"></div><div class="note-icon-bar"></div></div>'},E=function(e){return r.isMac&&(e=e.replace("CMD","").replace("SHIFT","")),e.replace("BACKSLASH","\\").replace("SLASH","/").replace("LEFTBRACKET","[").replace("RIGHTBRACKET","]")},S=function(t,n,r){var s=i.invertObject(n),o=t.find("button");o.each(function(t,n){var r=e(n),i=s[r.data("event")];i&&r.attr("title",function(e,t){return t+" ("+E(i)+")"})}).tooltip({container:"body",trigger:"hover",placement:r||"top"}).on("click",function(){e(this).tooltip("hide")})},x=function(t,n){var r=n.colors;t.find(".note-color-palette").each(function(){var t=e(this),n=t.attr("data-target-event"),i=[];for(var s=0,o=r.length;s<o;s++){var u=r[s],a=[];for(var f=0,l=u.length;f<l;f++){var c=u[f];a.push(['<button type="button" class="note-color-btn" style="background-color:',c,';" data-event="',n,'" data-value="',c,'" title="',c,'" data-toggle="button" tabindex="-1"></button>'].join(""))}i.push('<div class="note-color-row">'+a.join("")+"</div>")}t.html(i.join(""))})};this.createLayoutByAirMode=function(t,n){var s=n.keyMap[r.isMac?"mac":"pc"],o=e.extend(e.summernote.lang["en-US"],e.summernote.lang[n.lang]),u=i.uniqueId();t.addClass("note-air-editor note-editable"),t.attr({id:"note-editor-"+u,contentEditable:!0});var a=document.body,c=e(f(o,n));c.addClass("note-air-layout"),c.attr("id","note-popover-"+u),c.appendTo(a),S(c,s),x(c,n);var h=e(l());h.addClass("note-air-layout"),h.attr("id","note-handle-"+u),h.appendTo(a);var p=e(b(o,n));p.addClass("note-air-layout"),p.attr("id","note-dialog-"+u),p.find("button.close, a.modal-close").click(function(){e(this).closest(".modal").modal("hide")}),p.appendTo(a)},this.createLayoutByFrame=function(t,n){var i=e('<div class="note-editor"></div>');n.width&&i.width(n.width),n.height>0&&e('<div class="note-statusbar">'+(n.disableResizeEditor?"":w())+"</div>").prependTo(i);var s=!t.is(":disabled"),o=e('<div class="note-editable" contentEditable="'+s+'"></div>').prependTo(i);n.height&&o.height(n.height),n.direction&&o.attr("dir",n.direction),o.html(a.html(t)||a.emptyPara),e('<textarea class="note-codable"></textarea>').prependTo(i);var c=e.extend(e.summernote.lang["en-US"],e.summernote.lang[n.lang]),h="";for(var p=0,d=n.toolbar.length;p<d;p++){var v=n.toolbar[p][0],m=n.toolbar[p][1];h+='<div class="note-'+v+' btn-group">';for(var g=0,y=m.length;g<y;g++){if(!e.isFunction(u[m[g]]))continue;h+=u[m[g]](c,n)}h+="</div>"}h='<div class="note-toolbar btn-toolbar">'+h+"</div>";var E=e(h).prependTo(i),T=n.keyMap[r.isMac?"mac":"pc"];x(E,n),S(E,T,"bottom");var N=e(f(c,n)).prependTo(i);x(N,n),S(N,T),e(l()).prependTo(i);var C=e(b(c,n)).prependTo(i);C.find("button.close, a.modal-close").click(function(){e(this).closest(".modal").modal("hide")}),e('<div class="note-dropzone"><div class="note-dropzone-message"></div></div>').prependTo(i),i.insertAfter(t),t.hide()},this.noteEditorFromHolder=function(t){return t.hasClass("note-air-editor")?t:t.next().hasClass("note-editor")?t.next():e()},this.createLayout=function(e,t){if(this.noteEditorFromHolder(e).length)return;t.airMode?this.createLayoutByAirMode(e,t):this.createLayoutByFrame(e,t)},this.layoutInfoFromHolder=function(e){var t=this.noteEditorFromHolder(e);if(!t.length)return;var n=a.buildLayoutInfo(t);for(var r in n)n.hasOwnProperty(r)&&(n[r]=n[r].call());return n},this.removeLayout=function(e,t,n){n.airMode?(e.removeClass("note-air-editor note-editable").removeAttr("id contentEditable"),t.popover.remove(),t.handle.remove(),t.dialog.remove()):(e.html(t.editable.html()),t.editor.remove(),e.show())}};e.summernote=e.summernote||{},e.extend(e.summernote,f);var k=new C,L=new N;e.fn.extend({summernote:function(t){t=e.extend({},e.summernote.options,t),this.each(function(n,r){var i=e(r);k.createLayout(i,t);var s=k.layoutInfoFromHolder(i);L.attach(s,t),a.isTextarea(i[0])&&i.closest("form").submit(function(){i.val(i.code())})});if(this.first().length&&t.focus){var n=k.layoutInfoFromHolder(this.first());n.editable.focus()}return this.length&&t.oninit&&t.oninit(),this},code:function(t){if(t===undefined){var n=this.first();if(!n.length)return;var i=k.layoutInfoFromHolder(n);if(!i||!i.editable)return a.isTextarea(n[0])?n.val():n.html();var s=i.editor.hasClass("codeview");return s&&r.hasCodeMirror&&i.codable.data("cmEditor").save(),s?i.codable.val():i.editable.html()}return this.each(function(n,r){var i=k.layoutInfoFromHolder(e(r));i&&i.editable&&i.editable.html(t)}),this},destroy:function(){return this.each(function(t,n){var r=e(n),i=k.layoutInfoFromHolder(r);if(!i||!i.editable)return;var s=i.editor.data("options");L.dettach(i,s),k.removeLayout(r,i,s)}),this}})})